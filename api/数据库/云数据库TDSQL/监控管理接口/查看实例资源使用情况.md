## 1. 接口描述
本接口(CdbTdsqlGetResourceUsageInfo)用于查看数据库实例资源的使用情况。
接口请求域名：<font style="color:red">tdsql.api.qcloud.com</font>

## 2. 输入参数
以下请求参数列表仅列出了接口请求参数，正式调用时需要加上公共请求参数，见公共请求参数页面。

| 参数名称 | 必选  | 类型 | 描述 |
|---------|---------|---------|---------|
| cdbInstanceId | 是 | Int | 实例ID|
| shardId | 否 | Int | 分片id, 0的时候表示获取整个集群的监控或者单机实例的监控|
| startTime | 是 | date | 开始日期，格式yyyy-mm-dd|
| endTime | 是 | date | 结束日期，格式yyyy-mm-dd|

## 3. 输出参数
公共返回值结构在[返回值](/doc/api/309/5381)可以查看，此处只列出data字段的返回值格式。

返回值为对应性能的点阵。
将startTime和endTime中间的时间段等分为288份，返回结果按时间顺序先后返回各个时间份的数据值，
连续时间份如果值相同将被合并为{份数，值}的形式

| 返回参数 | 意义 |
|---------|----|
| data_disk_available | 磁盘可用空间 |
| binlog_disk_available | binlog可用空间 |
| mem_available | 内存可用空间 |
| cpu_usage_rate | CPU使用率 |


## 4. 示例
输入
```
https://tdsql.api.qcloud.com/v2/index.php?
&<公共请求参数>
&Action=CdbTdsqlGetResourceUsageInfo
&cdbInstanceId=40732
&startTime=2016-07-17
&endTime=2016-07-18
```

输出
```
{
    "code": 0,
    "message": "",
    "codeDesc": "Success",
    "data": {
        "binlog_disk_available": {
            "StartTime": "2016-07-17 00:00:00",
            "EndTime": "2016-07-18 23:59:59",
            "Data": [
                [
                    161,
                    20.89
                ],
                [
                    91,
                    20.88
                ],
                [
                    36,
                    null
                ]
            ]
        },
        "cpu_usage_rate": {
            "StartTime": "2016-07-17 00:00:00",
            "EndTime": "2016-07-18 23:59:59",
            "Data": [
                37,
                28,
                [
                    4,
                    39
                ],
                42,
                41,
                42,
                41,
                42,
                [
                    2,
                    40
                ],
                39,
                [
                    2,
                    40
                ],
                43,
                39,
                45,
                [
                    3,
                    39
                ],
                44,
                43,
                [
                    3,
                    39
                ],
                [
                    2,
                    40
                ],
                42,
                41,
                [
                    2,
                    40
                ],
                [
                    4,
                    39
                ],
                40,
                39,
                42,
                39,
                42,
                [
                    4,
                    22
                ],
                31,
                28,
                26,
                27,
                29,
                42,
                7,
                22,
                19,
                [
                    3,
                    5
                ],
                18,
                15,
                21,
                5,
                15,
                [
                    3,
                    5
                ],
                6,
                [
                    3,
                    5
                ],
                6,
                [
                    10,
                    5
                ],
                6,
                5,
                6,
                [
                    5,
                    5
                ],
                6,
                [
                    8,
                    5
                ],
                6,
                [
                    5,
                    5
                ],
                6,
                [
                    51,
                    5
                ],
                12,
                [
                    2,
                    5
                ],
                20,
                23,
                21,
                25,
                5,
                27,
                20,
                [
                    2,
                    23
                ],
                21,
                20,
                21,
                19,
                39,
                33,
                29,
                [
                    5,
                    39
                ],
                42,
                40,
                44,
                40,
                41,
                39,
                42,
                39,
                43,
                [
                    2,
                    39
                ],
                [
                    2,
                    41
                ],
                39,
                41,
                42,
                46,
                [
                    2,
                    39
                ],
                41,
                40,
                39,
                41,
                45,
                40,
                43,
                44,
                40,
                46,
                [
                    2,
                    39
                ],
                [
                    2,
                    40
                ],
                41,
                44,
                39,
                40,
                41,
                [
                    2,
                    40
                ],
                [
                    2,
                    39
                ],
                34,
                [
                    3,
                    40
                ],
                39,
                [
                    2,
                    40
                ],
                37,
                39,
                40,
                37,
                39,
                31,
                38,
                33,
                34,
                30,
                6,
                22,
                23,
                24,
                [
                    2,
                    22
                ],
                19,
                18,
                6,
                14,
                6,
                [
                    2,
                    5
                ],
                [
                    36,
                    null
                ]
            ]
        },
        "data_disk_available": {
            "StartTime": "2016-07-17 00:00:00",
            "EndTime": "2016-07-18 23:59:59",
            "Data": [
                [
                    252,
                    100
                ],
                [
                    36,
                    null
                ]
            ]
        },
        "mem_available": {
            "StartTime": "2016-07-17 00:00:00",
            "EndTime": "2016-07-18 23:59:59",
            "Data": [
                [
                    231,
                    3.91
                ],
                [
                    21,
                    3.9
                ],
                [
                    36,
                    null
                ]
            ]
        }
    }
}
```

