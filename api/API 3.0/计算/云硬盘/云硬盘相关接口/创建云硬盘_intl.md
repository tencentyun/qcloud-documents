## 1. API Description

Domain name for API request: cbs.tencentcloudapi.com

This API (CreateDisks) is used to create cloud disks.

* For prepaid cloud disks, the required amount for the purchased cloud disk will be pre-deducted. Make sure your account balance is sufficient before calling this API.
* This API supports creating a cloud disk using a data disk snapshot, so that the snapshot data can be copied to the purchased cloud disk.
* This API is an asynchronous API. A cloud disk ID list will be returned when the creation request is issued successfully, but the cloud disk is not created immediately. You can call the API [DescribeDisks](/document/product/362/16315) to query the cloud disk by DiskId. If the cloud disk can be found and its status is 'UNATTACHED' or 'ATTACHED', the cloud disk is created successfully.

A maximum of 20 requests can be initiated per second for this API.

Note: This API supports Finance regions. If the common parameter Region is a Finance region, a domain name with the Finance region needs to be specified, for example: cbs.ap-shanghai-fsi.tencentcloudapi.com



## 2. Input Parameters

The following request parameter list only provides API request parameters and some common parameters. For the complete common parameter list, see [Common Request Parameters](/document/api/362/15692).

| Parameter Name | Required | Type | Description |
|---------|---------|---------|---------|
| Action | Yes | String | Common parameter. The value used for this API: CreateDisks |
| Version | Yes |  String | Common parameter. The value used for this API: 2017-03-12 |
| Region | Yes |  String | Common parameter. For more information, please see the [list of regions](/document/api/362/15692#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8) supported by the product. |
| DiskType | Yes | String | Type of cloud disk medium. Value range:<br><li>CLOUD_BASIC: HDD cloud disk<br><li>CLOUD_PREMIUM: Premium cloud disk<br><li>CLOUD_SSD: SSD cloud disk. |
| DiskChargeType | Yes | String | Billing type of the cloud disk.<br><li> PREPAID: prepaid (by year/month) <br><li>POSTPAID_BY_HOUR: postpaid by hour <br> For more information on prices for different types of cloud disks, please see CBS [Price Overview](/document/product/362/2413). |
| Placement | Yes | [Placement](/document/api/362/##Placement) | Location of the instance. This parameter is used to specify the availability zone and project to which the instance belongs. If the project is not specified, the instance is created in the default project. |
| DiskName | No | String | The displayed name of the cloud disk. It defaults to "Not named" if left empty. The maximum length cannot exceed 60 bytes. |
| DiskCount | No | Integer | The number of cloud disks to be created. It defaults to 1 if left empty. There is a limit to the maximum number of cloud disks that can be created for a single request. For more information, please see [CBS Use Limits](https://cloud.tencent.com/doc/product/362/5145) |
| DiskChargePrepaid | No | [DiskChargePrepaid](/document/api/362/##DiskChargePrepaid) | Prepaid mode, which is the relevant parameter setting for prepaid mode. This parameter is used to specify the purchased usage period, whether to set automatic renewal and other attributes of the cloud disk purchased on a prepaid basis. <br> This parameter is required to create a prepaid cloud disk, while it is not required for a postpaid cloud disk on an hourly basis. |
| DiskSize | No | Integer | Cloud disk size (in GB).<br><li> If `SnapshotId` is specified and `DiskSize` is not specified, the size of the created cloud disk equals to that of the snapshot. <br><li>If both `SnapshotId` and `DiskSize` are specified, the size of the created cloud disk must be greater than or equal to that of the snapshot.<br><li> For more information on the value range of cloud disks, please see CBS [Product Category](/document/product/362/2353). |
| SnapshotId | No | String | Snapshot ID. If this parameter is specified, the cloud disk is created based on the snapshot. The snapshot type must be a data disk snapshot. The snapshot can be queried in the DiskUsage field in the output parameter through the API [DescribeSnapshots](/document/product/362/15647). | |
| ClientToken | No |  String | A string to ensure the idempotency of the request, which is generated by the client. Each request shall have a unique string with a maximum of 64 ASCII characters. If this parameter is not specified, the idempotency of the request cannot be ensured. |
| Encrypt | No | String | This parameter is used to create an encrypted cloud disk. Its value is always ENCRYPT. |
| Tags.N | No | Array of [Tag](/document/api/362/##Tag) | The tag bound to the cloud disk. |

## 3. Output Parameters

| Parameter Name | Type | Description |
|---------|---------|---------|
| DiskIdSet | Array of String | List of IDs of the created cloud disks. |
| RequestId | String | The unique request ID, which is returned for each request. RequestId is required for locating a problem. |

## 4. Error Codes

The following only lists the error codes related to the API business logic. For other error codes, see [Common Error Codes](/document/api/362/15694#.E5.85.AC.E5.85.B1.E9.94.99.E8.AF.AF.E7.A0.81).

| Error Code | Description |
|---------|---------|
| InvalidParameter.DiskConfigNotSupported | The cloud disk with current configuration is not supported in the region. |
| InvalidParameterValue | Invalid parameter value. The parameter value is in an incorrect format or is not supported. |
| MissingParameter | Parameter is missing. A required parameter is missing in the request. |
| TradeDealConflict | Order conflict. |
| UnauthorizedOperation | Unauthorized operation |

## 5. Example

### Example 1 Purchase a cloud disk based on basic parameters

#### Input example

```
https://cbs.tencentcloudapi.com/?Action=CreateDisks
&DiskType=CLOUD_BASIC
&DiskCount=1
&DiskSize=50
&Placement.Zone=ap-guangzhou-2
&Placement.ProjectId=0
&DiskChargeType=PREPAID
&DiskChargePrepaid.Period=1
&DiskChargePrepaid.RenewFlag=NOTIFY_AND_AUTO_RENEW
&<Common request parameters>
```

#### Output example

```
{
  "Response": {
    "DiskIdSet": [
      "disk-lzrg2pwi"
    ],
    "RequestId": "6a57da9a-2049-7182-2de3-5a1f8014ccfd"
  }
}
```

### Example 2 Create a cloud disk based on snapshot

#### Input example

```
https://cbs.tencentcloudapi.com/?Action=CreateDisks
&DiskType=CLOUD_BASIC
&DiskCount=1
&SnapshotId=snap-iepc4w3h
&Placement.Zone=ap-guangzhou-2
&Placement.ProjectId=0
&DiskChargeType=PREPAID
&DiskChargePrepaid.Period=1
&DiskChargePrepaid.RenewFlag=NOTIFY_AND_AUTO_RENEW
&<Common request parameters>
```

#### Output example

```
{
  "Response": {
    "DiskIdSet": [
      "disk-6rz0ilvu"
    ],
    "RequestId": "5e93a212-ca01-0fdc-eedd-5a1fce5e83e6"
  }
}
```

### Example 3 Inquire the price for purchasing a postpaid cloud disk on an hourly basis

#### Input example

```
https://cbs.tencentcloudapi.com/?Action=CreateDisks
&DiskType=CLOUD_PREMIUM
&DiskCount=1
&Placement.Zone=ap-guangzhou-3
&Placement.ProjectId=0
&DiskChargeType=POSTPAID_BY_HOUR
&DiskName=postPayDisk
&DiskSize=100
&<Common request parameters>
```

#### Output example

```
{
  "Response": {
    "DiskIdSet": [
      "disk-ecjc4cpw"
    ],
    "RequestId": "fe2274fa-eaec-4009-807b-6ffc00963fec"
  }
}
```


