## 1. API Description

This API (Encrypt) is used to encrypt data under 4 KB in size, such as RSA keys, database keys, or sensitive customer information.

For more information on KMS request domain name  API, see [region and domain name](https://cloud.tencent.com/document/product/573/8922).
> Whenever (including during internal trial) any public network downstream traffic is generated from the use of a public network domain name, a fee is charged. It is strongly recommended that users whose services are on the Tencent Cloud use **private network** domain names, because no fee is charged for the traffic consumed in the private network.

- Some of the input parameters are optional. Default value is used for those not specified.
- All the output parameters are returned to the user when the request is successful; otherwise, at least code, message, and requestId are returned.


## 2. Input Parameters

The following request parameter list only provides API request parameters. Other parameters can be found in [Common Request Parameters](https://cloud.tencent.com/document/api/213/6976).

| Parameter Name | Required | Type | Description |
|---------|---------|---------|---------|
| keyId | Yes | String | Global unique identifier of CMK generated by calling CreateKey. |
| plaintext | Yes | String | Encrypted plaintext data, which must be encoded with Base64. The encryption API of KMS SDK has encapsulated Base64 encoding operation which is not required if SDK is used.|
| encryptionContext | No | JSON string in key/value pair format. If this parameter is specified, the same parameter is provided when Decrypt API is called |

## 3. Output Parameters

| Parameter Name | Type | Description |
|---------|---------|---------|
| code | Int | 0: Successful, others: Error. Specific error codes can be found in the table below. |
| message | String | Error message. |
| requestId | String | Request ID generated by server can be submitted by the users to the backend to locate the problem When an internal error occurs on the server. |
| keyId | String | Global unique identifier of CMK. |
| ciphertextBlob | String | Encrypted ciphertext.|


<table class="t">
<tbody><tr>
<th> <b>Error Code</b>
</th><th> <b>Module Error Code</b>
</th><th> <b>Error Message</b>
</th><th> <b>Description</b>
</th></tr>
<tr>
<td> 4560
</td><td> 10660
</td><td> encryption failed, please check input parameters
</td><td> Encryption failed. Check encryption parameters.
</td></tr>
<tr>
<td> 4540
</td><td> 10640
</td><td> illegal encryptionContext
</td><td> encryptionContext is invalid. This field must be a JSON string.
</td></tr>
<tr>
<td> 4590
</td><td> 10690
</td><td> plaintext is not encoded with base64
</td><td> Plaintext must be encoded with Base64. 
</td></tr>
</tbody></table>

Note: The error codes listed above are specific to this API. Other error codes not listed here can be found in [Common Error Codes](https://cloud.tencent.com/document/product/573/8919).

## 4. Example

Input:

<pre>
 https://kms-gz.api.tencentyun.com/v2/index.php?Action=Encrypt
 &keyId=kms-30slkdf
 &plaintext=databasepassword
 &<<a href="https://cloud.tencent.com/doc/api/229/6976">Common request parameters</a>>
</pre>

Output:

```

{
"code" : 0,
"message" : "",
"requestId":"14534664555",
"msgId":"123345346",
"keyId":"kms-30slkdf",
"ciphertextBlob":"string"

}

```







