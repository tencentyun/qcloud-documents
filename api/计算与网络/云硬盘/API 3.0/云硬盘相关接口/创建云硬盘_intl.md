Location: CBS -> API Documentation -> CBS-related APIs -> Create Cloud Disk Change Log (Latest version: 2017.4.5)
     Operation
Basic Information Content Extended Configuration
  
 URL for documentation (Chinese)

master/
 
Content  

## 1. API Description

This API (CreateDisks) is used to create cloud disks.

* For prepaid cloud disks, the required amount for the purchased cloud disk will be pre-deducted. Make sure your account balance is sufficient before calling this API.
* This API supports creating a cloud disk using a data disk snapshot, so that the snapshot data can be copied to the purchased cloud disk.
* This API is an asynchronous API. A cloud disk ID list will be returned when the creation request is issued successfully, but the cloud disk is not created immediately. You can call the API [DescribeDisks](/document/product/362/16315) to query the cloud disk by DiskId. If the cloud disk can be found and its status is 'UNATTACHED' or 'ATTACHED', the cloud disk is created successfully.

## 2. Input Parameters

The following request parameter list only provides API request parameters and some common parameters. For the complete common parameter list, see [Common Request Parameters](/document/api/362/15637).

| Parameter Name | Required | Type | Description |
|---------|---------|---------|---------|
| Action | Yes | String | Common parameter. Valueâ€‹used in this API: CreateDisks |
| Version | Yes | String | Common parameter. Value used in this API: 2017-03-12 |
| DiskType | Yes | String | Type of hard disk medium. Value range: <li>CLOUD_BASIC: HDD cloud disk </li><li>CLOUD_PREMIUM: Premium cloud disk </li><li>CLOUD_SSD: SSD cloud disk.</li> |
| DiskName | No | String | The display name of the cloud disk. If it is left empty, the default is "not named". The maximum length is 60 bytes. |
| DiskCount | No | Integer | The number of cloud disks to be created. If it is left empty, the default is 1. There is a limit to the maximum number of cloud disks that can be created for a single request. For more information, please see [CBS Use Limits](https://cloud.tencent.com/doc/product/362/5145). |
| DiskChargeType | Yes | String | Billing method (Prepaid). Currently, the value can only be PREPAID. |
| DiskChargePrepaid | No | [DiskChargePrepaid](/document/api/362/15669#DiskChargePrepaid) | Prepaid mode, which is the relevant parameter setting for prepaid mode. This parameter is used to specify the purchased usage period, whether to set automatic renewal and other attributes of the cloud disk purchased on a prepaid basis. This parameter is required to create a prepaid cloud disk. |
| Placement | Yes | [Placement](/document/api/362/15669#Placement) | The location of the instance. This parameter is used to specify the availability zone and the project to which the instance belongs. If the project is not specified, the instance is created in the default project. |
| DiskSize | No | Integer | Cloud disk size (in GB). <li>If `SnapshotId` is specified and `DiskSize` is not specified, the size of the created cloud disk equals to that of the snapshot. </li><li>If both `SnapshotId` and `DiskSize` are specified, the size of the created cloud disk must be greater than or equal to that of the snapshot. </li><li>Value range of cloud disk size: HDD cloud disk: 10 GB - 4,000 GB; Premium cloud disk: 50 GB - 4,000 GB; SSD cloud disk: 100 GB - 4,000 GB. The step width is 10 GB. |
| SnapshotId | No | String | Snapshot ID. If this parameter is specified, the cloud disk is created based on the snapshot. The snapshot type must be a data disk snapshot. the snapshot can be queried in the DiskUsage field in the output parameter through the API [DescribeSnapshots](/document/product/362/15647). |
| ClientToken | No | String | A string to ensure the idempotency of the request, which is generated by the client. Each request shall have a unique string with a maximum of 64 ASCII characters. If this parameter is not specified, the idempotency of the request cannot be ensured. |
| Encrypt | No | String | This parameter is used to create an encrypted cloud disk. Its value is always ENCRYPT. |

## 3. Output Parameters



| Parameter Name | Type | Description |
|---------|---------|---------|
| DiskIdSet | Array of String | List of IDs of the created cloud disks. |
| RequestId | String | The unique request ID, which is returned for each request. When locating the problem, the RequestId of the request needs to be provided. |

## 4. Error Codes



| Error Code | Description |
|---------|---------|
| InvalidParameter.DiskConfigNotSupported | The configured cloud disk is not supported in the region. |
| InvalidParameterValue | Invalid parameter value. Parameter value is in an incorrect format or is not supported. |
| MissingParameter | Missing parameter. A required parameter is missing in the request. |
| TradeDealConflict | Order conflict. |

## 5. Example

## Example 1 Purchase Instances Based on Basic Parameters

### Scenario description

The configuration of the purchased cloud disk: region: Guangzhou Zone 2; size: 50 GB; type: HDD cloud disk; project ID: 0; billing method: prepaid; usage period: one month; notify expiry and renew automatically.

                
### Request parameters

```
https://cbs.tencentcloudapi.com/?Action=CreateDisks
&DiskType=CLOUD_BASIC
&DiskCount=1
&DiskSize=50
&Placement.Zone=ap-guangzhou-2
&Placement.ProjectId=0
&DiskChargeType=PREPAID
&DiskChargePrepaid.Period=1
&DiskChargePrepaid.RenewFlag=NOTIFY_AND_AUTO_RENEW
&<Common request parameters>
```
### Return parameters

```
{
  "Response": {
    "DiskIdSet": [
      "disk-lzrg2pwi"
    ],
    "RequestId": "6a57da9a-2049-7182-2de3-5a1f8014ccfd"
  }
}
```

## Example 2 Create Cloud Disk Based on Snapshot

### Scenario description

Specify a snapshot to create a cloud disk. The DiskSize parameter is not specified, so the size of the purchased cloud disk equals to that of the snapshot. The snapshot data are copied to the purchased cloud disk.

                
### Request parameters

```
https://cbs.tencentcloudapi.com/?Action=CreateDisks
&DiskType=CLOUD_BASIC
&DiskCount=1
&SnapshotId=snap-iepc4w3h
&Placement.Zone=ap-guangzhou-2
&Placement.ProjectId=0
&DiskChargeType=PREPAID
&DiskChargePrepaid.Period=1
&DiskChargePrepaid.RenewFlag=NOTIFY_AND_AUTO_RENEW
&<Common request parameters>
```
### Return parameters

```
{
  "Response": {
    "DiskIdSet": [
      "disk-6rz0ilvu"
    ],
    "RequestId": "5e93a212-ca01-0fdc-eedd-5a1fce5e83e6"
  }
}
```


        
