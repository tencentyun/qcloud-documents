## ABAC 简介

#### 什么是 ABAC
ABAC（Attribute-Based Access Control）是基于属性的访问控制授权策略，该策略使用属性来定义权限。在腾讯云中，使用标签来代表该属性。
在腾讯云中创建资源时，您可以将标签附加到资源中，来标记资源（查看 [支持标签的产品](https://cloud.tencent.com/document/product/651/30727)）。在为角色授权时，您可以创建单个 ABAC 策略，将策略设计为角色请求的标签与资源标签匹配时允许操作。ABAC 在资源变化频繁的环境中非常有用，在策略管理变得繁琐的情况下帮助您提升管理效率。

#### 示例场景
假设有三个项目 GroupA、GroupB 和 GroupC，您可以通过以下步骤管理员工资源访问权限：
1. 为三个项目创建具有 access-project 标签键的三个角色。
2. 将第一个角色的标签值设置为 GroupA，第二个为 GroupB，第三个为 GroupC。
3. 使用单个策略，将策略附加给创建好的角色，员工通过代入指定角色来访问，在角色和资源标记了access-project 的相同值时允许访问。

<img src="https://qcloudimg.tencent-cloud.cn/raw/2f763187bc6be97160d100e7a34242c4.png" width="666px">


## ABAC 与传统授权方式对比
在 CAM 中，您通过为不同工作岗位的员工创建不同策略来管控权限，然后，您可将策略附加到 CAM 角色。按照 [最佳实践](https://cloud.tencent.com/document/product/598/73671)，您在为员工授予所需的最小权限时，通常通过在策略中指定可以访问的具体资源来实现。这种方式的缺点在于，当员工需要添加访问新的资源时，就必须更新策略来允许访问这些资源。

假设有三个项目 GroupA、GroupB 和 GroupC，每个项目的资源不同，两种授权方式的对比如下：

| 授权方式 | <nobr>ABAC 授权</nobr> | <nobr>传统授权</nobr> |
|---------|---------|---------|
| 授权步骤 | 1. 为三个项目创建具有 access-project 标签键的三个角色。<br>2. 将第一个角色的标签值设置为 GroupA，第二个为 GroupB，第三个为 GroupC。<br>3. 使用单个策略，将策略附加给创建好的角色，员工通过代入指定角色来访问，在角色和资源标记了access-project的相同值时允许访问。 | 1. 为这三个项目分别创建一个权限管理策略。<br>2. 在策略中指定每一个项目可以访问的具体资源。 |
| GroupA 新增一个资源时 | 将新增的资源标签标签键设置为 access-project，标签值设置为 GroupA。   | 更新 GroupA 对应的策略， 添加新的资源权限，才能保证项目 GroupA  的员工能够访问到新的存储桶。|
| 员工加入/离开项目时 |  增加/删除角色载体。  | 通过调整策略绑定来新增或解除授权。 | 

<img src="https://qcloudimg.tencent-cloud.cn/raw/8ce078d55bd0d50b715d87ccf1f765b2.png" width="666px">       



## ABAC 授权的优势
使用 ABAC 管理资源访问权限具备以下优势：


#### 自动扩展资源权限
支持权限随着资源的变更自动扩展，不再需要管理员更新现有策略来允许访问对新的资源。

例如：假设您使用 access-project 标签附加到 ABAC 策略。开发人员使用access-project = GroupA 的标签来访问资源。当GroupA项目中的员工需要额外的 CVM 云服务器资源时，开发人员可以使用 access-project = GroupA 标签创建新 CVM 实例。创建后，GroupA 项目中的任何授权员工可以启动和停止这些实例，因为 GroupA 项目的员工对应角色的标签与资源的标签匹配。

#### 减少策略数量
可以减少策略的数量，不再需要为不同项目的相同岗位员工创建不同策略，因此创建的策略数量减少，更易于管理。

#### 方便后续扩展策略
如果有新的项目，可以快速基于已有策略进行扩展。

例如：您已经使用管理资源访问权限的支持项目GroupA 和 GroupB，这时可以快速支持新增项目 GroupD。CAM 管理员可以创建具有 access-project = GroupD 标签的新的角色，并附加策略，这时有权限代入该角色的员工都可以创建具有 access-project = GroupD 标签资源。如果有新员工需要访问该项目的资源，CAM 管理员将该角色授予员工即可。

#### 实现精细权限控制
在您创建策略时，最佳实践是授予最小权限。使用传统授权方式，您必须编写一个策略，仅允许访问特定资源。但是，如果使用 ABAC，您可以允许在所有资源上的操作，但仅在资源标签与委托人标签匹配时可以访问该权限。

#### 支持ABAC 来匹配公司的员工属性
您可以对基于 SAML 的身份提供商或 Web 身份提供商进行配置，将会话标签传递给腾讯云。当您的员工希望联合身份到腾讯云中时，其属性将应用到 腾讯云中所得到的委托人角色。然后，您可以使用 ABAC 来允许或拒绝基于这些属性的权限。
