您可以根据下列收费规则，估算使用 APM 需要的成本。


## 计费模式
应用性能观测采用按量付费后付费模式，即先按需申请资源使用，在结算时会按您的实际资源使用量收取费用。

## 计费周期
按日结算方式。在当日凌晨后，将会对您前一日实际用量所产生的费用进行结算，输出账单并在您的账户余额中进行扣费。

## 计费价格
### 计费公式
- 总费用 = 上报量总费用 + 链路存储时长总费用
- 上报量总费用 = 上报数量（百万）× 上报数量单价
- 链路存储时长总费用 = 上报数量（百万）× 存储时长（天）× 链路储存单价

### 计费项及免费额度

>?不同地域计费单价不同。

**广州、北京、上海：**

|计费项 |计费单价| 免费额度|使用限制|
|---------|---------|---------|---------|
|上报数量|0.1元/百万 Span|1百万 Span/天|外网峰值流量限流：不能超过 2000QPS/秒|
|链路存储时长|0.06元/百万 Span*天|1百万 Span/天|单个 Span 大小不得超过 2KB|

**上海金融、深圳金融、北京金融：**

|计费项 |计费单价| 免费额度|使用限制|
|---------|---------|---------|---------|
|上报数量|0.2元/百万 Span|1百万 Span/天|外网峰值流量限流：不能超过 2000QPS/秒|
|链路存储时长|0.12元/百万 Span*天|1百万 Span/天|单个 Span 大小不得超过 2KB|

**中国香港、新加坡：**

|计费项 |计费单价| 免费额度|使用限制|
|---------|---------|---------|---------|
|上报数量|0.15元/百万 Span|1百万 Span/天|外网峰值流量限流：不能超过 2000QPS/秒|
|链路存储时长|0.09元/百万 Span*天|1百万 Span/天|单个 Span 大小不得超过 2KB|



>?Trace 和 Span 的定义：
- Trace(追踪)：一个调用链代表一个事务或者流程在（分布式）系统中的执行过程。在 OpenTracing 标准中，调用链是多个 Span 组成的一个有向无环图（Directed Acyclic Graph，简称 DAG），每一个 Span 代表调用链中被命名并计时的连续性执行片段。
- Span(跨度)：一个 Span 代表系统中具有开始时间和执行时长的逻辑运行单元。Span 之间通过嵌套或者顺序排列建立逻辑因果关系。一个账号下 TraceID 相同的所有运动轨迹，视为一次请求。一个请求最多包含十个 Span ，超出的每个 Span 将按照请求计费。每个 Span 最大不超过 2KB，超出部分将丢弃。

## 计费示例

假设某用户使用广州地域，每天上报 2千万请求（2亿 Span），链路存储时长为 7天，每天所需费用如下：
- 上报量每天费用 = [200 (200个百万 span) - 1 (免费额度)] × 0.1  = 19.9元/天
- 链路存储每天费用 = [200 (200个百万 span) - 1(免费额度)] × 0.06 × 7(天) = 83.58元/天 （连续上报六天后，每天的存储费用）
总费用 = 上报量费用 + 链路存储时长费用 = 19.9 + 83.58 = 103.48元/天

**链路存储费用说明：**
链路存储是按照存储量计算的，假设某用户每天上报 2千万请求（2亿 Span），选择链路存储时长为 7 天，上报八天的存储情况如下：
![](https://qcloudimg.tencent-cloud.cn/raw/98917c5c1deb832421687c29874c0096.png)

从上图可以看出，当达到第七天后，后续每天都将会存储累计 7天的链路。
