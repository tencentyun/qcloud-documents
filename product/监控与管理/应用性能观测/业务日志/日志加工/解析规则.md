## 日志解析
![](https://qcloudimg.tencent-cloud.cn/raw/ab7f63984105964fdbed9acfda0d78df.png)
如上图所示，应用性能观测支持配置预设解析规则对日志进行预处理。若预处理不满足您的需求，您还可以新增针对某个日志类型（例如：Java、Node.js），或者某个服务相关日志的自定义解析规则。

## 操作步骤
### 进入日志配置页面
1.登录 [应用性能观测控制台](https://console.cloud.tencent.com/apm/monitor)。
2.在左侧菜单栏中单击 **业务日志** > **日志加工**。
3.进入日志解析规则页面。

### 自定义特定日志类型处理规则
若您希望针对某类型的日志进行进一步加工处理，您可在对应类型日志的解析规则中，直接添加处理步骤。
在解析规则页面，选择您的日志来源对应的解析规则，单击**添加处理步骤**。
![](https://qcloudimg.tencent-cloud.cn/raw/c1f752efff0966ad112df0fdd47de524.png)


### 新增某服务日志解析规则
若您希望针对某个应用的日志进行进一步加工处理，您需要先新建对应应用的解析规则，再在相关规则上添加处理步骤。
在解析规则页面，在对应日志来源的解析规则下一层，单击**自定义解析规则**。
![](https://qcloudimg.tencent-cloud.cn/raw/d6edc78a16d7004fee9b521a8ebc94ff.png)
在新建解析规则页面中，定义解析规则名称以及所选应用，以完成解析规则创建。
![](https://qcloudimg.tencent-cloud.cn/raw/b26c4da2089ca322f4b6bb246bb25c2f.png)

### 添加处理步骤
添加完解析规则后，您可以单击**添加处理步骤**。配置说明如下。
- 基础信息：定义处理步骤名称。
- 输入原始日志（可选）。
如下图所示，系统为您自动拉取对应日志来源或应用下的最新一条日志，作为后续处理步骤配置参考样例。若所选样例不具有代表性，您可单击右上角**手动输入**，切换为手动输入模式，对样例进行调整或直接输入。
![](https://qcloudimg.tencent-cloud.cn/raw/b992ae4d13407d197425bd752ebc7719.png)
- 定义处理规则
公测版本，仅支持如下四类处理类型，更多处理类型持续丰富中。
<table>
   <tr>
      <th width="0%" >处理类型</td>
      <th width="0%" >	能力说明</td>
      <th width="0%" >	适用场景</td>
   </tr>
   <tr>
      <td>GROK 解析</td>
      <td>	支持针对选定日志字段，通过配置 GROK 语法提取结构化字段</td>
      <td>长文本字段内相关日志，进行切分及关键维度提取</td>
   </tr>
   <tr>
      <td>JSON 解析</td>
      <td>支持针对选定字段，按照 JSON 规则解析为结构化字段</td>
      <td>JSON 格 式的字符串，进行 K-V 提取</td>
   </tr>
   <tr>
      <td>文本替换</td>
      <td>支持针对选定字段，通过正则表达式、全等、部分匹配三中模式筛选并替换目标字符串</td>
      <td>状态或业务码可读性转化，日志关键信息脱敏等</td>
   </tr>
   <tr>
      <td>Geo IP 转换</td>
      <td>支持针对选定的公网 IP 字段，解析初国家、省份、城市、ISP（运营商）</td>
      <td>通过访问 IP，解析相关流向的地理来源</td>
   </tr>
</table>

根据您的具体需求，您可以选择对应的解析类型并完成相应配置。系统会自动根据样例日志，为您模拟按照您输入规则解析后的结构化日志，方便您进行校验。
![](https://qcloudimg.tencent-cloud.cn/raw/f4f31ffd11e6761d4e10e9e16a048a2a.png)
