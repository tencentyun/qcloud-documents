应用性能观测将为您默认配置 Access、Level、Trace ID、SpanID、Service、Host 等索引，提高优化解析效率。同时，对于日志文本中解析出的 K-V 类型字段，我们提供了原生 K-V 检索能力，无需索引即可使用。

若上述检索效率不能满足您的需求，或您有通用的业务字段，例如：订单号，客户 ID 等字段需要频繁检索。您可按照如下方式新增全局索引，在日志检索时可快速通过该字段检索相关日志。


>?
- 系统将会为您默认配置 access 、level、service 、source 、spanID 、traceID 键值索引，默认配置的键值索引不支持删除、编辑。
- 不支持创建与默认配置索引重名的 索引 Key。
- 索引只对创建后新写入的日志数据生效。


## 操作步骤
### 创建全局索引
#### 方法一：在日志详情中设置全局索引
若您**日志检索页面**进行检索时，感到部分字段检索速度不达预期，您可以单击字段旁的下拉框，选择**设为全局索引**。
![](https://qcloudimg.tencent-cloud.cn/raw/f9da8ca2db670ef4db0bce2acac1c48c.png)
在对话框中，确认索引列名，并选择字段类型。根据所选字段类型不同，K-V 检索时支持的筛选方式也会略有不同。
<img style="width:500px; max-width: inherit;" src="https://qcloudimg.tencent-cloud.cn/raw/ce70f5ce1ae06187d368e255cd3b48cb.png" />
#### 方法二：日志加工页面手动添加
1. 登录 [应用性能观测控制台](https://console.cloud.tencent.com/apm/monitor)。
2. 在左侧菜单栏中单击 **业务日志 > 日志加工**。
3. 在日志加工页面选择**全局索引** > 添加全局索引。
4. 在弹框中填写键值并选择数据类型，根据所选字段类型不同，K-V 检索时支持的筛选方式也会略有不同。
5. 完成后单击**确定**即可。
![](https://qcloudimg.tencent-cloud.cn/raw/6c0ce648e674e27c58728168536a803a.png)

### 全局索引的使用
索引创建完毕后，您可在**日志索引页面**左侧的快速筛选框，以及**检索条件**中的 KV 检索快速选择中使用。
![](https://qcloudimg.tencent-cloud.cn/raw/a364dbc6bbf53bfee9a5149fe0df1538.png)


####  索引类型说明
| 索引类型 | 说明                                       |
| -------- | ------------------------------------------ |
| String   | 字符串，由数字、字母、下划线组成的一串字符 |
| Int64    | 有符号64位整数                             |
| Int32    | 有符号32位整数                             |
| Int16    | 有符号16位整数                             |
| Int8     | 有符号8位整数                              |
| Float64  | 64位浮点数                                 |
| Float32  | 32位浮点数                                 |
| UInt64   | 无符号64位整数                             |
| UInt32   | 无符号32位整数                             |
| UInt16   | 无符号16位整数                             |
| UInt8    | 无符号8位整数                              |
| DateTime | 日期与时间，例如：2022-09-04 16:00:00      |
