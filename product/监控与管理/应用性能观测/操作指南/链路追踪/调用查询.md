本文主要介绍接口调用检索分析相关能力和操作流程。使用该功能您可以查询各服务端，客户端调用链信息、相关 TraceID和调用链链路详情。使用自研探针上报的应用，还支持方法栈信息展示。

## 操作前提
进入应用性能观测控制台，单击进入 [**调用查询**](https://console.cloud.tencent.com/apm/monitor/span) 页面。
![](https://qcloudimg.tencent-cloud.cn/raw/c3155806624f024d00e32e21c3380662.png)


### 基础查询

**调用查询**页面提供了服务器名称、服务器 IP、客户端名称、客户端 IP 目标接口Trace ID、业务标签（Tag）等的检索能力。您可以通过在基础查询模块中输入信息查询对应的接口调用情况。

>?当您不选择服务端或客户端时，列表将会展示应用下所有链路。

#### 业务标签（Tag）

用户可根据业务类型在上报数据时自定义标签 ，例如订单标签，购物车标签等。若用户订单出现异常，您可以快速到订单调用情况，包括响应时间、执行结果、服务状态等。

例如在上报 PHP 应用数据时自定义标签，您可以通过输入标签键、标签值 key:value 来搜索到该标签所绑定的业务。
```php
$span->tag('key', $value);
```
![](https://qcloudimg.tencent-cloud.cn/raw/0d7ee91bd4a3fdd86b4ed9d6d067b57a.png)

#### 只展示链路入口
用户可快速搜索某应用中的调用链路入口（头部 Span），快速定位异常 Trace。
假设某调用链路如下图所示，当您勾选只展示链路入口后，列表仅展示链路入口 ServiceA 的调用情况。

![](https://qcloudimg.tencent-cloud.cn/raw/be94c84889e9fb7ecb8d1145487294fe.png)


### 调用链路详情
单击相应接口操作列的**请求详情**或 **TraceID/SpanID**，即可进入调用链路分析页面查看链路各阶段耗时以及全链路上报信息，包含调用链健康状况、耗时等情况。
使用 [Java 自研探针上报](https://cloud.tencent.com/document/product/1463/58198) 的应用支持方法栈信息展示。您可以在调用链路列表中查看方法栈所属行号，快速排查慢调用及异常的方法栈。
![](https://qcloudimg.tencent-cloud.cn/raw/4b74b4c4c9c66bf2105663ed270da296.png)
