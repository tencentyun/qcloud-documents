## 简介
敏感信息加密是密钥管理服务（KMS）核心的能力，实际应用中主要用来保护敏感数据的安全（小于4KB），如密钥、证书、配置文件等。
使用 CMK 加密敏感数据信息，而非直接将明文存储。使用时，再将密文解密到内存，保证明文不落盘。这样，即使服务因遭受不明人员访问，这些数据信息也不会泄漏。
由于每个数据的加解密都需要经过HTTPS请求，因此敏感数据加密适用于请求量较低，对性能要求不高的场景，如对加密性能有要求，请参考使用信封加密方式。

#### 敏感信息举例

|| 密钥，证书 | 后台配置文件 |
|-|:-:|:-:|
|用途| 加密业务数据，通信通道，数字签名 | 保存系统架构和其他业务信息，比如数据库 IP、密码 |
|丢失风险| 保密信息被盗、加密通道遭监听、签名被伪造 | 业务数据被拖库、成为攻击其他系统的跳板 | 


#### 示意图
![](https://main.qcloudimg.com/raw/f52c0a8bc2398d310c7641f809450b9f.png)

在数据加密场景中，用户主要通过KMS生成的CMK来对少量数据进行对称加密。本场景中的明文数据一般不落盘，用户根据业务场景调用KMS的加解密函数对数据加解密。


## 功能特点

- 权限控制：与腾讯云访问管理(CAM)集成，通过身份管理和策略管理控制账号对CMK的访问权限。
- 内置审计：与腾讯云审计集成，可记录所有 API 请求，包括密钥管理操作和密钥使用情况。保证数据操作可溯源可审计。
- 集中化密钥管理：通过腾讯云KMS服务实现对各类应用程序的密钥的集中管理。
- 安全合规：密钥管理服务底层使用国家密码局或 FIPS-140-2 认证的硬件安全模块（HSM）来保护密钥的安全，确保密钥的保密性、完整性和可用性。
- 敏感数据加密：支持敏感数据（小于4KB）的加密和解密操作。如密钥、证书、配置文件等。


## 注意事项
- 需注意SecretId和SecretKey的保密存储：
	- 腾讯云接口认证主要依靠SecretID和SecretKey，SecretID和SecretKey是用户的唯一认证凭证。业务系统需要该凭证调用腾讯云接口。
- 需注意SecretID和SecretKey的权限控制：
	- 建议使用子账号，根据业务需要进行接口授权的方式管控风险。
- 需注意明文数据的存储：
 - 敏感数据加密已将数据进行加密处理，为保障数据的安全性，需确保原始明文数据的删除。


## 操作指南
该操作指南以 Python 为例，其它编程语言类似。

#### 前期准备
- 依赖环境：Python 2.7 到 3.6 版本。
- KMS 产品服务开通：从 腾讯云控制台 开通KMS产品。
- 云 API 密钥服务开通：获取 SecretID、SecretKey 以及调用地址（endpoint），endpoint 一般形式为`*.tencentcloudapi.com`，如KMS 的调用地址为`kms.tencentcloudapi.com`，具体参考各产品说明。
- SDK 安装，执行以下命令，详细可参见 [tencentcloud-sdk-python github](https://github.com/TencentCloud/tencentcloud-sdk-python) 项目。
```
pip install tencentcloud-sdk-python
```


####  操作流程
您可以通过以下4个步骤完成敏感数据加密的操作。

1. 通过控制台Console或API (CreateKey)创建一个用户主密钥CMK，即创建用户主密钥CMK。
2. 通过API调用KMS加密接口(Encrypt)将用户敏感数据进行加密，获取密文。
3. 根据业务需求将密文数据存储。
4. 读取数据时，通过API调用KMS解密接口（Decrypt）解密成明文。

#### 操作步骤


