## 功能介绍
文介绍如何使用 PTS 脚本模式，通过 JavaScript 脚本快速发起压测，帮您掌握 PTS 的基本用法。

| 压测场景 | 描述                                                         | 支持进度 |
| :------- | :----------------------------------------------------------- | :------- |
| 脚本模式 | 使用我们的 JS 代码示例作为脚本的基础，或从头开始。支持 HTTP、Websocket、gRPC 等协议。 | 已支持   |
| 简单模式 | 使用我们的交互式 UI ，组合不同的用户请求。                    | 已支持   |
| JMeter   | 通过使用原生的 JMeter JMX 文件进行压测。                     | 已支持   |
| 脚本导入 | Postman、Swagger、Protobuf、HAR 等 API 导入自动生成测试场景。  | 已支持 har 导入  |
| 流量录制 | 录制浏览器、手机、线上服务流量，自动生成测试场景。            | 已支持浏览器流量录制  |


## 操作步骤

### 步骤1: 创建 PTS 项目
1. 登录 [云压测控制台](https://console.cloud.tencent.com/pts)。
2. 在左侧菜单栏选择 **项目列表 > 新建项目** 。
3. 填写**项目名、描述、标签**。完成后单击 **保存**。
   ![](https://qcloudimg.tencent-cloud.cn/raw/6d488bb861f71702c3743d04c4210178.png)



### 步骤2：创建测试场景
1. 新建场景，选择脚本模式。其他模式正在开发中，稍后会陆续开放对应功能。
<img width="1915" alt="截屏2022-07-19 上午10 37 55" src="https://qcloudimg.tencent-cloud.cn/raw/79fd536a35f59095d3ff398f75ab3f70.png">
2. 编排测试场景，完成以下设置，然后单击**保存去压测**。新创建的测试场景默认可直接运行。

| 功能模块 | 描述                                                         |
| :------- | :----------------------------------------------------------- |
| 场景名字 | 更新场景名字，方便后续识别场景用途。                         |
| 施压配置 | 当前支持压力模型为：并发压力模式(虚拟用户模式)、RPS 压力模式。<br><li>并发压力模式(虚拟用户模式)：并发指虚拟并发用户数。从业务角度，也可以理解为同时在线的用户数。<li>RPS 压力模式：每秒请求数量，用于衡量服务端的吞吐量。免去并发数到 RPS 的繁琐转换，来帮忙用户更好的摸底业务性能瓶颈。<br>**并发模式配置内容** <li>最大并发数：可以理解为被压服务同时在线的用户数。<li>递增步数：并发压力递增的阶段数量。总梯度时长：压力递增持续时间。<li>压测总时长：压测持续时间。<li>流量类型：通用网络支持腾讯内网及公网访问。流量分布：选择不同地域施压流量占比。<br>**RPS 模式配置内容**<li>最大 RPS：压测 RPS 上限，用来摸底业务系统的目标吞吐量。PTS 会根据最大 RPS 为压测任务分配合理的施压资源。<li>起始 RPS：压测起始 RPS，用户可以在压测过程中手工调整发压 RPS，并观察报表指标变化<li>压测总时长：一次压测的总时长。<li>压测资源：PTS 会根据用户设置的最大 RPS，合理分配压测资源池。如果您的请求响应较慢，您可以通过适当扩大压测资源池，来确保达到目标吞吐量。<li>流量分布：将压测总流量以一定的百分比，分布于多个地域，以模拟真实场景中，来自不同地域的用户带来的流量。 |
| 场景编排 | <li>提供脚本常用模板示例。<li>支持语法高亮，智能提示，函数引用，代码格式化等。<li>JS 编排区域内右键查看更多功能。更多常用的 JS 语法，代码示例请参见 [脚本模式压测](https://cloud.tencent.com/document/product/1484/74231)。 |

![](https://qcloudimg.tencent-cloud.cn/raw/7af8b1ca7ba509ed8cc037db8aec5353.png)


### 步骤3：查看压测报告
单击**运行**压力测试后，PTS 将拉起压测引擎进行测试。控制台将跳转至施压报告界面。单击导航栏**测试场景**名称，可查看历史报表。
![](https://qcloudimg.tencent-cloud.cn/raw/de2e7cdadf252aa5909c3c17a7660944.png)
