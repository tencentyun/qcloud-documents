协议场景针对 GET、POST 协议或端口进行监测，监测接口响应性能、可用性，确保用户使用体验和业务可用性。本文将为您介绍如何新建端口性能任务。

## 操作步骤

1. 登录 [云拨测控制台](https://console.cloud.tencent.com/cat)。
2. 在左侧菜单栏中单击**任务列表**。
3. 单击任务列表页面上方的**新建任务**。
4. 根据下列说明配置基本信息。
<table>
<tr>
<th> 配置项</th>
<th> 说明</th>
</tr>
<tr>
<td> 任务类型</td>
<td> 选择 PC 端或移动端的“端口性能”任务类型。</td>
</tr>
<tr>
<td> 拨测地址</td>
<td> 请填写需要拨测的 Web 应用地址（以 <code>http:// </code>开头）<br>例如：<br>1. 域名：<code>http://www.tencent.com</code><br/>2.
域名端口：<code>http://www.tencent.com:80</code><br/>备注：Ping 监测下使用 TCP 或 UDP 协议时，需要填写端口。
</td>
</tr>
<tr>
<td> 拨测任务名称</td>
<td> 自定义拨测任务名称。</td>
</tr>
<tr>
<td> 拨测频率</td>
<td> 支持1分钟、5分钟、10分钟、15分钟、30分钟、60分钟、120分钟的拨测频率。例如选择5分钟频率，表示每个拨测点每5分钟拨测一次。</td>
</tr>
</table>
5. 根据下列说明配置拨测点。
    i.选择方式：选择推荐拨测点组或自定义拨测点组（推荐的拨测节点为常用的节点）。
    ii.选择拨测点：
  - 推荐拨测点组：您可以在左侧框勾选对应地域的拨测点，对应的节点信息将会在右侧框中显示。
  - 自定义拨测点组：选择拨测点地域 > 选择拨测点类型 > 在右侧框中勾选拨测点。拨测点类型说明如下：
<table>
<tr>
	<th> 拨测点类型</th>
	<th> 说名</th>
</tr>
<tr>
<td> 机房（IDC）</td>
<td> 部署在 PC 电脑上的拨测点，代表 PC 用户体验。</td>
</tr>
<tr>
<td> 网民（LastMile）</td>
<td> 部署在终端用户 PC 电脑上的拨测点，代表终端 PC 用户体验。</td>
</tr>
<tr>
<td> 手机端</td>
<td> 部署在终端移动手机上的拨测点，代表终端移动用户。</td>
</tr>
</table>
<dx-alert infotype="explain" title="选择建议">

由于机房（IDC）和网民（LastMile）网络环境不同，机房（IDC）比网民（LastMile）更稳定。

- 若是要监测业务的可用性，可以选择比较稳定的机房 IDC。
- 若要看终端用户的访问体验、网络情况等建议多选网民 LastMile/手机端，可以模拟终端用户访问应用的体验。
</dx-alert>
6. 配置拨测参数（可选），系统默认为您配置常用的拨测参数，您也可以自定义拨测规则。配置说明如下：
<table>
<tr>
<th> 配置项</th>
<th> 说明</th>
<th> 默认取值</th>
</tr>
<tr>
<td> IP 类型</td>
<td> 支持自动、IPV4、IPV6 三种 IP 协议类型。</td>
<td> 自动</td>
</tr>
<tr>
<td> 请求类型</td>
<td> 可以用纯文本、二进制流、文件路径的方式来填写请求内容。请求内容即为协议的请求头信息。</td>
<td> 纯文本</td>
</tr>
<tr>
<td> 字符编码</td>
<td> 发送内容的编码类型，支持 UTF-8、GBK、GB2312、Unicode。</td>
<td> UTF-8</td>
</tr>
<tr>
<td> 协议类型</td>
<td> 支持 TCP 协议、 SSL 和 UDP 协议类型。</td>
<td> TCP</td>
</tr>
<tr>
<td> 请求内容</td>
<td> 定义 HTTP 请求头内容，请求类型中所选的格式决定请求内容格式，假设请求类型选择纯文本，请求内容需要填写纯文本格式的内容。http post 支持长度为 13 的时间戳{Timestamp}，请求示例： POST /TestServer/BrServlet HTTP/1.1 Content-Type: application/x-www-form-urlencoded Content-Length: 26 Connection: close sn=123&n=asa&{Timestamp}]，注意：示例填写完成后需要空两行才能生效。</td>
<td> -</td>
</tr>
<tr>
<td> 自定义 Host</td>
<td> 支持按 IP 地址轮询或随机监测，多个 IP 请用半角逗号分隔符，<br>例如：<ul style = "margin-bottom: 0px;"><li>IPv4：<code>192.168.2.1,192.168.2.5:img.a.com|192.168.2.1?]:img.a.com|</code></li><li>IPv6：<code>[0:0:0:0:0:0:0:1][8080],[0:0:0:0:0:0:0:2][8081]:www.a.com|]</code></li></ul></td>
<td> -</td>
</tr>
<tr>
<td> 验证方式</td>
<td><ul style = "margin-bottom: 0px;">
<li>不验证：不验证数据的完整性。</li>
<li>完全匹配：响应数据必须和填写的数据完全一致。</li>
<li>部分包含：响应数据需要含部分或全部所填写的数据，接收数据大小必须大于所填写数据的字节数。</li>
<li>MD5：把响应数据保存为文件进行 MD5 计算，得到的值和期望值进行比较，要完全一致。</li></ul>
</td>
<td> 不验证</td>
</tr>
</table>						



