## 功能简介

HTTPS，是指超文本传输安全协议（Hypertext Transfer Protocol Secure），是一种在HTTP协议基础上进行传输加密的安全协议，能够有效保障数据传输安全。配置HTTPS时，需要您提供域名对应的证书，将其部署在全网CDN节点，实现全网数据加密传输功能。

<font color="red">HTTPS配置目前处于内测阶段，敬请期待全量开放。</font>



## 配置说明

满足以下条件的域名才可配置HTTPS：

- 域名管理页面，域名的状态为 **部署中** 或 **已启动**；
- 域名不是由COS同步而来的 .file.myqcloud.com 后缀域名；
- 域名可读可写；
- 域名的接入方式为 **自有源** 或者 **COS源**；

**注意：若添加第三方免费证书，请确保您域名配置CNAME至对应腾讯云.cdn.dnsv1.com后缀的加速域名。**



## 部署自有证书

### 自有证书说明

此种方案需要用户提供自带证书，腾讯采用多种技术手段保证证书的安全。用户在使用此服务的时候，需要提前上传证书，在启动此服务后，证书将自动发送到CDN节点。本方案采用证书和私钥前置于边缘节点的方式实现HTTPS的功能。此种方案最大的难点在于在域名劫持或者边缘节点物理损坏或盗窃导致的证书安全问题。腾讯证书管理系统提供一套完整管理系统保证证书的安全：

1. 统一管理证书，减少证书从提交到部署所经过的处理环节和落地；
2. 管理服务器和边缘节点之间通过密文传输证书，建立双向认证的HTTPS链路；
3. 边缘节点上证书和私钥只存在于内存，不落地磁盘；
4. 管理系统会对证书进行证书链的自动补全以及合法性校验、过期监控等功能。

### 添加自有证书

**注意**：

- 自有证书支持 泛域名、COS源/自有源域名，暂时不支持 COS 同步而来的 .file.myqcloud.com 后缀域名；
- 选择 HTTPS 回源，需要保证源站支持 HTTPS，否则会导致回源失败，影响业务；
- COS源域名暂时不支持 HTTPS 回源。

用户可以在控制台 **域名管理** -> **管理** ->**高级配置** 中对添加自有证书，以 泛域名 为例：
![](//mccdn.qcloud.com/static/img/5b8e2c82e4b502210fcf2f36dd2910d6/image.jpg)
也可以在控制台 **高级工具** -> **证书管理** 页面选择域名，添加自有证书，详细说明参考 [证书管理](https://www.qcloud.com/doc/product/228/证书管理) 。



## 第三方免费证书

### 第三方免费证书说明

第三方免费证书是由亚洲诚信提供的赛门铁克根认证DV SSL级别证书，客户选择部署免费证书后，将自动完成以下流程：

1. 向CA发起证书申请；
2. CA进行域名所有权认证，若验证失败，可在 **高级工具**->**证书管理** 页面选择邮箱，通过验证邮件中链接手动进行验证；
3. 验证通过后，证书自动部署至CDN节点。

第三方免费证书的有效期为一年，到期后用户可继续选择免费续期继续使用。第三方证书全程不落地，存放于CDN节点内存中，最大限度保证了证书的安全性。

### 添加第三方免费证书

**注意**：

- 泛域名不支持第三方免费证书；
- COS源目前不支持 HTTPS 回源；
- COS源同步而来的域名 .file.myqcloud.com 不支持HTTPS配置。

用户可以在控制台 **域名管理** -> **管理** ->**高级配置** 中添加第三方免费证书（如下文所示）：
![](//mccdn.qcloud.com/static/img/78325a9a9ae2988fc6f349bb995dc33a/image.jpg)
也可以在控制台 **高级工具** -> **证书管理** 页面选择域名，对其添加第三方证书，详细说明参考 [证书管理](https://www.qcloud.com/doc/product/228/证书管理) 。
**腾讯云CDN支持双证书机制，详情参考** [双证书解决方案](https://www.qcloud.com/doc/product/228/%E8%AF%81%E4%B9%A6%E7%AE%A1%E7%90%86#.E5.8F.8C.E8.AF.81.E4.B9.A6.E8.AF.B4.E6.98.8E) 。



## 腾讯提供域名和证书

使用腾讯提供域名和证书，会根据已有域名，生成 .qcloudcdn.com 后缀的HTTPS加速域名供用户使用。**腾讯云CDN后续将不再提供此类方案入口**，之前已经使用此类域名的用户可继续使用，但不可继续新增，建议用户使用/切换至更加便捷的第三方免费证书方案。



## 删除证书

可在 **域名管理** -> **管理** -> **高级配置** 页面删除已有证书，也可通过证书管理页面进行证书的删除及编辑。
![](//mccdn.qcloud.com/static/img/cbfdeb33175e9435b771ee85ef5010b5/image.jpg)
**注意**：之前使用腾讯提供证书的用户，如果删除证书，则会导致.qcloudcdn.com后缀域名直接下线并删除，确保您的业务未在使用该域名。

