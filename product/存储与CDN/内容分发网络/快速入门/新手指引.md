<blockquote class="d-mod-alarm">
<div class="d-mod-title d-alarm-title">
<i class="d-icon-alarm"></i>公告：
</div>
<p>内容分发网络 CDN 加速类型的名称已更新：原「静态加速」已更名为「网页小文件」，原「下载加速」已更名为「下载大文件」，原「流媒体加速」已更名为「音视频点播」。（仅名称变化，其他逻辑不变。）</p>
</blockquote>



## 基本概念

为了应对复杂的网络环境，改善互联网业务中网络层面的诸多问题，腾讯云在现有网络结构中增加一层遍布全球的高性能加速节点构成新的虚拟网络架构，使您可以按照缓存策略将您的业务内容存储至更靠近用户的边缘节点上，缩短用户与业务内容距离，以此降低访问延迟，提升可用性。

为了更好的对加速服务进行区分，腾讯云根据加速类型的不同提供了不同的产品：

- 针对静态资源的 **CDN - 内容分发网络**：用户多次访问某一资源，返回**相同**内容。
例如：html、css 和 js 文件、图片、视频、软件安装包、apk 文件、压缩包文件等。
推荐场景：网站静态资源加速，文件下载加速，音视频加速。
- 针对动态资源的 **ECDN - 全站加速网络**：用户多次访问某一资源，返回**不同**内容。
例如：API 接口、.jsp、.asp、.php、.perl 和 .cgi 文件等。
推荐场景：动态加速，动静加速。

  

<table>
  <tr>
    <td>对比内容</td>
    <td align='middle'><b>CDN 内容分发网络</b></td>
    <td align='middle'><b>ECDN 全站加速网络</b></td>
  </tr>
  <tr>
    <td>应用场景</td>
    <td>网站静态资源加速，文件下载，音视频点播网站</td>
    <td>电商交易，游戏支付，金融网站，在线教育</td>
  </tr>
  <tr>
    <td>覆盖范围</td>
    <td colspan="2" align="middle">中国境内<br>中国境外<br>全球</td>
  </tr>
  <tr>
    <td>计费方式</td>
    <td align="middle">按流量小时计费<br>境内用户可使用流量包服务<br>详情见 <a href="https://cloud.tencent.com/document/product/228/2949">CDN 计费说明</a></td>
    <td align="middle">请求次数+超额流量计费<br>详情见 <a href="https://cloud.tencent.com/document/product/570/10979">ECDN 计费说明</a></td>
  </tr>
  <tr>
    <td>加速方式</td>
    <td align="middle">静态内容加速，动态内容回源</td>
    <td align="middle">支持动态加速和动静态混合加速<br></td>
  </tr>
  <tr>
    <td>资源储备</td>
    <td colspan='2' align='middle'>全球2800+节点，带宽总储备150Tbps+，覆盖70+国家与地区</td>
  </tr>
</table>



将您期望加速的域名接入腾讯云时，您可以在 [内容分发网络控制台](https://console.cloud.tencent.com/cdn) 的加速类型中选择两种产品：
![](https://qcloudimg.tencent-cloud.cn/raw/0daa9f1e64d7f9d092e610f36ff8c39b.png)

请注意，两种加速类型使用不同的加速策略及计费标准，详情请参考 [CDN 计费说明](https://cloud.tencent.com/document/product/228/2949) 和 [ECDN 计费说明](https://cloud.tencent.com/document/product/570/10979)。





## CDN 接入示例

![](https://main.qcloudimg.com/raw/b3d3c9207414b55253cbf80b6ad1146b.png)

### 配置 CDN 加速的用户访问案例：

位于深圳的用户通过 cdntest.com 访问服务器位于北京且地址为1.1.1.1的源站。

1. 用户输入域名 "cdntest.com" 进行访问，本地 DNS 解析出用户配置的 CNAME 值 "cdntest.com.cdn.dnsv1.com"，请求发送到腾讯自主研发的 Tencent DNS 调度体系，分配靠近用户的最佳 CDN 边缘节点 IP 2.2.2.2。
2. 用户请求 IP 为 2.2.2.2 的CDN节点，如果 CDN 节点已缓存该内容，将用户请求的内容返回，流程结束。
3. 若 CDN 节点未缓存该内容，则向位于北京的地址为 1.1.1.1 的源站进行请求，请求内容由用户配置的回源 HOST 决定。
4. CDN 边缘节点从源站获取资源后，根据用户自定义的缓存策略缓存至IP地址为 2.2.2.2 边缘节点并返回给用户，此次请求结束。
5. 其他靠近深圳的用户再次访问 "cdntest.com" 时，Tencent DNS 调度将优先将其调度至 IP 为 2.2.2.2 的 CDN 边缘节点，此时该边缘节点已缓存相应内容，因此用户通过该边缘节点可以直接获取内容，无需去源站请求。

### 易混淆概念：

- 用户通过 "cdntest.com" 进行访问，"cdntest.com" 即为加速域名。
- 加速域名接入后，系统会自动分配一个以 `.cdn.dnsv1.com` 或 `.dsa.dnsv1.com` 为后缀的 CNAME 域名，需要您在域名解析控制台处进行解析。如 "cdntest.com.cdn.dnsv1.com"/"cdntest.com.dsa.dnsv1.com"。
- CDN 节点没有缓存用户请求内容时，CDN 节点将会向 1.1.1.1 请求内容，1.1.1.1即为源站地址。
- CDN 节点在请求 1.1.1.1 时，实际请求的地址为 "originhost.com"，则 "originhost.com" 即为回源 HOST，通常情况下，加速域名与回源HOST域名保持一致，您可以根据您的业务需求进行调整

| 配置名称          | 配置说明                                                     | 使用位置          |
| ----------------- | ------------------------------------------------------------ | ----------------- |
| 加速域名          | 您接入到 CDN 的域名，用户在终端进行实际访问的域名。            | 添加域名-域名配置 |
| 源站地址/源站域名 | 服务器源站对应的IP地址(域名)，CDN 节点不包含请求内容时将访问该地址(域名)获取请求内容。<br /><br />**源站：**提供服务的服务器，可以处理和响应用户请求。用户通过源站地址进行访问，源站地址可为域名或IP地址。**源站域名不能与加速域名相同**。 | 添加域名-源站配置 |
| 回源 HOST          | CDN 节点回源时实际请求的服务器内容。                          | 添加域名-源站配置 |
| CNAME 域名         | 在您的加速域名接入后，系统将会自动分配一个以 `.cdn.dnsv1.com` 或 `.dsa.dnsv1.com` 为后缀的 CNAME 域名。<br />将您的加速域名映射到 CNAME 域名后，腾讯云会动态的修改 CNAME 所指向的 IP 地址并使您的加速域名全部更新，无需您手动更改每一个加速域名指向的IP地址。 | 配置 CNAME         |



## 为什么使用 CDN 内容分发网络？

#### 当用户直接访问源站中的静态内容时，可能面临的体验问题：

- 客户离服务器越远，访问速度越慢。
- 客户数量越多，网络带宽费用越高。
- 跨境用户访问体验较差。

![](https://main.qcloudimg.com/raw/158ee8b568de3bed61ab3127f03ff232.png)

>?以上数据仅供参考，复杂网络环境下数据波动为正常情况。

#### CDN 如何改善您的网络体验：

- CDN 缓存内容后，用户仅需要访问就近的 CDN 节点即可获取静态内容。
- 缓解源站带宽压力，网络费用更低。
- 分布全球的跨境节点提升跨境访问体验。

![](https://main.qcloudimg.com/raw/25f2f688bc1e32b64cb3bb82e9839aa1.png)

>?以上数据仅供参考，复杂网络环境下数据波动为正常情况。

#### CDN 推荐使用场景：

- 网站静态资源加速：适用于**常用网站中的静态内容**（门户网站，电商网站，UGC 社区等），如图片，视频，各类 html 文件等进行缓存加速，可以使用户享受流畅的访问体验。
- 文件下载加速：适用于**各类文件下载**。通过将文件分发到边缘，既可以缓解下载高峰期的带宽压力，也为用户提供稳定的下载体验。
- 音视频加速：适用于**各类音视频点播网站**。结合腾讯多年在线视频运营经验，可以在音视频访问量高并发时期有效保证各区域终端用户流畅收听和观看音视频。

## 为什么使用 ECDN 全站加速网络？

### 当用户直接对源站中动态内容请求时，可能面临的体验问题

- 网络，地域，带宽均对资源请求产生影响，遭遇高延迟和高丢包率等问题。
- 路由过程面临质量较差及拥堵链路。
- 公网环境复杂，影响用户正常体验服务。

![](https://main.qcloudimg.com/raw/9f1584bf29f278e8b4a3a1653635b193.png)

>?以上数据仅供参考，复杂网络环境下数据波动为正常情况。



### ECDN 如何改善您的网络体验？

- 用户访问就近的 ECDN 节点进行资源访问，回源等操作。
- 对全网状态进行实时监控，选择最优链路，避开拥堵及低质量链路。

![](https://main.qcloudimg.com/raw/d4102c625559ebb81452bac91dcc50b5.png)

>?以上数据仅供参考，复杂网络环境下数据波动为正常情况。



### ECDN 推荐使用场景

- 动静加速：适用于**动静资源混合**的场景。一站式解决动静混合型场景，自动识别动静态资源，采取不同的加速策略，实现动静内容一站式加速。由于使用ECDN链路，因此**动静态计费均以 ECDN 计费标准**。
- 动态加速：适用于**动态资源请求较多**的场景，如游戏对战，电商交易，金融支付，在线教育等场景。通过动态路经探测，智能路由等技术选择最佳链路回源，大幅降低访问延时。

  
### 如何开通全站加速网络ECDN？

1. 新用户在 <a href="https://console.cloud.tencent.com/cdn">CDN 控制台 </a>开通服务将同时开通 CDN 与 ECDN 服务，不使用的服务不会产生费用，详情可见 <a href="https://cloud.tencent.com/document/product/228/3149">从零开始配置 CDN</a>。
2. 若当前仅开通了 CDN 服务，未开通 ECDN，则在第一次添加动静加速/动态加速域名时，系统将自动为您开通 ECDN 服务，如下图所示。
![](https://qcloudimg.tencent-cloud.cn/raw/d6c22eae0192309d346d3017e1b64e02.png)
3. 若您在已在原 ECDN 控制台已经开通了 ECDN 服务，可提交工单让后台进行账号迁移，迁移成功后即可在 CDN 控制台使用 ECDN 服务。

>!
>- 动静加速：适用于各类网站首页等动静态数据相融合的业务场景。
>- 动态加速：适用于账号登录、订单交易、API 调用、实时查询等场景。
>
>ECDN 域名产生的费用将按照 [ECDN 的计费方式](https://cloud.tencent.com/document/product/570/10979) 进行计费。

 


	
	
	

## 何时使用 SCDN？

如果您的业务对安全具有额外需求，您可在 CDN 的基础上订购额外的安全服务，即 SCDN。有关SCDN的更多内容，请参考 [安全加速 SCDN](https://cloud.tencent.com/document/product/1226)。



## 如何选择您的加速区域？

| 客户所在位置                 | 加速效果                                             | 加速区域选择 |
| :--------------------------- | ---------------------------------------------------- | ------------ |
| 中国境内                     | 全球用户访问均会调度至中国大陆境内的加速节点进行服务 | 中国境内     |
| 中国境外（含中国港澳台地区） | 全球用户访问均会调度至中国大陆境外的加速节点进行服务 | 中国境外     |
| 中国境内 + 中国境外          | 全球用户访问将会择优调度至最近节点进行服务           | 全球         |

腾讯云 CDN，ECDN 均具有遍布全球的边缘节点，我们会根据您的选择，将用户分配其所在区域内最近的节点，请注意不同加速区域的收费标准有变化，请参考 [计费说明](https://cloud.tencent.com/document/product/228/2949)。

>?如果您购买了流量包，请注意流量包的可用区域与您的加速区域是否对应。



## 从零开始配置 CDN/ECDN

此教程可以快速教您配置 CDN/ECDN 以及各参数解释，单击 [快速入门](https://cloud.tencent.com/document/product/228/3149) 进行查看。
