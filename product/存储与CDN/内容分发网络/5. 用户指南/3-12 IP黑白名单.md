## 功能介绍

CDN为您提供了IP黑白名单配置功能，对用户请求的源IP设置过滤策略，帮助您解决恶意IP盗刷、攻击等问题。



## 配置说明

登录[CDN控制台](https://console.qcloud.com/cdn)，点击左侧**域名管理**菜单栏，点击要配置IP黑白名单的域名右侧 **管理** 按钮，进入配置页面：

![](https://mc.qcloudimg.com/static/img/9d802ad649c5f051b31bb87e42ddde5b/image.png)

您可以在**高级配置**中找到**IP黑白名单配置**：

![](https://mc.qcloudimg.com/static/img/cff0543a5a631c34e4c42f48b3d1e939/image.png)



### 默认配置

默认情况下，IP黑白名单未启用，无黑/白名单。



### 自定义配置

#### 配置IP白名单

点击**编辑**按钮，选中**白名单**，可进行白名单配置：

![](https://mc.qcloudimg.com/static/img/05895dcbe0087a82b5eef7090bbdaebd/image.png)

假设用户为域名 [www.abc.com](www.abc.com) 配置了IP白名单，白名单内容如下：

> 1.1.1.1
>
> 2.2.2.2/24

则表明用户 **仅允许** 请求源IP的为1.1.1.1 或匹配 2.2.2.2/24 网段时能够正常返回所请求的内容，不满足条件的请求均直接返回403。 



#### 配置IP黑名单

点击**编辑**按钮，选中**黑名单**，可进行黑名单配置：

![](https://mc.qcloudimg.com/static/img/8624887bebd45498030f90d377ef5fb3/image.png)

假设用户为域名 [www.abc.com](www.abc.com) 配置了IP黑名单，黑名单内容如下：

> 3.3.3.3
>
> 4.4.4.4/16

则表明 **仅当** 请求源IP为3.3.3.3 或匹配 4.4.4.4/16 网段时直接返回403，其他请求均正常返回所请求内容。



### 注意事项

- IP黑名单、白名单二者不兼容，同一时间只能生效一种类型；



- 最多可输100条，以换行符相隔，一行输入一个；

- 支持如下格式的网段：127.0.0.1/8、127.0.0.1/16、127.0.0.1/24、127.0.0.1/32；其他网段格式暂不支持；

- 当IP黑名单、白名单输入内容均为空时，表示当前未开启IP黑白名单功能。


