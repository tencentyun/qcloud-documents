## 功能简介

- **在线数据的实时副本**
快照是对文件系统的完全可用拷贝。当已创建快照的文件系统出现问题时，可通过快照快速恢复到未出问题时的状态。建议您在业务重大变更前对相关文件系统创建快照，若业务变更失败数据可快速恢复。
- **关键里程碑的持久备份**
快照可以作为业务数据的持久备份，保留业务数据的里程碑状态。
- **快速部署业务**
您可使用业务的快照文件快速克隆多个文件系统，达到快速部署服务的目的。


## 快照原理说明

文件系统快照是基于块级别的克隆备份。一般情况下，快照容量会大于文件系统统计的数据量，两者的容量差异由以下原因造成：
- 底层数据块存储了文件系统的元数据。
- 删除数据是对已写入的数据块进行更改，而快照会对所有已更改的数据块进行数据备份。

## 应用场景

快照是一种便捷高效的数据保护服务，推荐应用于以下业务场景中：
- **数据日常备份**
您可以利用快照定期备份重要业务数据，以应对误操作、攻击或病毒等导致的数据丢失风险。
- **数据快速恢复**
您可在更换操作系统、升级应用软件或迁移业务数据等重大操作前，创建一份或多份快照。若在变更操作过程中出现任何问题，可通过已创建的快照及时恢复业务数据。
- **生产数据的多副本应用**
您可以通过创建生产数据快照，为数据挖掘、报表查询、开发测试等应用提供近实时的真实生产数据。
- **快速部署环境**
您可通过已创建的快照创建一个或多个文件系统，以便快速批量地部署相同业务环境，节省重复配置的时间。

## 计费规则

请参考[快照计费方式 > 按量付费（后付费）](https://cloud.tencent.com/document/product/582/78113)

## 配额限制

关于快照配额限制的详细信息，请参考 [使用限制](https://cloud.tencent.com/document/product/582/62812)。

## 快照类型

- **手动快照**
手动将某个时间点的文件系统数据创建快照，此快照可用来快速创建更多相同数据的文件系统。具体操作请参考 [创建快照](https://cloud.tencent.com/document/product/582/62813)。
- **定期快照**
当您的业务持续更新时，可使用定期快照来提供连续的备份功能。只需制定一个备份策略并关联文件系统，即可实现在一定周期内对文件系统数据进行连续备份，大幅提高数据安全。具体操作请参考 [定期快照](https://cloud.tencent.com/document/product/582/62814)。

>? 在创建快照过程中，可能存在一部分应用数据保存在内存中未持久化存储的情况。此现象可导致快照不能捕获最新最完整的文件系统数据，请参考 [注意事项](https://cloud.tencent.com/document/product/582/62813#.E6.B3.A8.E6.84.8F.E4.BA.8B.E9.A1.B9) 确保快照数据的一致性。
>



## 案例回顾

#### 案例一：执行高危操作前未做手动快照，导致数据丢失
例如，客户 A 从未对文件系统制作过快照。2019年5月某日，由于操作人员对文件系统进行了 fio 测试，文件系统被损坏，数据无法找回。
**分析：**若客户 A 在进行测试前先对文件系统做一份快照，那么在数据损坏后可以迅速启用快照创建一个新的文件系统，及时恢复业务。

#### 案例二：重要数据盘未做定期快照，导致数据丢失
例如，客户B曾对多个文件系统制作了快照，但2019年1月以后，出于成本考虑没有对新购文件系统制作快照。2019年6月某日，未受快照保护的文件系统由于文件系统层数据被误删除，数据丢失无法找回。
**分析：**若客户 B 对该文件系统进行了定期快照保护，那么在数据被误删后可以恢复至上一次快照时间点的数据状态，减少损失。在事件发生后，客户 B 已主动为该文件系统创建快照，全面增强了数据保护。

#### 案例三：误操作后利用定期快照回滚，业务得以恢复
例如，客户 C 对所有文件系统都进行了快照保护。2019年5月某日，由于误操作导致开机异常。
**分析：**客户 C 及时使用2天前的定期快照恢复数据，业务没有受损。


以上案例均为操作失误而导致的数据丢失，通过对比可发现：
- 在**未创建快照**的情况下，服务器或文件系统出现问题时数据找回非常困难，易造成较大损失。
- 在**已创建快照**的情况下，服务器或文件系统出现问题时数据基本找回，损失较小。

建议您可针对不同种类的业务定期创建快照，提高数据安全性，实现业务的低成本高容灾。





