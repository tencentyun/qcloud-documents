# 腾讯移动开发平台（MoblieLine） iOS 端体验

## 了解

对于小型开发团队而言，如何快速地构建、开发出一款功能齐全的应用在市场上是至关重要的。对于现在APP的许多基础能力，例如用户使用数据统计、推送、存储、异常检测和支付服务等都得要有，作为小型开发团队而言，自己开发这些功能相当费时费力，大多数还需有后台服务器的支撑，质量也没有云服务厂商提供的好，首选当然就是选择第三方提供的服务了。

不过使用第三方服务以后，还是会存在一定的问题。对于不同的能力，移动端上面需要集成不同的 SDK 一方面学习成本较高，因为不同的 SDK 代码和接口风格肯定不一样，配置和调用方式也千差万别，了解如何集成和使用相当费时间，集成的成本主要在学习成本上了。并且对于不同的第三方 SDK 而言，开发时一般较少考虑和其它 SDK 的兼容性，有时候两个 SDK 内部使用了同一个库或者需要对某个编译选项进行修改，影响到整体的集成流程。

考虑到上面的问题以后，发现 MobilieLine 可以较好的解决这些问题，虽然 MoblieLine 内部也是集成了不同的 SDK ,但经过了封装以后，对外的接口风格都是一致的，配置过程也相当简洁，降低了学习成本。

## 集成
集成时候使用了官方推荐的 Cocoapods 集成方式，简单地说就是以下几步：
- 在 Podfile 里写好源和要引入的模块（这里提供了国内的源，避免了从 Github 安装时容易失败的问题，赞），并安装
- 配置好提供的配置脚本
- AppDelegate 里面加一句配置代码

可以看出来集成、配置到运行起来的步骤就寥寥几步，相当迅速。而集成的步骤越少，过程中就越难出错。事实上，集成众多第三方 SDK 时，从集成到编译通过是一个极其容易遇到困难卡住，产生挫败感的地方。而 MoblieLine 的集成方式能很好地避免这一问题。

## 使用
MobilieLine 封装了统一的接口，无论是用数据统计、还是推送功能都是一样的流程，配置完成后，调用相关接口即可。像数据统计的功能，可以直接调用数据上传的接口：
~~~
TACAnalyticsEvent* event = [TACAnalyticsEvent eventWithIdentifier:@"demo-appear-event"];
[TACAnalyticsService trackEvent:event];
~~~
然后在控制台上可以直接对应的结果（如新增用户数、页面追踪统计等）：
![控制台结果](https://tacimg-1253960454.cos.ap-guangzhou.myqcloud.com/PR-manuscript/iOS/%E6%9F%A5%E7%9C%8B%E6%96%B0%E5%A2%9E%E7%94%A8%E6%88%B7.png)
又例如 Crash 上报的功能，无需拥有后台收集服务器，也无需自行去如何捕获和解析异常，该手机那些信息上报等等，只要集成以后，就可以拥有最完整的异常上报系统，对于所有 Crash 可以进行堆栈的跟踪和机型信息等分析，直接可以在控制台中看到效果：
![Crash效果](https://tacimg-1253960454.cos.ap-guangzhou.myqcloud.com/PR-manuscript/iOS/Crash%E5%88%86%E6%9E%90.png)

应用常用到的另一点是推送，集成 MobilieLine 的 推送模块以后可以直接在控制台对手机端进行推送，不用关心如何向苹果推送服务器交互的细节，也可以在自己没有搭建推送服务器的情况下进行推送。


## 感受
总的来说，MobilieLine 的确可以快速帮应用建立起一些必备的基础能力，统一封装的接口也大大降低了学习成本，值得一提的是 SDK 内部的注释也很完备，在一开始熟悉了结构以后，可以根据接口定义和注释来完全搞清楚这个接口该怎么用。

在前期构建应用而言，使用 MobileLine 可以迅速地帮助应用构建起来，省去了自行一个一个去集成零散的 SDK 的烦恼，从 iOS 端的体验来看还是相当不错的。随着日后的发展和功能的增加，相信无论是多小的团队，都能在 MobileLine 的基础上迅速地拥有与巨无霸 APP 一样完善的移动基础设施，在移动互联网的时代快速发展。
