## 概述

智能媒资托管服务的 API 接口为 RESTful 形式且支持 CORS，您可以通过任何可以发起标准 HTTPS 要求的编程库向智能媒资托管服务发起请求，也可以在浏览器中直接发起请求。对于有请求体的接口，请求体默认为 JSON 格式。

>! 基于安全考虑，智能媒资托管不支持 HTTP 请求。
>

## 创建访问令牌

在使用智能媒资托管服务时，除通过控制台进行的媒体库管理、操作访问令牌本身的请求和开启公有读后的读请求，所有其他请求均需要使用访问令牌来进行请求身份的验证和识别。

由于访问令牌是所有操作的前提，且在请求访问令牌时需要指定所授予的权限，因此该操作请求不允许在客户端发起以避免任何越权行为。为此，创建访问令牌请求要求验证媒体库密钥，而业务方也不应将媒体库密钥暴露在客户端中。

在实际业务架构中，业务后端需要先完成业务前端的登录与鉴权操作（例如自建用户体系的帐密、短信验证登录，或微信登录、小程序登录等），在确认业务前端请求是合法用户之后，根据用户在业务中的角色对应智能媒资托管服务中的权限，由业务后端调用智能媒资托管接口生成访问令牌并返回给业务前端。在生成访问令牌时还可以将用户 ID 附加在请求中，以便智能媒资托管记录后续操作的操作者。

访问令牌拥有有效期，默认为 24 小时，可在生成访问令牌时指定其他的有效期。在使用访问令牌发起请求时，智能媒资托管将自动为该访问令牌续期，将该访问令牌的有效期延长为默认的 24 小时或指定时长，因此，如果用户每次访问智能媒资托管的间隔时间小于默认的 24 小时或您指定的有效期，则该访问令牌将一直有效。

为了保障业务与用户的信息安全，我们也提供强制删除访问令牌的接口，当用户修改密码或遗失设备，或您需要主动禁用指定用户的访问时，可以使用相关接口强制删除指定用户在指定设备或全部设备上的访问令牌。

有关生成与删除访问令牌接口的详细说明，请参阅 API 文档的 [生成访问令牌](https://cloud.tencent.com/document/product/1339/49964) 及 [删除指定的访问令牌](https://cloud.tencent.com/document/product/1339/49965) 。

## 发起请求

您可以参阅 [API 文档](https://cloud.tencent.com/document/product/1339/49943) 了解具体的操作说明及请求参数。

## 使用 SDK

目前智能媒资托管提供小程序端的 SDK，您可以通过 SDK 完成访问令牌的智能管理及向智能媒资托管发起请求。后续我们也将提供更多语言的 SDK 来满足客户需求。
