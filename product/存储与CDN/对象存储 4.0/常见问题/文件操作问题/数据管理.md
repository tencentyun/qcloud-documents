## 删除问题

### 通过控制台无法删除存储桶，提示“目录非空”或“请删除存储桶中的有效数据”怎么办？

1. 请确认您使用的控制台版本是 V4 还是 V5 版本，V4 版本请 [联系我们](https://cloud.tencent.com/document/product/436/37708)，申请升级到 V5 版本控制台。
2. 登录对象存储 [ V5 版本控制台](https://console.cloud.tencent.com/cos5)，进入需要删除的存储桶，单击【未完成上传】管理项将文件碎片删除。
3. 回到【存储桶列表】删除对应存储桶。


### 误删除存储桶内的文件，是否可以恢复？

目前人为误删除文件，暂不支持恢复。您可以启用存储桶版本控制功能，此后往存储桶上传同名对象，可以存放该对象的多个版本，您可以对指定版本的对象进行检索、删除或还原。这有助于恢复被用户误删或应用程序故障而丢失的数据。详情请参见 [设置版本控制](https://cloud.tencent.com/document/product/436/19881)。


## 文件碎片

### 文件碎片是如何产生的，可以下载吗？

文件碎片是在上传对象过程中，暂停或取消上传时产生的。对象存储 COS 支持将大于5GB的大文件以分块上传的方式进行上传，原理是将大文件进行分块，处理成小的分块进而上传。如果在分块上传的任务中没有调用 Abort Multipart Upload 或 Complete Multipart Upload 接口，已经上传的分块就会存储为文件碎片。文件碎片不支持下载。

### 文件碎片是否会占用存储空间，是否会产生费用？

文件碎片和正常的对象一样会占用存储空间，所以会产生存储容量费用。

### 如何（定期）清理文件碎片？

您可以在对象存储控制台上直接删除文件碎片，操作方法请参见 [删除碎片文件](https://cloud.tencent.com/document/product/436/17313)，您也可以通过 [配置生命周期定期清理文件碎片](https://cloud.tencent.com/document/product/436/17313#.E9.85.8D.E7.BD.AE.E7.94.9F.E5.91.BD.E5.91.A8.E6.9C.9F.E5.AE.9A.E6.9C.9F.E6.B8.85.E7.90.86.E6.96.87.E4.BB.B6.E7.A2.8E.E7.89.87)。

### 清理文件碎片是否会影响其他完整上传的文件？

清理文件碎片会对未成功上传的文件进行删除，不会影响其他已完整上传的文件。


## 自定义 Headers

### 是否支持批量自定义对象头部（Headers）？

COS 支持批量自定义头部，详见 [自定义 Headers](https://cloud.tencent.com/document/product/436/13361)。

## 其他功能

### COS 支持设置回调吗？例如为上传的每个图像创建一个缩略图保存至另一个存储桶？

您可以结合 COS 与云函数 SCF 进行设置。相关实践文档请参见 [获取 COS 上的图像并创建缩略图](https://cloud.tencent.com/document/product/583/9734)。

### COS 是否支持某个文件夹大小的统计？

COS 支持查看当前文件夹的对象数量及对象所占的容量大小，详情请参见 [查看文件夹详情](https://cloud.tencent.com/document/product/436/35185) 。

### COS 中的对象能不能设置回退到上个版本？

开启存储桶 [版本控制](https://cloud.tencent.com/document/product/436/19883) 功能后，您可以在存储桶中存放对象的多个版本，并且可以对指定版本的对象进行检索、删除或还原，详细步骤请参见 [设置版本控制](https://cloud.tencent.com/document/product/436/19881) 文档。

### 如何查看 COS 下某一类型文件数量（如图片数量）？

可开通清单功能，根据生成的清单文件进行查看，详情请参见 [开通清单功能](https://cloud.tencent.com/document/product/436/33702) 文档。

