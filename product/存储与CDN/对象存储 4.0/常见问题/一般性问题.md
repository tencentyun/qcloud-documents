### 什么是对象存储 COS？

腾讯云对象存储 COS 是在云上提供无层次结构的分布式存储产品，为用户提供单价较低且快速可靠的数据存储方案。COS 以冗余的方式跨多个可用区存储用户数据，并允许多个不同的客户端或应用程序线程同时对这些数据进行读或写操作。

用户可通过云服务器实例或互联网使用 Web API 接口存储和检索数据。在 COS 上的数据，用户使用指定域名的 URL 地址，通过 HTTP/HTTPS 协议存储和检索每个独立的数据对象内容。

有关腾讯云对象存储的更多信息，请参见  [COS 产品文档](https://cloud.tencent.com/document/product/436)。


### 对象存储和文件存储的区别是什么？

[对象存储](https://cloud.tencent.com/document/product/436) 无目录层次结构、无数据格式限制，可存储任意数量的数据，存储桶空间无容量上限，无需分区管理。数据支持高可用架构部署，设计保障数据最终一致性，不支持文件锁等特性。API 使用 HTTP/HTTPS 的协议访问，并提供 SDK 和工具等方式与业务集成，上传到 COS 的对象可通过 URL 地址直接访问或下载。

[文件存储](https://cloud.tencent.com/document/product/582 ) 使用常用的网络文件传输协议，可创建文件系统并实现大规模扩展，需挂载在云服务器中使用。文件存储可为网站、在线发行、存档各种应用存储。 计算吞吐量高，具有极高的可用性和持久性，也适用于并发较高或需要共享存储的需求。

### 对象存储和云硬盘的区别是什么？

[对象存储](https://cloud.tencent.com/document/product/436) 具备无文件系统、目录结构、文件数量和空间上限的特性，需通过 Web API 接口管理和访问存储，提供了 SDK 和工具等集成，可以不依托云服务器单独使用。对象存储支持大规模数据的访问，但不适合毫秒级响应或随机读写的场景。

[云硬盘](https://cloud.tencent.com/document/product/362) 需要搭配云服务器，使用文件系统分区或格式化后，才可以被挂载使用。根据云硬盘不同的类型，针对不同的性能指标提供了区别 IOPS 和吞吐性能的产品，可满足单机使用的不同场景。


### 为何公有读文件的访问链接会失效？

如果您访问的是带有临时签名的访问链接，那么当临时签名过期后，该访问链接都会失效（无论该文件是否为公有读）。

如果您希望其他人可以一直访问到您的公有读文件，建议您直接使用不带签名的访问链接，您可在 [对象存储控制台](https://console.cloud.tencent.com/cos) 的对象详情页获取不带签名的访问链接（即对象地址）。


### 如何理解 COS 的“文件夹”或“目录”？

对象存储中不存在文件夹和目录的概念，但为了兼顾不同用户的使用习惯，对象存储借鉴传统文件管理的目录结构，在控制台、COSBrowser 工具等可视化界面上模拟了“文件夹”的展示方式。更多详情请参见 [文件夹和目录](https://cloud.tencent.com/document/product/436/13324#.E6.96.87.E4.BB.B6.E5.A4.B9.E5.92.8C.E7.9B.AE.E5.BD.95) 文档。

### COS 文件删除后能不能恢复？

对象存储 COS 的数据冗余存储机制是针对服务器等硬件出现故障时需要数据恢复的场景进行设计的。若您在未开启版本控制功能的情况下，主动对 COS 的数据手动删除或进行配置删除后，腾讯云将按照您的指令删除数据，并且无法恢复。

主动删除的途径有以下几点：

- 通过 COS 控制台删除单个文件、批量删除文件，清空碎片或者存储桶。
- 通过 COSCMD、COSBrowser 等 COS 工具删除文件。
- 通过 COS API 或 SDK 删除文件。
- 通过 COS 生命周期管理功能，定期删除文件。
- 通过 COS 跨地域复制的全量同步功能，同步不同地域的存储桶间的新增、修改、删除操作造成同步目标存储桶中同名文件被覆盖、删除。

### 如何避免误删？

- 对存储桶文件做定时备份操作：
  - 使用 [COSCMD 工具](https://cloud.tencent.com/document/product/436/10976) 将 COS 内对象下载至本地或第三方服务器。
  - 使用 [COS Migration 工具](https://cloud.tencent.com/document/product/436/30745) 或者跨地域复制功能实现同地域或跨地域的存储桶数据备份。
  - 定期使用 COS API、SDK，将数据备份到 COS 的其他存储桶。
  - 使用版本控制保存您的历史版本数据。
- 使用 COS 权限管理，参考 [访问管理实践](https://cloud.tencent.com/document/product/436/12469)：
  - 读写权限分离，对于只需要读数据的业务、只使用具有读权限的子账号或临时密钥进行访问。
  - 存储桶（Bucket）权限分离，针对不同的业务，只授权对应业务范围内的存储桶、目录和操作权限。
  - 不使用主账号访问 COS。
  - 使用临时密钥访问 COS。
  - 妥善保管数据访问的凭据，如腾讯云账号密码、CAM 子账号访问凭据、腾讯云 API 密钥等。


### COS 支持数据统计功能吗？

对象存储 COS 提供存储数据的监控能力，用户可通过监控数据窗口了解各数据的状况及趋势。如需查看全盘数据趋势，您可以在 [COS 控制台](https://console.cloud.tencent.com/cos5) 的**概览**页面，根据不同存储类型的维度，查看其存储量、请求数、流量等数据。
若需查看单一存储桶的数据统计情况，可参见 [查询监控报表](https://cloud.tencent.com/document/product/436/13332)。

除此之外，您也可以在腾讯云 [腾讯云可观测平台](https://console.cloud.tencent.com/monitor/product/COS) 页面查看不同存储桶的监控信息，并根据业务需求配置不同的告警策略。

### COS 支持图片处理、图片压缩、缩略图、视频文件转码等功能吗？

COS 控制台集成了数据万象，可以实现图片处理、图片压缩、缩略图、视频文件转码等数据处理功能，详情请参见 [数据处理](https://cloud.tencent.com/document/product/436/42223) 文档。


### COS 支持哪些格式音视频文件处理？

对象存储服务是面向非结构化数据的分布式存储服务，服务本身不支持音视频文件处理。mp4、avi、ts、hls、mp3、aac 等富媒体文件处理请参见 [数据万象 CI](https://cloud.tencent.com/product/ci?idx=1)。

### COS 支持文件解压吗？

对象存储服务是面向非结构化数据的分布式存储服务，服务本身不支持文件解压。数据万象产品提供了COS文件处理的功能，包含文件解压、文件打包压缩等，详情请参见 [文件处理概述](https://cloud.tencent.com/document/product/436/82324)。

### COS 有哪些规格和限制？

详情请参见 [规格与限制](https://cloud.tencent.com/document/product/436/14518) 文档。

### 什么是存储桶？

存储桶（Bucket）是对象的载体，可理解为存放对象的“容器”。用户可以通过腾讯云控制台、API、SDK 等多种方式管理存储桶以及配置属性。例如，配置存储桶用于静态网站托管、配置存储桶的访问权限等。更多详情请参见 [存储桶概述](https://cloud.tencent.com/document/product/436/13312)。

### 创建存储桶时，对于存储桶名称长度有什么限制？

在2021年9月份，COS 控制台进行了版本更新，重新调整了存储桶名称长度的限制策略。新的限制策略是存储桶名称的最大允许字符受到**地域简称**和 **APPID** 的字符数影响，组成的完整请求域名字符数总计最多60个字符。用户已创建的长名称存储桶不会影响业务，无需调整。如果因特殊情况有域名长度扩充的需求，请您加入 [技术支持微信群](https://cloud.tencent.com/document/product/436/37708#.E6.8A.80.E6.9C.AF.E6.94.AF.E6.8C.81) 联系我们。


### COS 存在历史版本和当前版本，应当使用哪一个？

COS 的历史版本和当前版本在实现上存在较大差异，相较于历史版本，当前版本具备更丰富的功能，且历史版本将不再新增特性，**推荐您使用当前版本** 以获得更丰富的体验。如您为历史版本的用户，可 [联系我们](https://cloud.tencent.com/document/product/436/37708) 为您开通当前版本。

当前版本和历史版本所使用的 API 和 SDK 接口均存在差异，历史版本使用 JSON API，当前版本使用 XML API，两种 API 底层架构相同，数据互通，可以交叉使用，但是接口不兼容，域名不一致。

### 如何监控错误码信息？

您可以使用 [腾讯云可观测平台](https://console.cloud.tencent.com/monitor/product/COS) 获取不同类型的 HTTP 返回码信息，详细内容可参见 [监控与报警](https://cloud.tencent.com/document/product/436/31903) 文档。有关腾讯云可观测平台的使用和相关数据获取方式，可参见腾讯云可观测平台的 [控制台指南](https://cloud.tencent.com/document/product/248/87139) 或 [API 文档](https://cloud.tencent.com/document/product/248/13655)。  


### COS 可用性如何计算？
COS 提供以下可用性计算示例，供您参考：
小明使用腾讯云对象存储服务以从事其电商业务，假设其业务在2018年11月1日至11月30日这一服务月度中总共消耗了100元人民币服务费用，且在该服务月度中分别出现了两次不可用的情况，两次不可用情况的记录如下表所示：

<table>
   <tr>
      <th>不可用事件编号</th>
      <th>持续时间</th>
      <th>不可用事件每5分钟记录</th>
      <th>HTTP返回码</th>
      <th>失败请求数</th>
      <th>有效请求数</th>
   </tr>
   <tr>
      <td rowspan=3><center>1<center></td >
      <td rowspan=3>15分钟</td>
      <td>2018年11月15日10:00 - 10:05</td>
      <td>503</td>
      <td>100</td>
      <td>100</td>
   </tr>
   <tr>
      <td>2018年11月15日10:05 - 10:10</td>
      <td>503</td>
      <td>99</td>
      <td>100</td>
   </tr>
   <tr>
      <td>2018年11月15日10:10 - 10:15</td>
      <td>503</td>
      <td>98</td>
      <td>100</td>
   </tr>
   <tr>
      <td rowspan=3><center>2<center></td>
      <td rowspan=3>15分钟</td>
      <td>2018年11月20日16:00 - 16:05</td>
      <td>500</td>
      <td>150</td>
      <td>150</td>
   </tr>
   <tr>
      <td>2018年11月20日16:05 - 16:10</td>
      <td>500</td>
      <td>148</td>
      <td>150</td>
   </tr>
   <tr>
      <td>2018年11月20日16:10 - 16:15</td>
      <td>500</td>
      <td>140</td>
      <td>150</td>
   </tr>
</table>

其他时间段，小明的请求**均返回了请求成功的200状态码**。

在此情况下，该服务月度的整体可用性如下：

**（1）计算当月的每5分钟错误率数值**

根据案例详情：小明的业务正常时，每5分钟内错误率均为0%

不可用事件1：持续时间为2018年11月15日10:00 - 10:15，每5分钟错误率分别为： 
- 10:00 - 10:05之间的错误率计算：**100 / 100 \* 100% = 100%**
- 10:05 - 10:10之间的错误率计算：**99 / 100 \* 100% = 99%**
- 10:10 - 10:15之间的错误率计算：**98 / 100 \* 100% = 98%**

不可用事件2：持续时间为2018年11月20日16:00 - 16:15，每5分钟错误率分别为：
- 16:00 - 16:05之间的错误率计算：**150 / 150 \* 100% = 100%**
- 16:05 - 16:10之间的错误率计算：**148 / 150 \* 100% = 98.67%**
- 16:10 - 16:15之间的错误率计算：**140 / 150 \* 100% = 93.33%**

**（2）计算该服务月度的服务可用性**

该案例中：

- 服务月度总时长：30天 \* 24小时/天 \* 60分钟/小时 = 43200分钟
- 服务月度内的5分钟总个数：43200分钟 / 5分钟 = 8640
- 服务月度内不可用的5分钟总个数：(15 + 15)分钟 / 5分钟 = 6
- 服务月度内的5分钟错误率之和：(100% + 99% + 98% + 100% + 98.67% + 93.33%) + (8640 - 6) \* 0% = 589%

该月的服务可用性为：**(1 - 589% / 8640) \* 100% = 99.93%**

**（3）计算赔偿项**

该案例中，服务可用性为99.93%，低于99.95%的可用性标准但高于99.9%，根据赔偿标准，腾讯云对象存储服务需赔偿用户月度总服务费的20%，即20元。
小明只需在服务月度结束后六十（60）个自然日内，即2019年1月29日前提起工单申请赔偿，腾讯云将以发放代金券的形式向小明赔偿相应损失。



### 如何关闭 COS 或停止计费？

COS 暂不支持一键关闭，您可以通过以下方式来实现关闭 COS 或停止计费。

1. 若您不再使用 COS 服务，您可以将 COS 中的所有数据（包括未完成上传的文件碎片、历史版本对象等）完全删除以避免继续计费，无需注销账号（如有使用其他腾讯云服务，注销账号会受到影响）。关于删除数据的操作指引，请参见 [欠费说明](https://cloud.tencent.com/document/product/436/10044#guide)。
2. 若您长时间（超过一个月）不使用 COS 服务，可以设置生命周期规则把存储桶中标准存储类型的数据，转换为低频存储、归档存储或深度归档存储等较冷的存储类型。这样可节省您的存储容量费用，详情请参见 [设置生命周期](https://cloud.tencent.com/document/product/436/14605)。存储类型转换，会产生原存储类型的读请求和目标存储类型的写请求。因此通过生命周期转换存储类型，会产生读写请求费用。关于请求计费说明请参见 [请求费用](https://cloud.tencent.com/document/product/436/53861)。


**注意事项**

- 存储桶中的数据被彻底删除后，将无法恢复，请及时进行数据备份。
- 若存储桶已开启版本控制功能，请暂停版本控制功能后，再执行删除操作。
- 您需要留意费用的结算周期，避免账号产生欠费。若您的计费项均是日结，则清理当天的账单将在您清理后的次日产生。数据彻底清理完成后，系统将不会产生新的费用。详请见 [计费周期](https://cloud.tencent.com/document/product/436/16871#.E8.AE.A1.E8.B4.B9.E5.91.A8.E6.9C.9F)。
- 当您账户余额不足发生欠费（账户余额小于0）时，无论是否处于资源包的有效期，COS 都将在欠费24小时后停止服务。
- 若账号有免费额度资源包，欠费停服后，该资源包将不可使用。
- 若您存储桶中的数据由于违反了相关规定，并且该数据属于二次封禁，则无法删除。如有疑问，请 [联系我们](https://cloud.tencent.com/document/product/436/37708)。 


        
