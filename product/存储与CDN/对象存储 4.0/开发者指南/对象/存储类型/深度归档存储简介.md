## 简介

深度归档存储（Deep Archive）是对象存储 COS 提供的可让海量数据长期归档的存储服务。深度归档存储提供了磁带存储级别的存储单价，为用户数据长期存储提供了低成本方案。用户无需在本地维护复杂的磁带库配置，无需关注底层存储介质的演进，通过对象存储 COS 提供的 API、SDK、生态工具和控制台等丰富的人机交互手段，即可实现便捷、低成本地管理数据。

深度归档存储适用于数据访问频率极低，但需要长期保留的场景。在日志冷备场景中，企业需要按照当地法律法规要求，将每天产生的日志数据进行冷备存储，以便追溯和分析。在安防监控和自动驾驶等业务中，企业沉淀了大量的图片、视频等媒体文件，在数据被使用过后仍然需要长期归档保存。通过深度归档存储，企业可以将这些数据存储在云上，仅在需要的时候恢复，降低存储成本和运维管理难度。

深度归档存储提供了99.999999999%（11个9）的数据持久性以及99.95%的业务设计可用性，用户还可以利用对象存储 COS 提供的版本控制、跨地域复制等功能进一步保障数据安全。

## 使用方法

1. 使用控制台上传
   登录 [COS 控制台](https://console.cloud.tencent.com/cos5)，单击【存储桶列表】，然后创建所支持地域（例如北京地域）的存储桶，创建完成后，在【文件列表】界面中单击【上传文件】，然后选择本地文件进行上传，在设置对象属性中将存储类型选择为【深度归档存储】，详情请参见 [上传对象](https://cloud.tencent.com/document/product/436/13321)。
   ![](https://main.qcloudimg.com/raw/2a6d44387acc34369676e2d3f949ee7d.png)
2. 使用 API 上传
   通过在 [PUT Object](https://cloud.tencent.com/document/product/436/7749)、[POST Object](https://cloud.tencent.com/document/product/436/14690) 或 [Initiate Multipart Upload](https://cloud.tencent.com/document/product/436/7746) 接口中将`x-cos-storage-class`设置为  `DEEP_ARCHIVE`，实现直传深度归档。

>!Append Object 不支持直传深度归档类型。

3. 使用 SDK 上传
   当前 COS 所发布的 SDK 都支持直传深度归档，具体方法是在文件上传时，将`StorageClass`参数设置为`DEEP_ARCHIVE`，实现直传深度归档。
4. 使用工具上传
   COSBrowser、COSCMD 工具支持直传深度归档，具体方法是在文件上传时，通过增加头部字段`x-cos-storage-class`，并设置为 `DEEP_ARCHIVE`，实现直传深度归档。

## 使用限制

深度归档存储具有以下限制，用户在使用过程中，请留意相关限制对存储成本和性能带来的影响：

- **最小存储单元限制**：最小存储单元为64KB，小于64KB的对象按64KB计算存储容量。
- **最短存储时间限制**：最短存储时间为180天，低于180天按照180天收费。

>?存储天数为逻辑天（满24小时为1天），计时开始时间以文件的修改时间计算。

- **回热请求 QPS 限制**：100次/秒。
- **地域限制**：当前仅支持北京、上海、广州和成都地域，其他地域将陆续支持。
- **使用限制**：深度归档存储暂不支持多 AZ，即开启了多 AZ 配置的存储桶，暂时无法使用深度归档存储类型。
- **操作限制**：不支持追加上传对象为深度归档存储类型。
- **回热请求限制**：每个对象每次只能执行一个回热请求，多个重复的回热请求会被合并并按照最快的回热模式处理。如果第 N+1次发起的回热请求的回热模式快于第 N 次，则按照新的回热请求执行，否则第 N+1次回热请求失败。

