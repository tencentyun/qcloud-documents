腾讯云对象存储服务的内网全球加速能力，借助腾讯云全局流量调度能力，智能路由解析用户请求，选择最优网络访问链路，可帮助用户实现一键式的跨地域内网访问能力。利用内网全球加速能力，可以充分利用腾讯云内网骨干线路的稳定传输质量，提升数据跨地域传输的稳定性和性能。

许多业务具有跨地域内网拉取数据的需求。例如在容器镜像分发场景下，镜像仓库往往采取集中式托管存储的方式存储在某个地域，容器集群则可能根据业务需要部署在不同地域；部署应用时，容器集群需要跨地域拉取镜像，会产生大量的跨地域请求。使用内网全球加速域名可以为这类场景提供稳定的内网跨城专线传输线路，提升镜像分发的稳定性。

>!使用内网全球加速功能时，由于请求信息会通过腾讯云内网专线加速传输，因此需要进行收费。具体的价格详情可参见 [产品定价](https://buy.cloud.tencent.com/price/cos)。

## 使用方法

您可以通过对象存储控制台、API 等方式开启全球加速功能。

#### 使用对象存储控制台

您可以通过对象存储控制台为您的存储桶开启全球加速功能，请参见 [开启全球加速](https://cloud.tencent.com/document/product/436/38864) 控制台文档。

#### 使用 REST API

您可以直接通过以下 API 开启全球加速功能：

- [PUT Bucket Accelerate](https://cloud.tencent.com/document/product/436/38869)
- [GET Bucket Accelerate](https://cloud.tencent.com/document/product/436/38868)

## 访问域名

开启全球加速功能后，您可以通过内网全球加速域名跨地域内网访问 COS 文件。内网全球加速域名格式形如：`<BucketName-APPID>.cos-internal.accelerate.tencentcos.cn`。

以某业务为例，该业务的应用镜像存储在广州地域的存储桶 `examplebucket-1250000000` 中，容器集群分别部署在广州、北京和上海地域。该业务团队为了加速容器镜像分发，为存储桶 `examplebucket-1250000000` 开启了全球加速能力，因此北京、上海、广州地域的容器集群可以通过内网全球加速域名 `examplebucket-1250000000.cos-internal.accelerate.tencentcos.cn` 内网拉取镜像包：

- 广州容器集群通过该域名加速拉取文件时：COS 会将请求智能解析到广州地域的内网接入层，直接从广州地域的存储集群中拉取文件。
- 北京/上海地域的容器集群通过该域名加速拉取文件时：COS 会将请求智能解析到北京/上海地域的内网接入层，由内网接入层设备通过跨城骨干网专线，到广州地域的存储集群中拉取文件。

>!
- 使用全球加速功能会额外产生费用，因此我们建议您根据业务实际情况审慎评估。
- 内网全球加速域名只能在腾讯云内网环境中使用，如果您的请求源不在腾讯云内网环境下将无法连通。此时您可以考虑使用默认源站域名或者默认的全球加速域名。
- 通过其他腾讯云产品（例如云服务器、容器服务、云函数等）使用内网全球加速域名，云产品所属地域需在 COS 可用地域范围内，否则无法使用。关于 COS 可用地域，请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224)。

## 注意事项

使用全球加速域名有如下注意事项：

- 开启全球加速域名后，预计在15分钟左右即可生效，请稍等片刻以待域名生效。
- 开启全球加速域名后，单个存储桶使用加速域名访问的最大带宽将根据全网业务量进行分配。
- 开启全球加速域名后，只有使用加速域名的请求才有加速效果，存储桶默认域名仍然可以正常使用。
- 使用加速域名时，只有请求链路属于加速链路时才会产生加速计费。例如，您使用加速域名从北京上传数据到北京存储桶，此时链路未加速，该请求不产生加速计费。
- 使用加速域名时，您可以指定 HTTP/HTTPS 传输协议，当请求信息在内网专线上传输时，COS 会视情况选择是否需要用 HTTPS 协议来传输以便保障数据传输安全。

