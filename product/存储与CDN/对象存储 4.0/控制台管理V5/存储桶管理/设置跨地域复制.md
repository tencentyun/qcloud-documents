## 简介

启用跨地域复制功能后，您可以将源存储桶中的**增量对象**进行自动、异步地复制到另一地域的目标存储桶中。您对源存储桶中的对象进行管理操作时（例如新增对象、删除对象），COS 将自动将这些操作复制到目标存储桶中。您可以根据实际需要，选择启用或关闭跨地域复制，更多信息请参见 [跨地域复制概述](https://cloud.tencent.com/document/product/436/19237)。

## 前提条件

开启跨地域复制功能前，请先确保源存储桶和目标存储桶均处于**不同地域**，且均已 [开启版本控制](https://cloud.tencent.com/document/product/436/19881) 功能。

> !如果您的存储桶开启了多 AZ 配置，则该存储桶无法作为跨地域复制的源存储桶或者目标存储桶。

## 启用跨地域复制

1. 登录 [对象存储控制台](https://console.cloud.tencent.com/cos5)，在左侧导航栏单击【存储桶列表】，然后选择单击需要配置跨地域复制的源存储桶，进入存储桶详情界面。
   ![](https://main.qcloudimg.com/raw/f0868afb4209d10b0c152b6e364fc460.jpg)
2. 单击左侧的【高级配置】，进入存储桶的高级配置页，向下找到【跨地域复制】管理项，单击【新增规则】进入跨地域复制规则配置状态。
   ![](https://main.qcloudimg.com/raw/13d53d3f81bedf08734a8f2b153665ca.png)
3. 配置跨地域复制规则要求源存储桶和目标存储桶均开启版本控制功能。如果源存储桶和目标存储桶均未开启版本控制功能，请先开启版本控制功能后，再配置跨地域复制规则。规则配置完成后，单击【确定】即可。
   ![](https://main.qcloudimg.com/raw/443adb6225bd8867304d274502d6dd49.png)

配置项说明如下：

- **源地域**：您的源存储桶所属地域。
- **应用范围**：指需要复制的源存储桶中的对象范围，如不设置则默认复制存储桶中的所有对象，假如指定前缀则复制具有特定前缀的内容（例如复制具有`logs/`前缀的文件 ，则填`logs/`）。
- **资源路径**：您的源存储桶路径。
- **目标存储桶**：指对象被复制后所存放的存储桶，其所属地域不能与源存储桶的地域相同，不支持选择非当前账号的存储桶。
- **目标存储类型**：指对象被复制到目标存储桶后的存储类型，默认跟随源存储桶中的对象类型，您可选择其他存储类型以改变目标存储桶中被复制对象的类型。目前支持标准存储和低频存储两种存储类型。

> !
>
> - 当您完成配置规则后，可对规则进行管理操作。您可单击按钮启用或禁用当前规则，单击编辑按钮可修改当前规则。
> - 如果您在首次设置跨地域复制规则中将应用范围设置为复制存储桶内的所有内容，那么您将无法新增任何规则。您可以通过编辑当前规则，或删除当前规则后重新添加的方式进行修改。
> - 如果您在首次设置跨地域复制规则中将应用范围设置为某项前缀的内容，那么您仍然可以通过编辑当前规则，将应用范围修改为存储桶内的全部内容。

## 关闭跨地域复制

您可通过两种方式关闭跨地域复制功能：通过关闭状态按钮和删除规则。

- **通过关闭状态按钮**：通过关闭某个规则中的状态按钮暂时禁用当前规则，这一操作将暂停当前跨地域复制功能，已复制数据将被保留在目标存储桶中，源存储桶中的增量数据将不再复制到目标存储桶，如需再次使用，单击开启按钮即可。
- **删除规则**：在【跨地域复制】管理项里删除已添加的规则，删除规则后已配置的跨地域复制规则将失效，已复制数据将被保留在目标存储桶中，源存储桶中的增量数据将不再进行跨地域复制操作，如需再次使用，您需要重新添加规则。
  ![](https://main.qcloudimg.com/raw/0f37a91ab6e5b91f06ecb5d4d047c65d.png)

> !
>
> - 尚未完成的跨地域复制操作，将在关闭跨地域复制时中止，并将无法继续执行。
> - 对存储桶再次启用跨地域复制时，仅对开启完成后新增的对象执行跨地域复制操作。

## 视频教程

以下视频为您详细介绍如何设置跨地域复制：

<div class="doc-video-mod"><iframe src="https://cloud.tencent.com/edu/learning/quick-play/1824-20798?source=gw.doc.media&withPoster=1&notip=1"></iframe></div>
