## 简介

本文介绍如何通过控制台使用音频审核功能。该功能可对音频内容进行安全审核，检测场景包括**涉黄**、**涉政**、**涉暴恐**、**广告检测**等。

添加音频自动审核配置后，该存储桶中新增的音频将在**上传时**自动进行检测审核，并支持自动冻结（禁止公有读访问）已检测的违规内容。

您也可以对已存在 COS 中的音频文件进行审核，详情请参见 [设置历史数据审核任务](https://cloud.tencent.com/document/product/436/54405) 和 [音频审核](https://cloud.tencent.com/document/product/436/54062) API 文档。

>?
>- 音频审核为收费项，由数据万象收取，详细的计费说明请参见 [内容审核费用](https://cloud.tencent.com/document/product/436/58965)。
>- 音频格式：支持 mp3、wav、aac、flac、amr、3gp、m4a、wma、ogg、ape 格式音频审核。
>- 音频码率：128Kbps - 256Kbps。
>- 音频大小：文件 < 600M。
>- 最大时长：3小时。
>- 音频审核可识别普通话、英语。
>

## 操作步骤

1. 登录 [对象存储控制台](https://console.cloud.tencent.com/cos5/bucket)，在**存储桶列表**页面选择需操作的存储桶，进入存储桶管理页面。
2. 在左侧导航栏中，选择**内容审核 > 自动审核配置**，单击**音频审核**。
3. 单击**添加音频自动审核配置**，按照如下配置项说明进行配置。
   - **审核范围**：选择您希望审核的音频文件范围，指定范围支持按照整个存储桶、某个目录或文件前缀进行筛选。
   - **审核后缀**：音频格式支持 mp3、wav、aac、flac、amr、3gp、m4a、wma、ogg、ape，支持多选。
   - **选择审核策略**：请选择您配置的审核策略，不同审核策略对应不同的策略分类，您可以通过自定义策略定制个性化场景审核。如您未配置过，会有一个系统默认策略。支持审核涉黄、涉暴恐、政治敏感、广告审核场景，可勾选一种或多种检测场景。您可以前往 [设置审核策略](https://cloud.tencent.com/document/product/436/55206) 查看如何配置审核策略。
   - **审核场景**：此处展示您所选择审核策略中配置的场景，您可以自定义勾选希望审核的场景。
   - **敏感文件冻结**：您可以选择开启敏感文件冻结服务，开启后将授权数据万象对相应类型文件进行自动机审冻结或人工审核冻结，从而禁止公有读访问已检测的违规内容。开启服务后，您需要选择冻结的音频类型和冻结音频分值区间。
   - **冻结类型**: 您可指定冻结类型及冻结机制。默认选择机审自动冻结，若您选择人工审核冻结，则天御专业团队将会对机审结果为敏感的音频进行二次复检，您可指定冻结音频分值区间（即60-100的整数，分值越大则说明音频越敏感）。
   - **回调设置**：开启回调后将把相应的审核结果反馈给您。您需选择回调的审核类型、回调内容，同时设置回调 URL。回调详情请查看 [回调内容](#1)。
4. 配置完成后，单击**保存**即可启用该功能。后续将对您新上传的音频文件进行审核。若需对历史数据进行审核，请参见 [设置历史数据审核任务](https://cloud.tencent.com/document/product/436/54405)。

<span id=1></span>
## 回调内容

若您开启了回调设置，当完成音频审核后，系统会向回调地址发送回调信息，内容如下所示：

```plaintext
{
    "code":0,
    "message":"success",
    "data":{
        "url":"",
        "result":1,
        "forbidden_status":1,
        "trace_id":"",
        "porn_info":{
            "hit_flag":1,
            "score":91,
            "label":""
        },
        "terrorist_info":{
            "hit_flag":0,
            "score":0,
            "label":""
            },
        "politics_info":{
            "hit_flag":0,
            "score":0,
            "label":""
        },
        "ads_info":{
            "hit_flag":0,
            "score":0,
            "label":""
        }
    }
}         
```

| 参数名称         | 描述                                                    | 类型   | 是否必选 |
| :--------------- | :------------------------------------------------------ | :----- | :------- |
| forbidden_status | 冻结状态，0表示正常，1表示音频文件已被冻结                  | Int    | 是       |
| porn_info        | 涉黄信息，包括是否命中、审核分数及详细标签等            | json   | 是       |
| terrorist_info   | 涉暴恐信息，包括是否命中、审核分数及详细标签等          | json   | 是       |
| politics_info    | 涉政信息，包括是否命中、审核分数及敏感人物信息等        | json   | 是       |
| ads_info         | 广告引导信息，包括是否命中、审核分数及详细标签等        | json   | 是       |
| result           | 供参考的识别结果，0为确认正常，1为确认敏感，2为疑似敏感 | Int    | 是       |
| trace_id         | 提交的审核任务的 jobid                                       | String | 是       |
| url              | 上传后的资源 URL，包括域名                             | String | 是       |

审核信息（porn_info、terrorist_info、politics_info、ads_info）中包含如下内容：

| 参数名称 | 描述                                                         | 类型   | 是否必选 |
| :------- | :----------------------------------------------------------- | :----- | :------- |
| hit_flag | 是否命中该审核分类，枚举值：0（未命中）、1（命中）、2（疑似） | Int    | 是       |
| label    | 识别出的音频标签                                             | String | 是       |
| score    | 审核分值。0 - 60分表示音频正常，60 - 90分表示音频疑似敏感，90 - 100分表示音频确定敏感 | Int    | 是       |


## 相关说明

1. 音频审核为打分制，对于每一段音频均有一个0 - 100的分值。
2. **确定部分**指确定是敏感音频和确定正常的音频，分值在60分以下及90分以上，无需人工干预。
3. **不确定部分**指疑似敏感音频，系统无法区分是否涉敏，分值在60 - 90，建议用户通过人工审核的方式确定。
