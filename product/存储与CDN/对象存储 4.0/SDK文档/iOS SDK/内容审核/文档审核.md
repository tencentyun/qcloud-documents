## 简介
内容审核功能是由 [数据万象](https://cloud.tencent.com/document/product/460)（Cloud Infinite，CI）提供的，数据万象将处理能力与 COS SDK 完全结合，您可以直接按照本篇文档指引进行使用。

>?使用内容审核服务需拥有数据万象使用权限：
- 主账号请 [单击此处](https://console.cloud.tencent.com/cam/role/grant?roleName=CI_QCSRole&policyName=QcloudCOSDataFullControl,QcloudAccessForCIRole,QcloudPartAccessForCIRole&principal=eyJzZXJ2aWNlIjoiY2kucWNsb3VkLmNvbSJ9&serviceType=%E6%95%B0%E6%8D%AE%E4%B8%87%E8%B1%A1&s_url=https%3A%2F%2Fconsole.cloud.tencent.com%2Fci) 进行角色授权。
- 子账号请参见 [授权子账号接入数据万象服务](https://cloud.tencent.com/document/product/460/36238) 文档。

本文档提供关于文档审核的相关的 API 概览以及 SDK 示例代码。

| API                                                           | 操作描述                   |
| :------------------------------------------------------------ | :------------------------- |
| [提交文档审核任务](https://cloud.tencent.com/document/product/436/59381) | 用于提交一个文档审核任务   |
| [查询文档审核任务结果](https://cloud.tencent.com/document/product/436/59382) | 用于查询指定的文档审核任务 |

## SDK API 参考

SDK 所有接口的具体参数与方法说明，请参考 [SDK API](https://cos-ios-sdk-doc-1253960454.file.myqcloud.com/)。

## 创建任务

#### 功能说明

QCloudPostDocRecognitionRequest 接口用于提交一个文档审核任务。您可以通过主动设置回调地址接收审核信息，也可以通过 JobId 进行查询。

> ! COS iOS SDK 版本需要大于等于 v6.0.9。

#### 请求示例

**Objective-C**

[//]: # (.cssg-snippet-post-doc-recognition)

```objective-c
QCloudPostDocRecognitionRequest * request = [[QCloudPostDocRecognitionRequest alloc]init];

// 对象键，是对象在 COS 上的完整路径，如果带目录的话，格式为 "dir1/object1"
request.object = @"exampleobject";

// 文件所在地域
request.regionName = @"regionName";

// 存储桶名称，格式为 BucketName-APPID
request.bucket = @"examplebucket-1250000000";

request.type = @"doc";

// 审核策略，不带审核策略时使用默认策略。具体查看 https://cloud.tencent.com/document/product/460/56345
request.bizType = BizType;

request.finishBlock = ^(QCloudPostDocRecognitionResult * outputObject, NSError *error) {
    // outputObject 提交审核反馈信息 包含用于查询的job id，详细字段请查看api文档或者SDK源码
    // QCloudPostDocRecognitionResult 类；
};
[[QCloudCOSXMLService defaultCOSXML] PostDocRecognition:request];
```

> ?更多完整示例，请前往 [GitHub](https://github.com/tencentyun/cos-snippets/tree/master/iOS/Objc/Examples/cases/DocRecognition.m) 查看。

**Swift**

[//]: # (.cssg-snippet-post-doc-recognition)

```swift
let request = QCloudPostDocRecognitionRequest();

// 对象键，是对象在 COS 上的完整路径，如果带目录的话，格式为 "dir1/object1"
request.object = "exampleobject";

// 文件所在地域
request.regionName = "regionName";

// 存储桶名称，格式为 BucketName-APPID
request.bucket = "examplebucket-1250000000";

request.type = "doc";

// 审核策略，不带审核策略时使用默认策略。具体查看 https://cloud.tencent.com/document/product/460/56345
request.setFinish { outputObject, error in
    // outputObject 提交审核反馈信息 包含用于查询的job id，详细字段请查看api文档或者SDK源码
    // QCloudPostDocRecognitionResult 类；
}
QCloudCOSXMLService.defaultCOSXML().postDocRecognition(request);
```

> ?更多完整示例，请前往 [GitHub](https://github.com/tencentyun/cos-snippets/tree/master/iOS/Swift/Examples/cases/DocRecognition.swift) 查看。

## 查询任务

#### 功能说明

QCloudGetDocRecognitionRequest 接口用于查询指定的文档审核任务。您可以根据文档审核任务的 JobId 来查询文档审核结果。

> ! COS iOS SDK 版本需要大于等于 v6.0.9。

#### 请求示例

**Objective-C**

[//]: # (.cssg-snippet-get-doc-recognition)

```objective-c
QCloudGetDocRecognitionRequest * request = [[QCloudGetDocRecognitionRequest alloc]init];

// 存储桶名称，格式为 BucketName-APPID
request.bucket = @"examplebucket-1250000000";

// 文件所在地域
request.regionName = @"regionName";

// QCloudPostDocRecognitionRequest接口返回的jobid
request.jobId = @"jobid";

request.finishBlock = ^(QCloudDocRecognitionResult * outputObject, NSError *error) {
    // outputObject 审核结果 包含用于查询的job id，详细字段请查看api文档或者SDK源码
    // QCloudDocRecognitionResult 类；
};
[[QCloudCOSXMLService defaultCOSXML] GetDocRecognition:request];
```

> ?更多完整示例，请前往 [GitHub](https://github.com/tencentyun/cos-snippets/tree/master/iOS/Objc/Examples/cases/DocRecognition.m) 查看。

**Swift**

[//]: # (.cssg-snippet-get-doc-recognition)

```swift
let request = QCloudGetDocRecognitionRequest();

// 存储桶名称，格式为 BucketName-APPID
request.bucket = "examplebucket-1250000000";

// 文件所在地域
request.regionName = "regionName";

// QCloudPostDocRecognitionRequest接口返回的jobid
request.jobId = "jobid";

request.setFinish { outputObject, error in
    // outputObject 审核结果 包含用于查询的job id，详细字段请查看api文档或者SDK源码
    // QCloudDocRecognitionResult 类；
};
QCloudCOSXMLService.defaultCOSXML().getDocRecognition(request);
```

> ?更多完整示例，请前往 [GitHub](https://github.com/tencentyun/cos-snippets/tree/master/iOS/Swift/Examples/cases/DocRecognition.swift) 查看。
