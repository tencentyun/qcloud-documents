## 简介

本文档提供快捷查询某个存储桶是否存在的示例代码。

示例代码实际调用了 COS API [HeadBucket](https://cloud.tencent.com/document/product/436/7735)，是该接口的简化版。

HeadBucket除了检查存储桶是否存在，还可以判断是否有权限访问存储桶，有以下几种情况：

- 存储桶存在且有读取权限，返回 HTTP 状态码为200。
- 无存储桶读取权限，返回 HTTP 状态码为403。
- 存储桶不存在，返回 HTTP 状态码为404。


## 检查存储桶是否存在

#### 功能说明

您可以通过 SDK 提供的快捷接口来检查 Bucket 是否存在。

#### 方法原型
```go
func (s *BucketService) IsExist(ctx context.Context) (isExist bool, err error)
```
#### 示例代码

```go
package main

import (
        "context"
        "fmt"
        "github.com/tencentyun/cos-go-sdk-v5"
        "net/http"
        "net/url"
        "os"
)

func main() {
        // 存储桶名称，由bucketname-appid 组成，appid必须填入，可以在COS控制台查看存储桶名称。 https://console.cloud.tencent.com/cos5/bucket
        // 替换为用户的 region，存储桶region可以在COS控制台“存储桶概览”查看 https://console.cloud.tencent.com/ ，关于地域的详情见 https://cloud.tencent.com/document/product/436/6224 。
        u, _ := url.Parse("https://examplebucket-1250000000.cos.ap-guangzhou.myqcloud.com")
        b := &cos.BaseURL{BucketURL: u}
        client := cos.NewClient(b, &http.Client{
                Transport: &cos.AuthorizationTransport{
                        // 通过环境变量获取密钥
                        // 环境变量 SECRETID 表示用户的 SecretId，登录访问管理控制台查看密钥，https://console.cloud.tencent.com/cam/capi
                        SecretID: os.Getenv("SECRETID"),
                        // 环境变量 SECRETKEY 表示用户的 SecretKey，登录访问管理控制台查看密钥，https://console.cloud.tencent.com/cam/capi
                        SecretKey: os.Getenv("SECRETKEY"),
                },
        })

        ok, err := client.Bucket.IsExist(context.Background())
        if err == nil && ok {
                fmt.Printf("bucket exists\n")
        } else if err != nil {
                fmt.Printf("head bucket failed: %v\n", err)
        } else {
                fmt.Printf("bucket does not exist\n")
        }
}
```
#### 返回结果说明
| 参数名称               | 描述                                                         | 类型   |
| ---------------------- | ------------------------------------------------------------ | ------ |
| isExist | 存储桶是否存在                      | bool |
| err |  请求是否成功 | struct |
