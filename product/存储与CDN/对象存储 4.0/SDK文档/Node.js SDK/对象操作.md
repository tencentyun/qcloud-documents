## 简介

本文档主要介绍关于对象的简单操作、分块操作以及其他操作相关的 API 概览以及 SDK 示例代码，并且举例如何使用。

**简单操作**

| API                                                          | 操作名         | 操作描述                                 |
| ------------------------------------------------------------ | -------------- | ---------------------------------------- |
| [GET Bucket（List Object）](https://cloud.tencent.com/document/product/436/7734) | 查询对象列表   | 查询存储桶下的部分或者全部对象           |
| [PUT Object](https://cloud.tencent.com/document/product/436/7749) | 简单上传对象   | 上传一个对象至存储桶                     |
| [POST Object](https://cloud.tencent.com/document/product/436/14690) | 表单上传对象   | 使用表单请求上传对象                     |
| [HEAD Object](https://cloud.tencent.com/document/product/436/7745) | 查询对象元数据 | 查询对象的元数据信息                     |
| [GET Object](https://cloud.tencent.com/document/product/436/7753) | 下载对象       | 下载一个对象至本地                       |
| [OPTIONS Object](https://cloud.tencent.com/document/product/436/8288) | 预请求跨域配置 | 用预请求来确认是否可以发送真正的跨域请求 |
| [PUT Object - Copy](https://cloud.tencent.com/document/product/436/10881) | 复制对象       | 复制对象到目标路径（对象键）             |
| [DELETE Object](https://cloud.tencent.com/document/product/436/7743) | 删除单个对象   | 在存储桶中删除指定对象                   |
| [DELETE Multiple Objects](https://cloud.tencent.com/document/product/436/8289) | 删除多个对象   | 在存储桶中批量删除对象                   |

**分块操作**

| API                                                          | 操作名         | 操作描述                             |
| ------------------------------------------------------------ | -------------- | ------------------------------------ |
| [List Multipart Uploads](https://cloud.tencent.com/document/product/436/7736) | 查询分块上传   | 查询正在进行中的分块上传信息         |
| [Initiate Multipart Upload](https://cloud.tencent.com/document/product/436/7746) | 初始化分块上传 | 初始化分块上传任务                   |
| [Upload Part](https://cloud.tencent.com/document/product/436/7750) | 上传分块       | 分块上传对象                         |
| [Upload Part - Copy](https://cloud.tencent.com/document/product/436/8287) | 复制分块       | 将其他对象复制为一个分块             |
| [List Parts](https://cloud.tencent.com/document/product/436/7747) | 查询已上传块   | 查询特定分块上传操作中已上传的块     |
| [Complete Multipart Upload](https://cloud.tencent.com/document/product/436/7742) | 完成分块上传   | 完成整个对象的分块上传               |
| [Abort Multipart Upload](https://cloud.tencent.com/document/product/436/7740) | 终止分块上传   | 终止一个分块上传操作并删除已上传的块 |

**其他操作**

| API                                                          | 操作名       | 操作描述                           |
| ------------------------------------------------------------ | ------------ | ---------------------------------- |
| [POST Object restore](https://cloud.tencent.com/document/product/436/12633) | 恢复归档对象 | 将归档类型的对象取回访问           |
| [PUT Object acl](https://cloud.tencent.com/document/product/436/7748) | 设置对象 ACL | 设置存储桶中某个对象的访问控制列表 |
| [GET Object acl](https://cloud.tencent.com/document/product/436/7744) | 查询对象 ACL | 查询对象的访问控制列表             |

## 简单操作

### 查询对象列表

#### 功能说明

查询存储桶下的部分或者全部对象。

#### 使用示例

示例一：列出目录 a 的所有文件。

[//]: # (.cssg-snippet-get-bucket)
```js
cos.getBucket({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',     /* 必须 */
    Prefix: 'a/',           /* 非必须 */
}, function(err, data) {
    console.log(err || data.Contents);
});
```

返回值格式：

```json
{
    "Name": "examplebucket-1250000000",
    "Prefix": "",
    "Marker": "a/",
    "MaxKeys": "1000",
    "Delimiter": "",
    "IsTruncated": "false",
    "Contents": [{
        "Key": "a/3mb.zip",
        "LastModified": "2018-10-18T07:08:03.000Z",
        "ETag": "\"05a9a30179f3db7b63136f30aa6aacae-3\"",
        "Size": "3145728",
        "Owner": {
            "ID": "1250000000",
            "DisplayName": "1250000000"
        },
        "StorageClass": "STANDARD"
    }],
    "statusCode": 200,
    "headers": {}
}
```

示例二：列出目录 a 的文件，不深度遍历。

[//]: # (.cssg-snippet-get-bucket-prefix)
```js
cos.getBucket({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Prefix: 'a/',              /* 非必须 */
    Delimiter: '/',            /* 非必须 */
}, function(err, data) {
    console.log(err || data.CommonPrefixes);
});
```

返回值格式：

```json
{
    "Name": "examplebucket-1250000000",
    "Prefix": "a/",
    "Marker": "",
    "MaxKeys": "1000",
    "Delimiter": "/",
    "IsTruncated": "false",
    "CommonPrefixes": [{
        "Prefix": "a/1/"
    }],
    "Contents": [{
        "Key": "a/3mb.zip",
        "LastModified": "2018-10-18T07:08:03.000Z",
        "ETag": "\"05a9a30179f3db7b63136f30aa6aacae-3\"",
        "Size": "3145728",
        "Owner": {
            "ID": "1250000000",
            "DisplayName": "1250000000"
        },
        "StorageClass": "STANDARD"
    }],
    "statusCode": 200,
    "headers": {}
}
```

#### 参数说明

| 参数名       | 参数描述                                                     | 类型   | 必填 |
| ------------ | ------------------------------------------------------------ | ------ | ---- |
| Bucket       | 存储桶的名称，命名规则为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region       | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Prefix       | 对象键前缀匹配，限定返回中只包含指定前缀的对象键             | String | 否   |
| Delimiter    | 定界符。为一个分隔符号，用于对对象键进行分组。一般是传`/`。所有对象键从 Prefix 或从头（如未指定 Prefix）到首个 delimiter 之间相同部分的路径归为一类，定义为 Common Prefix，然后列出所有 Common Prefix。 | String | 否   |
| Marker       | 起始对象键标记。列出从 Marker 开始 MaxKeys 条目，默认顺序为 UTF-8 字典序 | String | 否   |
| MaxKeys      | 单次返回最大的条目数量，默认1000，最大为1000                 | String | 否   |
| EncodingType | 规定返回值的编码方式，可选值：url，代表返回的对象键为 URL 编码（百分号编码）后的值，例如“腾讯云”将被编码为`%E8%85%BE%E8%AE%AF%E4%BA%91` | String | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名            | 参数描述                                                     | 类型        |
| ----------------- | ------------------------------------------------------------ | ----------- |
| err               | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object      |
| - statusCode      | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number      |
| - headers         | 请求返回的头部信息                                           | Object      |
| data              | 请求成功时返回的对象，如果请求发生错误，则为空               | Object      |
| - headers         | 请求返回的头部信息                                           | Object      |
| - statusCode      | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number      |
| - Name            | 存储桶的名称，格式为 &lt;BucketName-APPID>，例如 examplebucket-1250000000 | String      |
| - Prefix          | 对象键前缀匹配，从该标记之后（不含）按照 UTF-8 字典序返回对象键条目 | String      |
| - Marker          | 默认以 UTF-8 二进制顺序列出条目，所有列出条目从 Marker 开始  | String      |
| - MaxKeys         | 单次响应请求内返回结果的最大的条目数量                       | String      |
| - Delimiter       | 定界符                                                       | String      |
| - IsTruncated     | 响应请求条目是否被截断，值为 'true' 或者 'false'             | String      |
| - NextMarker      | 假如返回条目被截断，则返回 NextMarker 表示下一个条目的起点   | String      |
| - CommonPrefixes  | 将 Prefix 到 delimiter 之间的相同路径归为一类，定义为 Common Prefix | ObjectArray |
| - - Prefix        | 单条 Common Prefix 的前缀                                    | String      |
| - EncodingType    | 返回值的编码方式，作用于 Delimiter，Marker，Prefix，NextMarker，Key | String      |
| - Contents        | 对象元数据信息列表                                           | ObjectArray |
| - - Key           | 对象键，即对象的名称                                         | String      |
| - - ETag          | 根据对象内容计算出的 MD5 算法校验值，例如`"22ca88419e2ed4721c23807c678adbe4c08a7880"`，**注意前后携带双引号** | String      |
| - - Size          | 对象大小，单位 Byte                                          | String      |
| - - LastModified  | 对象最后修改时间，为 ISO8601 格式，例如2019-05-24T10:56:40Z  | String      |
| - - Owner         | 对象持有者信息                                               | Object      |
| - - - ID          | 对象持有者的完整 ID，格式为`qcs::cam::uin/[OwnerUin]:uin/[OwnerUin]`，例如 `qcs::cam::uin/100000000001:uin/100000000001`，其中100000000001为 uin | String      |
| - - - DisplayName | 对象持有者的名称                                             | String      |
| - - StorageClass  | 对象存储级别，枚举值为：STANDARD、STANDARD_IA、ARCHIVE，详情参见 [存储类型](https://cloud.tencent.com/document/product/436/33417) 文档 | String      |

### 简单上传对象

#### 功能说明

PUT Object 接口可以上传一个对象至指定存储桶中，该操作需要请求者对存储桶有 WRITE 权限。最大支持上传不超过5GB的对象，5GB以上对象请使用 [分块上传](#.E5.88.86.E5.9D.97.E6.93.8D.E4.BD.9C) 或 [高级接口](#.E9.AB.98.E7.BA.A7.E6.8E.A5.E5.8F.A3.EF.BC.88.E6.8E.A8.E8.8D.90.EF.BC.89) 上传。

> !
> 1. Key（文件名）不能以`/`结尾，否则会被识别为文件夹。
> 2. 每个主账号（即同一个 APPID），存储桶的 ACL、Policy 和 CAM 关联的策略数量总和最多为1000条，对象 ACL 规则数量不限制。如果您不需要进行对象 ACL 控制，请在上传时不要设置，默认继承存储桶权限。
> 3. 上传之后，您可以用同样的 Key 生成预签名链接（下载请指定 method 为 GET，具体接口说明见下文，分享到其他端来进行下载。但注意如果您的文件是私有读权限，那么预签名链接只有一定的有效期。

#### 使用示例

简单上传文件，适用于小文件上传。

[//]: # (.cssg-snippet-put-object)
```js
const filePath = "temp-file-to-upload" // 本地文件路径
cos.putObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    StorageClass: 'STANDARD',
    Body: fs.createReadStream(filePath), // 上传文件对象
    onProgress: function(progressData) {
        console.log(JSON.stringify(progressData));
    }
}, function(err, data) {
    console.log(err || data);
});
```

上传 Buffer 作为文件内容：

[//]: # (.cssg-snippet-put-object-buffer)
```js
cos.putObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    Body: Buffer.from('hello!'), /* 必须 */
}, function(err, data) {
    console.log(err || data);
});
```

上传字符串作为文件内容：

[//]: # (.cssg-snippet-put-object-string)
```js
cos.putObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    Body: 'hello!',
}, function(err, data) {
    console.log(err || data);
});
```

创建目录：

[//]: # (.cssg-snippet-put-object-folder)
```js
cos.putObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'a/',              /* 必须 */
    Body: '',
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名                 | 参数描述                                                     | 类型                 | 必填 |
| ---------------------- | ------------------------------------------------------------ | -------------------- | ---- |
| Bucket                 | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String               | 是   |
| Region                 | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String               | 是   |
| Key                    | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String               | 是   |
| Body                   | 上传文件的内容，可以为 FileStream、字符串、Buffer            | Stream/Buffer/String | 是   |
| CacheControl           | RFC 2616中定义的缓存策略，将作为对象的元数据保存             | String               | 否   |
| ContentDisposition     | RFC 2616中定义的文件名称，将作为对象的元数据保存             | String               | 否   |
| ContentEncoding        | RFC 2616中定义的编码格式，将作为对象的元数据保存             | String               | 否   |
| ContentLength          | RFC 2616中定义的 HTTP 请求内容长度（字节）                   | String               | 否   |
| ContentType            | RFC 2616中定义的内容类型（MIME），将作为对象的元数据保存     | String               | 否   |
| Expires                | RFC 2616中定义的过期时间，将作为对象的元数据保存             | String               | 否   |
| Expect                 | 当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容 | String               | 否   |
| ACL                    | 定义对象的访问控制列表（ACL）属性，枚举值请参见 [ACL 概述](https://cloud.tencent.com/document/product/436/30752#.E9.A2.84.E8.AE.BE.E7.9A.84-acl) 文档中对象的预设 ACL 部分，例如 default，private，public-read 等 <br>**注意：如果您不需要进行对象 ACL 控制，请设置为 default 或者此项不进行设置，默认继承存储桶权限** | String               | 否   |
| GrantRead              | 赋予被授权者读取对象的权限，格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String               | 否   |
| GrantReadAcp           | 赋予被授权者读取对象的访问控制列表（ACL）的权限，格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String               | 否   |
| GrantWriteAcp          | 赋予被授权者写入对象的访问控制列表（ACL）的权限，格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String               | 否   |
| GrantFullControl       | 赋予被授权者操作对象的所有权限，格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String               | 否   |
| StorageClass           | 设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD | String               | 否   |
| x-cos-meta-*           | 允许用户自定义的头部信息，将作为对象的元数据保存，大小限制2KB | String               | 否   |
| onTaskReady            | 上传任务创建时的回调函数，返回一个 taskId，唯一标识上传任务，可用于上传任务的取消（cancelTask），停止（pauseTask）和重新开始（restartTask） | Function             | 否   |
| - taskId               | 上传任务的编号                                               | String               | 否   |
| onProgress             | 进度的回调函数，进度回调响应对象（progressData）属性如下     | Function             | 否   |
| - progressData.loaded  | 已经上传的文件部分大小，以字节（Bytes）为单位                | Number               | 否   |
| - progressData.total   | 整个文件的大小，以字节（Bytes）为单位                        | Number               | 否   |
| - progressData.speed   | 文件的上传速度，以字节/秒（Bytes/s）为单位                   | Number               | 否   |
| - progressData.percent | 文件上传的百分比，以小数形式呈现，例如：上传50%即为0.5       | Number               | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名       | 参数描述                                                     | 类型   |
| ------------ | ------------------------------------------------------------ | ------ |
| err          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| data         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| - ETag       | 返回文件的 MD5 算法校验值。ETag 的值可以用于检查对象在上传过程中是否有损坏<br>例如`"09cba091df696af91549de27b8e7d0f6"`，**注意：这里的 ETag 值字符串前后带有双引号** | String |
| - Location   | 创建对象的外网访问域名                                       | String |
| - VersionId  | 在开启过版本控制的存储桶中上传对象返回对象的版本 ID，存储桶从未开启则不返回该参数 | String |

### 表单上传对象

Node.js SDK 未提供 POST Object 接口对应的方法，如果需要使用该接口，请参见 [Web 端直传实践](https://cloud.tencent.com/document/product/436/9067) 里的“方案 B：使用 Form 表单上传”。

### 查询对象元数据

#### 功能说明

查询对象的元数据信息。

#### 使用示例

[//]: # (.cssg-snippet-head-object)
```js
cos.headObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',               /* 必须 */
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名          | 参数描述                                                     | 类型   | 必填 |
| --------------- | ------------------------------------------------------------ | ------ | ---- |
| Bucket          | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region          | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Key             | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |
| IfModifiedSince | 当在指定时间后被修改，则返回对应的元数据信息，否则返回304    | String | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名                | 参数描述                                                     | 类型    |
| --------------------- | ------------------------------------------------------------ | ------- |
| err                   | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object  |
| - statusCode          | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number  |
| - headers             | 请求返回的头部信息                                           | Object  |
| data                  | 请求成功时返回的对象，如果请求发生错误，则为空               | Object  |
| - statusCode          | 请求返回的 HTTP 状态码，例如200，304等，如果在指定时间后未被修改，则返回304 | Number  |
| - headers             | 请求返回的头部信息                                           | Object  |
| - x-cos-object-type   | 用来表示对象是否可以被追加上传，枚举值：normal、appendable，默认 normal 不显示在返回中 | String  |
| - x-cos-storage-class | 对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD 不显示在返回中 | String  |
| - x-cos-meta-*        | 用户自定义的 meta                                            | String  |
| - NotModified         | 对象是否在指定时间后未被修改                                 | Boolean |
| - ETag                | 返回文件的 MD5 算法校验值。ETag 的值可以用于检查对象在上传过程中是否有损坏<br>例如`"09cba091df696af91549de27b8e7d0f6"`，**注意：这里的 ETag 值字符串前后带有双引号** | String  |
| - VersionId           | 在开启过版本控制的存储桶中上传对象返回对象的版本 ID，存储桶从未开启则不返回该参数 | String  |

### 下载对象

GET Object 接口请求可以获取存储桶里指定对象的内容并下载至本地。该 API 的请求者需要对目标对象有读取权限，或者目标对象向所有人开放了读取权限（公有读）。

#### 使用示例

[//]: # (.cssg-snippet-get-object)
```js
cos.getObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
}, function(err, data) {
    console.log(err || data.Body);
});
```

指定 Range 获取文件内容：

[//]: # (.cssg-snippet-get-object-range)
```js
cos.getObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    Range: 'bytes=1-3',        /* 非必须 */
}, function(err, data) {
    console.log(err || data.Body);
});
```

下载文件到指定路径：

[//]: # (.cssg-snippet-get-object-path)
```js
cos.getObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    Output: './exampleobject',
}, function(err, data) {
    console.log(err || data);
});
```

下载文件到指定写文件流：

[//]: # (.cssg-snippet-get-object-stream)
```js
cos.getObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    Output: fs.createWriteStream('./exampleobject'),
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名                     | 参数描述                                                     | 类型               | 必填 |
| -------------------------- | ------------------------------------------------------------ | ------------------ | ---- |
| Bucket                     | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String             | 是   |
| Region                     | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String             | 是   |
| Key                        | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String             | 是   |
| Output                     | 输出的文件路径或者一个写流，若不传入，则将完整内容写入回调函数data | String/WriteStream | 否   |
| ResponseContentType        | 设置响应头部中的 Content-Type 参数                           | String             | 否   |
| ResponseContentLanguage    | 设置返回头部中的 Content-Language 参数                       | String             | 否   |
| ResponseExpires            | 设置返回头部中的 Content-Expires 参数                        | String             | 否   |
| ResponseCacheControl       | 设置返回头部中的 Cache-Control 参数                          | String             | 否   |
| ResponseContentDisposition | 设置返回头部中的 Content-Disposition 参数                    | String             | 否   |
| ResponseContentEncoding    | 设置返回头部中的 Content-Encoding 参数                       | String             | 否   |
| Range                      | RFC 2616 中定义的字节范围，范围值必须使用 bytes=first-last 格式，first 和 last 都是基于0开始的偏移量。例如 bytes=0-9 表示下载对象的开头10个字节的数据 ，如果不指定，则表示下载整个对象 | String             | 否   |
| IfModifiedSince            | 当对象在指定时间后被修改，则返回对应对象的元数据信息，否则返回304（not modified） | String             | 否   |
| IfUnmodifiedSince          | 当对象在指定时间后未被修改，则返回对象，否则返回412（precondition failed） | String             | 否   |
| IfMatch                    | 当 ETag 与指定的内容一致，才返回对象，否则返回412（precondition failed） | String             | 否   |
| IfNoneMatch                | 当 ETag 与指定的内容不一致，才返回对象，否则返回304（not modified） | String             | 否   |
| VersionId                  | 指定要下载的对象的版本 ID                                    | String             | 否   |
| onProgress                 | 进度的回调函数，进度回调响应对象（progressData）属性如下     | Function           | 否   |
| - progressData.loaded      | 已经下载的对象部分大小，以字节（Bytes）为单位                | Number             | 否   |
| - progressData.total       | 整个对象的大小，以字节（Bytes）为单位                        | Number             | 否   |
| - progressData.speed       | 对象的下载速度，以字节/秒（Bytes/s）为单位                   | Number             | 否   |
| - progressData.percent     | 对象下载的百分比，以小数形式呈现，例如：下载50%即为0.5       | Number             | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名                | 参数描述                                                     | 类型    |
| --------------------- | ------------------------------------------------------------ | ------- |
| err                   | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object  |
| - statusCode          | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number  |
| - headers             | 请求返回的头部信息                                           | Object  |
| data                  | 请求成功时返回的对象，如果请求发生错误，则为空               | Object  |
| - statusCode          | 请求返回的 HTTP 状态码，例如200，304，403，404等             | Number  |
| - headers             | 请求返回的头部信息                                           | Object  |
| - CacheControl        | RFC 2616 中定义的缓存指令，仅当对象元数据包含此项或通过请求参数指定了此项时才会返回该头部 | String  |
| - ContentDisposition  | RFC 2616 中定义的文件名称，仅当对象元数据包含此项或通过请求参数指定了此项时才会返回该头部 | String  |
| - ContentEncoding     | RFC 2616 中定义的编码格式，仅当对象元数据包含此项或通过请求参数指定了此项时才会返回该头部 | String  |
| - Expires             | RFC 2616 中定义的缓存失效时间，仅当对象元数据包含此项或通过请求参数指定了此项时才会返回该头部 | String  |
| - x-cos-storage-class | 对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，<br>**注意：如果没有返回该头部，则说明文件存储级别为 STANDARD （标准存储）** | String  |
| - x-cos-meta-*        | 用户自定义的元数据                                           | String  |
| - NotModified         | 如果请求时带有 IfModifiedSince 则返回该属性，如果文件未被修改，则为 true，否则为 false | Boolean |
| - ETag                | 返回文件的 MD5 算法校验值。ETag 的值可以用于检查对象在上传过程中是否有损坏<br>例如`"09cba091df696af91549de27b8e7d0f6"`，**注意：这里的 ETag 值字符串前后带有双引号** | String  |
| - VersionId           | 在开启过版本控制的存储桶中上传对象返回对象的版本 ID，存储桶从未开启则不返回该参数 | String  |
| - Body                | 返回的文件内容，默认为 Buffer 形式                           | Buffer  |

### 预请求跨域配置

#### 功能说明

OPTIONS Object 接口实现对对象进行跨域访问配置的预请求。即在发送跨域请求之前会发送一个 OPTIONS 请求并带上特定的来源域，HTTP 方法和 HEADER 信息等给 COS，以决定是否可以发送真正的跨域请求。当 CORS 配置不存在时，请求返回403 Forbidden。**用户可以通过 PUT Bucket cors 接口来开启存储桶的 CORS 支持。**

#### 使用示例

[//]: # (.cssg-snippet-option-object)
```js
cos.optionsObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    Origin: 'https://www.qq.com',      /* 必须 */
    AccessControlRequestMethod: 'PUT', /* 必须 */
    AccessControlRequestHeaders: 'origin,accept,content-type' /* 非必须 */
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名                      | 参数描述                                                     | 类型   | 必填 |
| --------------------------- | ------------------------------------------------------------ | ------ | ---- |
| Bucket                      | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region                      | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Key                         | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |
| Origin                      | 模拟跨域访问的请求来源域名                                   | String | 是   |
| AccessControlRequestMethod  | 模拟跨域访问的请求 HTTP 方法                                 | String | 是   |
| AccessControlRequestHeaders | 模拟跨域访问的请求头部                                       | String | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名                       | 参数描述                                                     | 类型    |
| ---------------------------- | ------------------------------------------------------------ | ------- |
| err                          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object  |
| - statusCode                 | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number  |
| - headers                    | 请求返回的头部信息                                           | Object  |
| data                         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object  |
| - headers                    | 请求返回的头部信息                                           | Object  |
| - statusCode                 | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number  |
| - AccessControlAllowOrigin   | 模拟跨域访问的请求来源域名，中间用逗号间隔，当来源不允许的时候，此 Header 不返回，例如`*` | String  |
| - AccessControlAllowMethods  | 模拟跨域访问的请求 HTTP 方法，中间用逗号间隔，当请求方法不允许的时候，此 Header 不返回，例如 PUT，GET，POST，DELETE，HEAD | String  |
| - AccessControlAllowHeaders  | 模拟跨域访问的请求头部，中间用逗号间隔，当模拟任何请求头部不允许的时候，此 Header 不返回该请求头部，例如 accept，content-type，origin，authorization | String  |
| - AccessControlExposeHeaders | 跨域支持返回头部，中间用逗号间隔，例如 ETag                  | String  |
| - AccessControlMaxAge        | 设置 OPTIONS 请求得到结果的有效期，例如3600                  | String  |
| - OptionsForbidden           | OPTIONS 请求是否被禁止，如果返回的 HTTP 状态码为403，则为 true | Boolean |

### 复制对象

#### 功能说明

PUT Object - Copy 请求创建一个已存在 COS 的对象的副本，即将一个对象从源路径（对象键）复制到目标路径（对象键）。在复制的过程中，对象元数据和访问控制列表（ACL）可以被修改。
用户可以通过该接口创建副本、修改对象元属性（源对象和目标文件的属性相同）、移动或重命名对象（先复制，再单独调用删除接口）。

> !建议对象大小1MB - 5GB，超过5GB的对象请使用高级接口复制对象 [Slice Copy File](#.E5.A4.8D.E5.88.B6.E5.AF.B9.E8.B1.A12)。

#### 使用示例

[//]: # (.cssg-snippet-copy-object)
```js
cos.putObjectCopy({
    Bucket: 'examplebucket-1250000000',                               /* 必须 */
    Region: 'COS_REGION',                                  /* 必须 */
    Key: 'exampleobject',                                            /* 必须 */
    CopySource: 'sourcebucket-1250000000.cos.ap-guangzhou.myqcloud.com/sourceObject', /* 必须 */
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名                      | 参数描述                                                     | 类型   | 必填 |
| --------------------------- | ------------------------------------------------------------ | ------ | ---- |
| Bucket                      | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region                      | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Key                         | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |
| CopySource                  | 源对象 URL 路径，可以通过 URL 参数 ?versionId=&lt;versionId> 参数指定指定历史版本 | String | 是   |
| ACL                         | 定义对象的访问控制列表（ACL）属性，枚举值请参见 [ACL 概述](https://cloud.tencent.com/document/product/436/30752#.E9.A2.84.E8.AE.BE.E7.9A.84-acl) 文档中对象的预设 ACL 部分，例如 default，private，public-read 等 <br>**注意：如果您不需要进行对象 ACL 控制，请设置为 default 或者此项不进行设置，默认继承存储桶权限** | String | 否   |
| GrantRead                   | 赋予被授权者读取对象的权限。格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String | 否   |
| GrantWrite                  | 赋予被授权者写入对象的权限。格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String | 否   |
| GrantFullControl            | 赋予被授权者操作对象的所有权限，格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String | 否   |
| MetadataDirective           | 是否拷贝元数据，枚举值：Copy，Replaced，默认值 Copy。假如标记为 Copy，忽略 Header 中的用户元数据信息直接复制；假如标记为 Replaced，按 Header 信息修改元数据。**当目标路径和原路径一致，即用户试图修改元数据时，必须为 Replaced** | String | 否   |
| CopySourceIfModifiedSince   | 当对象在指定时间后被修改，则执行操作，否则返回412。**可与 CopySourceIfNoneMatch 一起使用，与其他条件联合使用返回冲突** | String | 否   |
| CopySourceIfUnmodifiedSince | 当对象在指定时间后未被修改，则执行操作，否则返回412。**可与 CopySourceIfMatch 一起使用，与其他条件联合使用返回冲突** | String | 否   |
| CopySourceIfMatch           | 当对象的 Etag 和给定一致时，则执行操作，否则返回412。**可与CopySourceIfUnmodifiedSince 一起使用，与其他条件联合使用返回冲突** | String | 否   |
| CopySourceIfNoneMatch       | 当对象的 Etag 和给定不一致时，则执行操作，否则返回412。**可与 CopySourceIfModifiedSince 一起使用，与其他条件联合使用返回冲突** | String | 否   |
| StorageClass                | 设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD | String | 否   |
| x-cos-meta-*                | 其他自定义的文件头部                                         | String | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名         | 参数描述                                                     | 类型   |
| -------------- | ------------------------------------------------------------ | ------ |
| err            | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode   | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers      | 请求返回的头部信息                                           | Object |
| data           | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode   | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers      | 请求返回的头部信息                                           | Object |
| - ETag         | 文件的 MD5 算法校验值，例如`"22ca88419e2ed4721c23807c678adbe4c08a7880"`，**注意前后携带双引号** | String |
| - LastModified | 返回对象最后被修改时间，例如2017-06-23T12:33:27.000Z         | String |
| - VersionId    | 在开启过版本控制的存储桶中上传对象返回对象的版本 ID，存储桶从未开启则不返回该参数 | String |

### 删除单个对象

#### 功能说明

DELETE Object 接口请求可以在 COS 的存储桶中将一个对象（Object）删除。该操作需要请求者对存储桶有 WRITE 权限。

#### 使用示例

[//]: # (.cssg-snippet-delete-object)
```js
cos.deleteObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject'                            /* 必须 */
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名    | 参数描述                                                     | 类型   | 必填 |
| --------- | ------------------------------------------------------------ | ------ | ---- |
| Bucket    | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region    | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Key       | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |
| VersionId | 要删除的对象版本 ID 或 DeleteMarker 版本 ID                  | String | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名       | 参数描述                                                     | 类型   |
| ------------ | ------------------------------------------------------------ | ------ |
| err          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| data         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200，204，403，404等，**如果删除成功或者文件不存在则返回204或200，如果找不到指定的 Bucket，则返回404** | Number |
| - headers    | 请求返回的头部信息                                           | Object |

### 删除多个对象

#### 功能说明

DELETE Multiple Objects 接口请求实现在指定存储桶中批量删除对象，单次请求最大支持批量删除1000个对象。对于响应结果，COS 提供 Verbose 和 Quiet 两种模式：Verbose 模式将返回每个对象的删除结果，Quiet 模式只返回报错的对象信息。

#### 使用示例

删除多个文件：

[//]: # (.cssg-snippet-delete-multi-object)
```js
cos.deleteMultipleObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Objects: [
        {Key: 'exampleobject'},
        {Key: 'exampleobject2'},
    ]
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名      | 参数描述                                                     | 类型        | 必填 |
| ----------- | ------------------------------------------------------------ | ----------- | ---- |
| Bucket      | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String      | 是   |
| Region      | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String      | 是   |
| Quiet       | 布尔值，这个值决定了是否启动 Quiet 模式，值为 true 启动 Quiet 模式，值为 false 则启动 Verbose 模式，默认值为 false | Boolean     | 否   |
| Objects     | 要删除的对象列表                                             | ObjectArray | 是   |
| - Key       | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String      | 是   |
| - VersionId | 要删除的对象版本 ID 或 DeleteMarker 版本 ID                  | String      | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名                    | 参数描述                                                     | 类型        |
| ------------------------- | ------------------------------------------------------------ | ----------- |
| err                       | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object      |
| - statusCode              | 请求返回的 HTTP 状态码，例如200，204，403，404等             | Number      |
| - headers                 | 请求返回的头部信息                                           | Object      |
| data                      | 请求成功时返回的对象，如果请求发生错误，则为空               | Object      |
| - statusCode              | 请求返回的 HTTP 状态码，例如200，204，403，404等             | Number      |
| - headers                 | 请求返回的头部信息                                           | Object      |
| - Deleted                 | 说明本次删除成功的对象信息列表                               | ObjectArray |
| - - Key                   | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String      |
| - - VersionId             | 如果参数传入了 VersionId，返回也会带上 VersionId，表示刚操作的对象版本或 DeleteMarker 版本 | String      |
| - - DeleteMarker          | 如果开启了版本控制，并且参数没有 VersionId，本次删除不会真正抹去文件内容，只新增一个 DeleteMarker 代表可见的文件已删除，枚举值：true、false | String      |
| - - DeleteMarkerVersionId | 当返回的 DeleteMarker 为 true 时，返回刚新增的 DeleteMarker 的 VersionId | String      |
| - Error                   | 说明本次删除失败的对象信息列表                               | ObjectArray |
| - - Key                   | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String      |
| - - Code                  | 删除失败的错误码                                             | String      |
| - - Message               | 删除错误信息                                                 | String      |

## 分块操作

### 查询分块上传

#### 功能说明

List Multiparts Uploads 用来查询正在进行中的分块上传信息。单次最多列出1000个正在进行中的分块上传。

#### 使用示例

获取前缀为exampleobject的未完成的 UploadId 列表，示例如下：

[//]: # (.cssg-snippet-list-multi-upload)
```js
cos.multipartList({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Prefix: 'exampleobject',                        /* 非必须 */
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名         | 参数描述                                                     | 类型   | 必填 |
| -------------- | ------------------------------------------------------------ | ------ | ---- |
| Bucket         | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region         | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Prefix         | 对象键前缀匹配，限定返回中只包含指定前缀的对象键。注意使用 prefix 查询时，返回的对象键 中仍会包含 Prefix | String | 否   |
| Delimiter      | 定界符为一个分隔符号，用于对对象键进行分组。一般是传`/`。所有对象键从 Prefix 或从头（如未指定 Prefix）到首个 delimiter 之间相同部分的路径归为一类，定义为 Common Prefix，然后列出所有 Common Prefix | String | 否   |
| EncodingType   | 规定返回值的编码格式，合法值：url                            | String | 否   |
| MaxUploads     | 设置最大返回的条目数量，合法取值为1 - 1000，默认1000         | String | 否   |
| KeyMarker      | 与 upload-id-marker 一起使用<br> <li> 当 upload-id-marker 未被指定时：<br>&emsp;- ObjectName 字母顺序大于 key-marker 的条目将被列出<br><li>当 upload-id-marker 被指定时：<br>&emsp;- ObjectName 字母顺序大于 key-marker 的条目被列出<br>&emsp;- ObjectName 字母顺序等于 key-marker 且 UploadID 大于 upload-id-marker 的条目将被列出 | String | 否   |
| UploadIdMarker | 与 key-marker 一起使用<br><li>当 key-marker 未被指定时：<br>&emsp;- upload-id-marker 将被忽略<br><li>当 key-marker 被指定时：<br>&emsp;- ObjectName 字母顺序大于 key-marker 的条目被列出<br>&emsp;- ObjectName 字母顺序等于 key-marker 且 UploadID 大于 upload-id-marker 的条目将被列出 | String | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名               | 参数描述                                                     | 类型        |
| -------------------- | ------------------------------------------------------------ | ----------- |
| err                  | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object      |
| - statusCode         | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number      |
| - headers            | 请求返回的头部信息                                           | Object      |
| data                 | 请求成功时返回的对象，如果请求发生错误，则为空               | Object      |
| - statusCode         | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number      |
| - headers            | 请求返回的头部信息                                           | Object      |
| - Bucket             | 分块上传的目标存储桶                                         | String      |
| - Encoding-Type      | 规定返回值的编码格式，合法值：url                            | String      |
| - KeyMarker          | 列出条目从该 key 值开始                                      | String      |
| - UploadIdMarker     | 列出条目从该 UploadId 值开始                                 | String      |
| - NextKeyMarker      | 假如返回条目被截断，则返回 NextKeyMarker 就是下一个条目的起点 | String      |
| - NextUploadIdMarker | 假如返回条目被截断，则返回 UploadId 就是下一个条目的起点     | String      |
| - MaxUploads         | 设置最大返回的条目数量，合法取值范围为1 - 1000               | String      |
| - IsTruncated        | 返回条目是否被截断，'true' 或者 'false'                      | String      |
| - Prefix             | 对象键前缀匹配，限定返回中只包含指定前缀的对象键。           | String      |
| - Delimiter          | 定界符为一个分隔符号，用于对对象键进行分组。一般是传`/`。所有对象键从 Prefix 或从头（如未指定 Prefix）到首个 delimiter 之间相同部分的路径归为一类，定义为 Common Prefix，然后列出所有 Common Prefix | String      |
| - CommonPrefixs      | 将 prefix 到 delimiter 之间的相同路径归为一类，定义为 Common Prefix | ObjectArray |
| - - Prefix           | 显示具体的 Common Prefixs                                    | String      |
| - Upload             | 分块上传的信息集合                                           | ObjectArray |
| - - Key              | 对象的名称，即对象键                                         | String      |
| - - UploadId         | 表示本次分块上传的 ID                                        | String      |
| - - StorageClass     | 用来表示分块的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE | String      |
| - - Initiator        | 用来表示本次上传发起者的信息                                 | Object      |
| - - - DisplayName    | 上传发起者的名称                                             | String      |
| - - - ID             | 上传发起者 ID，格式：`qcs::cam::uin/<OwnerUin>:uin/<SubUin>`<br>如果是主账号，&lt;OwnerUin> 和 &lt;SubUin> 是同一个值 | String      |
| - - Owner            | 表示这些分块持有者的信息                                     | Object      |
| - - - DisplayName    | 分块持有者的名称                                             | String      |
| - - - ID             | 分块持有者 ID，格式：`qcs::cam::uin/<OwnerUin>:uin/<SubUin>`<br>如果是主账号，&lt;OwnerUin> 和 &lt;SubUin> 是同一个值 | String      |
| - - Initiated        | 分块上传的起始时间                                           | String      |

### 初始化分块上传

#### 功能说明

Initiate Multipart Uploads 请求实现初始化分片上传，成功执行此请求后会返回 Upload ID ，用于后续的 Upload Part 请求。

#### 使用示例

[//]: # (.cssg-snippet-init-multi-upload)
```js
cos.multipartInit({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
}, function(err, data) {
    console.log(err || data);
    if (data) {
      uploadId = data.UploadId;
    }
});
```

#### 参数说明

| 参数名             | 参数描述                                                     | 类型   | 必填 |
| ------------------ | ------------------------------------------------------------ | ------ | ---- |
| Bucket             | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region             | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Key                | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |
| CacheControl       | RFC 2616 中定义的缓存策略，将作为对象的元数据保存            | String | 否   |
| ContentDisposition | RFC 2616 中定义的文件名称，将作为对象的元数据保存            | String | 否   |
| ContentEncoding    | RFC 2616 中定义的编码格式，将作为对象的元数据保存            | String | 否   |
| ContentType        | RFC 2616 中定义的内容类型（MIME），将作为对象的元数据保存    | String | 否   |
| Expires            | RFC 2616 中定义的过期时间，将作为对象的元数据保存            | String | 否   |
| ACL                | 定义对象的访问控制列表（ACL）属性，枚举值请参见 [ACL 概述](https://cloud.tencent.com/document/product/436/30752#.E9.A2.84.E8.AE.BE.E7.9A.84-acl) 文档中对象的预设 ACL 部分，如 default，private，public-read 等 <br>**注意：如果您不需要进行对象 ACL 控制，请设置为 default 或者此项不进行设置，默认继承存储桶权限** | String | 否   |
| GrantRead          | 赋予被授权者读取对象的权限，格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String | 否   |
| GrantFullControl   | 赋予被授权者操作对象的所有权限，格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String | 否   |
| StorageClass       | 设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD | String | 否   |
| x-cos-meta-*       | 允许用户自定义的头部信息，将作为对象的元数据返回。大小限制2KB | String | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名   | 参数描述                                                     | 类型   |
| -------- | ------------------------------------------------------------ | ------ |
| err      | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| data     | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| Bucket   | 分片上传的目标存储桶，格式为 BucketName-APPID，例如 examplebucket-1250000000 | String |
| Key      | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String |
| UploadId | 在后续上传中使用的 ID                                        | String |

### 上传分块

#### 功能说明

Upload Part 接口请求实现在初始化以后的分块上传，支持的块的数量为1 - 10000，块的大小为1MB - 5GB。
<li>分块上传首先要进行初始化，用 Initiate Multipart Upload 接口初始化分片上传，得到一个 uploadId，该 ID 不但唯一标识这一分块数据，也标识了这分块数据在整个文件内的相对位置。</li>
<li>在每次请求 Upload Part 时候，需要携带 partNumber 和 uploadId，partNumber 为块的编号，支持乱序上传。</li>
<li>当传入 uploadId 和 partNumber 都相同的时候，后传入的块将覆盖之前传入的块。当 uploadId 不存在时会返回404错误，错误码为 NoSuchUpload。</li>

#### 使用示例

[//]: # (.cssg-snippet-upload-part)
```js
const filePath = "temp-file-to-upload" // 本地文件路径
cos.multipartUpload({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',       /* 必须 */
    ContentLength: '1024',
    UploadId: 'exampleUploadId',
    PartNumber: '1',
    Body: fs.createReadStream(filePath)
}, function(err, data) {
    console.log(err || data);
    if (data) {
      eTag = data.ETag;
    }
});
```

#### 参数说明

| 参数名        | 参数描述                                                     | 类型             | 必填 |
| ------------- | ------------------------------------------------------------ | ---------------- | ---- |
| Bucket        | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String           | 是   |
| Region        | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String           | 是   |
| Key           | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String           | 是   |
| ContentLength | RFC 2616 中定义的 HTTP 请求内容长度（字节）                  | String           | 是   |
| PartNumber    | 分块的编号                                                   | String           | 是   |
| UploadId      | 本次分块上传任务的编号                                       | String           | 是   |
| Body          | 上传文件分块的内容，可以为字符串，File 对象或者 Blob 对象    | String\File\Blob | 是   |
| Expect        | RFC 2616 中定义的 HTTP 请求内容长度（字节）。当使用`Expect: 100-continue`时，在收到服务端确认后，才会发送请求内容 | String           | 否   |
| ContentMD5    | RFC 1864中定义的经过 Base64 编码的128-bit内容 MD5 校验值，此头部用来校验文件内容是否发生变化 | String           | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名       | 参数描述                                                     | 类型   |
| ------------ | ------------------------------------------------------------ | ------ |
| err          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| data         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |

### 复制分块

#### 功能说明

Upload Part - Copy 接口请求实现将一个对象的分块内容从源路径复制到目标路径。

> !使用上传分块对象，必须先初始化分块上传。在初始化分块上传的响应中，会返回一个唯一的描述符（upload ID），您需要在分块上传请求中携带此 ID。

#### 使用示例

[//]: # (.cssg-snippet-upload-part-copy)
```js
cos.uploadPartCopy({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',       /* 必须 */
    CopySource: 'sourcebucket-1250000000.cos.ap-guangzhou.myqcloud.com/sourceObject', /* 必须 */
    UploadId: 'exampleUploadId', /* 必须 */
    PartNumber: '1', /* 必须 */
}, function(err, data) {
    console.log(err || data);
    if (data) {
      eTag = data.ETag;
    }
});
```

#### 参数说明

| 参数名                      | 参数描述                                                     | 类型   | 必填 |
| --------------------------- | ------------------------------------------------------------ | ------ | ---- |
| Bucket                      | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region                      | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Key                         | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |
| CopySource                  | 源对象 URL 路径，可以通过 URL 参数 ?versionId=&lt;versionId> 参数指定指定历史版本 | String | 是   |
| partNumber                  | 分块拷贝的块号                                               | String | 是   |
| uploadId                    | 使用上传分块文件，必须先初始化分块上传。在初始化分块上传的响应中，会返回一个唯一的描述符（upload ID），您需要在分块上传请求中携带此 ID | String | 是   |
| CopySourceRange             | 源对象的字节范围，范围值必须使用 bytes=first-last 格式，first 和 last 都是基于0开始的偏移量。例如 bytes=0-9 表示您希望拷贝源对象的开头10个字节的数据 ，如果不指定，则表示拷贝整个对象 | String | 否   |
| CopySourceIfMatch           | 当对象的 Etag 和给定一致时，则执行操作，否则返回412，可与 x-cos-copy-source-If-Unmodified-Since 一起使用，与其他条件联合使用返回冲突 | String | 否   |
| CopySourceIfNoneMatch       | 当对象的 Etag 和给定不一致时，则执行操作，否则返回412，可与 x-cos-copy-source-If-Modified-Since 一起使用，与其他条件联合使用返回冲突 | String | 否   |
| CopySourceIfUnmodifiedSince | 当对象在指定时间后未被修改，则执行操作，否则返回412，可与 x-cos-copy-source-If-Match 一起使用，与其他条件联合使用返回冲突 | String | 否   |
| CopySourceIfModifiedSince   | 当对象在指定时间后被修改，则执行操作，否则返回412，可与 x-cos-copy-source-If-None-Match 一起使用，与其他条件联合使用返回冲突 | String | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名         | 参数描述                                                     | 类型   |
| -------------- | ------------------------------------------------------------ | ------ |
| err            | 请求发生错误时返回的对象，包括网络错误和业务错误。如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode   | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers      | 请求返回的头部信息                                           | Object |
| data           | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode   | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers      | 请求返回的头部信息                                           | Object |
| - ETag         | 文件的 MD5 算法校验值，例如`"22ca88419e2ed4721c23807c678adbe4c08a7880"`，**注意前后携带双引号** | String |
| - LastModified | 返回对象最后修改时间，GMT 格式                               | String |

### 查询已上传块

#### 功能说明

List Parts 用来查询特定分块上传中的已上传的块，即列出指定 UploadId 所属的所有已上传成功的分块。

#### 使用示例

[//]: # (.cssg-snippet-list-parts)
```js
cos.multipartListPart({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    UploadId: 'exampleUploadId',                      /* 必须 */
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名           | 参数描述                                                     | 类型   | 必填 |
| ---------------- | ------------------------------------------------------------ | ------ | ---- |
| Bucket           | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region           | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Key              | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |
| UploadId         | 标识本次分块上传的 ID。使用 Initiate Multipart Upload 接口初始化分片上传时会得到一个 uploadId，该 ID 不但唯一标识这一分块数据，也标识了这分块数据在整个文件内的相对位置 | String | 是   |
| EncodingType     | 规定返回值的编码方式                                         | String | 否   |
| MaxParts         | 单次返回最大的条目数量，默认为1000                           | String | 否   |
| PartNumberMarker | 默认以 UTF-8 二进制顺序列出条目，所有列出条目从 marker 开始  | String | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名                 | 参数描述                                                     | 类型        |
| ---------------------- | ------------------------------------------------------------ | ----------- |
| err                    | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object      |
| - statusCode           | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number      |
| - headers              | 请求返回的头部信息                                           | Object      |
| data                   | 请求成功时返回的对象，如果请求发生错误，则为空               | Object      |
| - statusCode           | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number      |
| - headers              | 请求返回的头部信息                                           | Object      |
| - Bucket               | 分块上传的目标存储桶                                         | String      |
| - Encoding-type        | 规定返回值的编码方式                                         | String      |
| - Key                  | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String      |
| - UploadId             | 标识本次分块上传的 ID                                        | String      |
| - Initiator            | 用来表示本次上传发起者的信息                                 | Object      |
| - - DisplayName        | 上传发起者的名称                                             | String      |
| - - ID                 | 上传发起者 ID，格式：`qcs::cam::uin/<OwnerUin>:uin/<SubUin>` <br>如果是主账号，&lt;OwnerUin> 和 &lt;SubUin> 是同一个值 | String      |
| - Owner                | 用来表示这些分块所有者的信息                                 | Object      |
| - - DisplayName        | 存储桶持有者的名称                                           | String      |
| - - ID                 | 存储桶持有者 ID，一般为用户的 UIN                            | String      |
| - StorageClass         | 用来表示这些分块的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE | String      |
| - PartNumberMarker     | 默认以 UTF-8 二进制顺序列出条目，所有列出条目从 marker 开始  | String      |
| - NextPartNumberMarker | 假如返回条目被截断，则返回 NextMarker 就是下一个条目的起点   | String      |
| - MaxParts             | 单次返回最大的条目数量                                       | String      |
| - IsTruncated          | 返回条目是否被截断，'true' 或者 'false'                      | String      |
| - Part                 | 分块信息列表                                                 | ObjectArray |
| - - PartNumber         | 块的编号                                                     | String      |
| - - LastModified       | 块最后修改时间                                               | String      |
| - - ETag               | 块的 MD5 算法校验值                                          | String      |
| - - Size               | 块大小，单位为 Byte                                          | String      |

### 完成分块上传

#### 功能说明

Complete Multipart Upload 接口请求用来实现完成整个分块上传。当使用 Upload Parts 上传完所有块以后，必须调用该 API 来完成整个文件的分块上传。在使用该 API 时，您必须在请求 Body 中给出每一个块的 PartNumber 和 ETag，用来校验块的准确性。
由于分块上传完后需要合并，而合并需要数分钟时间，因而当合并分块开始的时候，COS 就立即返回200的状态码，在合并的过程中，COS 会周期性的返回空格信息来保持连接活跃，直到合并完成，COS 会在 Body 中返回合并后块的内容。

- 当上传块小于1MB ，在调用该 API 时，会返回400 EntityTooSmall。
- 当上传块编号不连续，在调用该 API 时，会返回400 InvalidPart。
- 当请求 Body 中的块信息未按序号从小到大排列，在调用该 API 时，会返回400 InvalidPartOrder。
- 当 UploadId 不存在，在调用该 API 时，会返回404 NoSuchUpload。

> !建议您及时完成分块上传或者舍弃分块上传，因为已上传但是未终止的块会占用存储空间进而产生存储费用。

#### 使用示例

[//]: # (.cssg-snippet-complete-multi-upload)
```js
cos.multipartComplete({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    UploadId: 'exampleUploadId', /* 必须 */
    Parts: [
        {PartNumber: '1', ETag: 'exampleETag'},
    ]
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名       | 参数描述                                                     | 类型        | 必填 |
| ------------ | ------------------------------------------------------------ | ----------- | ---- |
| Bucket       | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String      | 是   |
| Region       | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String      | 是   |
| Key          | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String      | 是   |
| UploadId     | 上传任务编号                                                 | String      | 是   |
| Parts        | 用来说明本次分块上传中块的信息列表                           | ObjectArray | 是   |
| - PartNumber | 分块的编号                                                   | String      | 是   |
| - ETag       | 每个块文件的 MD5 算法校验值<br>例如`"22ca88419e2ed4721c23807c678adbe4c08a7880"`，**注意前后携带双引号** | String      | 是   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名       | 参数描述                                                     | 类型   |
| ------------ | ------------------------------------------------------------ | ------ |
| err          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| data         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| - Location   | 创建对象的外网访问域名                                       | String |
| - Bucket     | 分块上传的目标存储桶                                         | String |
| - Key        | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String |
| - ETag       | 合并后文件的唯一 ID，格式："uuid-<分块数>"<br>例如`"22ca88419e2ed4721c23807c678adbe4c08a7880-3"`，**注意前后携带双引号** | String |

### 终止分块上传

#### 功能说明

Abort Multipart Upload 用来实现终止一个分块上传操作并删除已上传的块。当您调用 Abort Multipart Upload 时，如果有正在使用这个 UploadId 上传块的请求，则 Upload Parts 会返回失败。当该 UploadId 不存在时，会返回404 NoSuchUpload。

> !建议您及时完成分块上传或者舍弃分块上传，因为已上传但是未终止的块会占用存储空间进而产生存储费用。

#### 使用示例

[//]: # (.cssg-snippet-abort-multi-upload)
```js
cos.multipartAbort({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',                           /* 必须 */
    UploadId: 'exampleUploadId'                       /* 必须 */
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名   | 参数描述                                                     | 类型   | 必填 |
| -------- | ------------------------------------------------------------ | ------ | ---- |
| Bucket   | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region   | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Key      | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |
| UploadId | 标识本次分块上传的 ID。使用 Initiate Multipart Upload 接口初始化分片上传时会得到一个 uploadId，该 ID 不但唯一标识这一分块数据，也标识了这分块数据在整个文件内的相对位置 | String | 是   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名       | 参数描述                                                     | 类型   |
| ------------ | ------------------------------------------------------------ | ------ |
| err          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| data         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |

## 其他操作

### 恢复归档对象

#### 功能说明

POST Object restore 接口可以对归档类型的对象进行恢复，恢复出的可读取对象是临时的，您可以设置需要保持可读，以及随后删除该临时副本的时间。您可以用 Days 参数来指定临时对象的过期时间，若超出该时间且期间您没有发起任何复制、延长等操作，该临时对象将被系统自动删除。临时对象仅为 archive 类型对象的副本，被归档的源对象在此期间将始终存在。

#### 使用示例

[//]: # (.cssg-snippet-restore-object)
```js
cos.restoreObject({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',
    RestoreRequest: {
        Days: 1,
        CASJobParameters: {
            Tier: 'Expedited'
        }
    },
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名             | 参数描述                                                     | 类型   | 必填 |
| ------------------ | ------------------------------------------------------------ | ------ | ---- |
| Bucket             | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region             | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Key                | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |
| RestoreRequest     | 用于恢复数据的容器                                           | Object | 是   |
| - Days             | 设置临时副本的过期时间                                       | Number | 是   |
| - CASJobParameters | 归档存储工作参数的容器                                       | Object | 是   |
| - - Tier           | 恢复数据时，Tier 可以指定为 COS 支持的三种恢复模式，分别为：<br><li> Standard（标准模式，恢复任务在3 - 5小时内完成）<br><li>Expedited（极速模式，恢复任务在15分钟内可完成）<br><li> Bulk（批量模式，恢复任务在5 - 12小时内完成） | String | 是   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名       | 参数描述                                                     | 类型   |
| ------------ | ------------------------------------------------------------ | ------ |
| err          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| data         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |

### 设置对象 ACL

#### 功能说明

PUT Object acl 接口用来设置特定存储桶中某个对象的访问控制列表（ACL）。

> !每个主账号（即同一个 APPID），存储桶的 ACL、Policy 和 CAM 关联的策略数量总和最多为1000条，对象访问控制列表（ACL）规则数量不限制。如果您不需要进行对象访问控制列表（ACL）控制，请不要设置，默认继承存储桶权限。

#### 使用示例

[//]: # (.cssg-snippet-put-object-acl)
```js
cos.putObjectAcl({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    ACL: 'public-read',        /* 非必须 */
}, function(err, data) {
    console.log(err || data);
});
```

为某个用户赋予对象的所有权限：

[//]: # (.cssg-snippet-put-object-acl-user)
```js
cos.putObjectAcl({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    GrantFullControl: 'id="100000000001"' // 100000000001是主账号 uin
}, function(err, data) {
    console.log(err || data);
});
```

通过 AccessControlPolicy 赋予对象写权限：

[//]: # (.cssg-snippet-put-object-acl-acp)
```js
cos.putObjectAcl({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    AccessControlPolicy: {
        "Owner": { // AccessControlPolicy 里必须有 owner
            "ID": 'qcs::cam::uin/100000000001:uin/100000000001' // 100000000001 是 Bucket 所属用户的 QQ 号
        },
        "Grants": [{
            "Grantee": {
                "ID": "qcs::cam::uin/100000000011:uin/100000000011", // 100000000011 是 QQ 号
            },
            "Permission": "WRITE"
        }]
    }
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名              | 参数描述                                                     | 类型        | 必填 |
| ------------------- | ------------------------------------------------------------ | ----------- | ---- |
| Bucket              | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String      | 是   |
| Region              | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String      | 是   |
| Key                 | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String      | 是   |
| ACL                 | 定义对象的访问控制列表（ACL）属性，枚举值请参见 [ACL 概述](https://cloud.tencent.com/document/product/436/30752#.E9.A2.84.E8.AE.BE.E7.9A.84-acl) 文档中对象的预设 ACL 部分，如 default，private，public-read 等 <br>**注意：如果您不需要进行对象 ACL 控制，请设置为 default 或者此项不进行设置，默认继承存储桶权限** | String      | 否   |
| GrantRead           | 赋予被授权者读取对象的权限。格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String      | 否   |
| GrantFullControl    | 赋予被授权者操作对象的所有权限，格式：id="[OwnerUin]"，可使用半角逗号（,）分隔多组被授权者：<br><li>当需要给子账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<SubUin>"`<br><li>当需要给主账号授权时，`id="qcs::cam::uin/<OwnerUin>:uin/<OwnerUin>"`<br>例如`'id="qcs::cam::uin/100000000001:uin/100000000001", id="qcs::cam::uin/100000000001:uin/100000000011"'` | String      | 否   |
| AccessControlPolicy | 设置对象的访问控制列表（ACL）属性信息                        | Object      | 否   |
| - Owner             | 对象持有者的信息                                             | Object      | 否   |
| - - ID              | 对象持有者 ID，格式：`qcs::cam::uin/<OwnerUin>:uin/<SubUin>` <br>如果是主账号，&lt;OwnerUin> 和 &lt;SubUin> 是同一个值 | String      | 否   |
| - - DisplayName     | 对象持有者的名称                                             | String      | 否   |
| - Grants            | 被授权者信息与权限信息列表                                   | ObjectArray | 否   |
| - - Permission      | 指明授予被授权者的权限信息，枚举值：READ、WRITE、READ_ACP、WRITE_ACP、FULL_CONTROL | String      | 否   |
| - - Grantee         | 被授权者的信息                                               | Object      | 否   |
| - - - DisplayName   | 被授权者的名称                                               | String      | 否   |
| - - - ID            | 被授权者的 ID，格式：`qcs::cam::uin/<OwnerUin>:uin/<SubUin>` <br>如果是主账号，&lt;OwnerUin> 和 &lt;SubUin> 是同一个值 | String      | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名       | 参数描述                                                     | 类型   |
| ------------ | ------------------------------------------------------------ | ------ |
| err          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| data         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200，204，403，404等             | Number |
| - headers    | 请求返回的头部信息                                           | Object |

### 查询对象 ACL

#### 功能说明

GET Object acl 接口用来查询某个存储桶下的某个对象的访问权限。只有存储桶的持有者才有权限操作。

#### 使用示例

[//]: # (.cssg-snippet-get-object-acl)
```js
cos.getObjectAcl({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名 | 参数描述                                                     | 类型   | 必填 |
| ------ | ------------------------------------------------------------ | ------ | ---- |
| Bucket | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| Region | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| Key    | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 参数描述                                                     | 类型        |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ----------- |
| err                                                          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object      |
| - statusCode                                                 | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number      |
| - headers                                                    | 请求返回的头部信息                                           | Object      |
| data                                                         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object      |
| - statusCode                                                 | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number      |
| - headers                                                    | 请求返回的头部信息                                           | Object      |
| - ACL                                                        | 对象的访问控制列表（ACL）属性，枚举值请参见 [ACL 概述](https://cloud.tencent.com/document/product/436/30752#.E9.A2.84.E8.AE.BE.E7.9A.84-acl) 文档中对象的预设 ACL 部分，例如 default，private，public-read 等 | String      |
| - Owner                                                      | 标识资源的所有者                                             | Object      |
| - - ID                                                       | 对象持有者 ID，格式为：`qcs::cam::uin/<OwnerUin>:uin/<SubUin>`<br> 如果是主账号 ID，&lt;OwnerUin> 和 &lt;SubUin> 是同一个值 | String      |
| - - DisplayName                                              | 对象持有者的名称                                             | String      |
| - Grants                                                     | 被授权者信息与权限信息列表                                   | ObjectArray |
| - - Permission                                               | 指明授予被授权者的权限信息，枚举值：READ、READ_ACP、WRITE_ACP、FULL_CONTROL | String      |
| - - Grantee                                                  | 被授权者的信息                                               | Object      |
| - - - DisplayName                                            | 用户的名称                                                   | String      |
| - - - ID                                                     | 用户的 ID，格式为：`qcs::cam::uin/<OwnerUin>:uin/<SubUin>`<br> 如果是主账号 ID，&lt;OwnerUin> 和 &lt;SubUin> 是同一个值 | String      |

## 高级接口（推荐）

该类方法是对上面原生方法的封装，实现了分块上传/复制的全过程，支持并发分块上传/复制，支持断点续传，支持上传任务的取消，暂停和重新开始等。

### 分块上传对象

#### 功能说明

Slice Upload File 可用于实现文件的分块上传，适用于大文件上传。

#### 使用示例

[//]: # (.cssg-snippet-transfer-upload-object)
```js
const filePath = "temp-file-to-upload" // 本地文件路径
cos.sliceUploadFile({
    Bucket: 'examplebucket-1250000000', /* 必须 */
    Region: 'COS_REGION',    /* 必须 */
    Key: 'exampleobject',              /* 必须 */
    FilePath: filePath,                /* 必须 */
    onTaskReady: function(taskId) {                   /* 非必须 */
        console.log(taskId);
    },
    onHashProgress: function (progressData) {       /* 非必须 */
        console.log(JSON.stringify(progressData));
    },
    onProgress: function (progressData) {           /* 非必须 */
        console.log(JSON.stringify(progressData));
    }
}, function(err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名                 | 参数描述                                                     | 类型     | 必填 |
| ---------------------- | ------------------------------------------------------------ | -------- | ---- |
| Bucket                 | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String   | 是   |
| Region                 | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String   | 是   |
| Key                    | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String   | 是   |
| FilePath               | 上传文件路径                                                 | String   | 是   |
| SliceSize              | 分块大小                                                     | String   | 否   |
| AsyncLimit             | 分块的并发量                                                 | String   | 否   |
| StorageClass           | 对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE       | String   | 否   |
| onTaskReady            | 上传任务创建时的回调函数，返回一个 taskId，唯一标识上传任务，可用于上传任务的取消（cancelTask），停止（pauseTask）和重新开始（restartTask） | Function | 否   |
| - taskId               | 上传任务的编号                                               | String   | 否   |
| onHashProgress         | 计算文件 MD5 值的进度回调函数，回调参数为进度对象 progressData | Function | 否   |
| - progressData.loaded  | 已经校验的文件部分大小，以字节（Bytes）为单位                | Number   | 否   |
| - progressData.total   | 整个文件的大小，以字节（Bytes）为单位                        | Number   | 否   |
| - progressData.speed   | 文件的校验速度，以字节/秒（Bytes/s）为单位                   | Number   | 否   |
| - progressData.percent | 文件的校验百分比，以小数形式呈现，例如：下载50%即为0.5       | Number   | 否   |
| onProgress             | 上传文件的进度回调函数，回调参数为进度对象 progressData      | Function | 否   |
| - progressData.loaded  | 已经上传的文件部分大小，以字节（Bytes）为单位                | Number   | 否   |
| - progressData.total   | 整个文件的大小，以字节（Bytes）为单位                        | Number   | 否   |
| - progressData.speed   | 文件的上传速度，以字节/秒（Bytes/s）为单位                   | Number   | 否   |
| - progressData.percent | 文件的上传百分比，以小数形式呈现，例如：下载50%即为0.5       | Number   | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名       | 参数描述                                                     | 类型   |
| ------------ | ------------------------------------------------------------ | ------ |
| err          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| data         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| - Location   | 创建对象的外网访问域名                                       | String |
| - Bucket     | 分块上传的目标存储桶                                         | String |
| - Key        | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String |
| - ETag       | 合并后文件的唯一 ID，格式："uuid-<分块数>"<br>例如`"22ca88419e2ed4721c23807c678adbe4c08a7880-3"`，**注意前后携带双引号** | String |
| - VersionId  | 在开启过版本控制的存储桶中上传对象返回对象的版本 ID，存储桶从未开启则不返回该参数 | String |

### 复制对象

#### 功能说明

Slice Copy File 可用于实现通过分块复制将一个文件从源路径复制到目标路径。在拷贝的过程中，对象元属性和 ACL 可以被修改。用户可以通过该接口实现文件移动，文件重命名，修改文件属性和创建副本。

#### 方法原型

调用 Slice Copy File 操作：

[//]: # (.cssg-snippet-transfer-copy-object)
```js
cos.sliceCopyFile({
    Bucket: 'examplebucket-1250000000',                               /* 必须 */
    Region: 'COS_REGION',                                  /* 必须 */
    Key: 'exampleobject',                                            /* 必须 */
    CopySource: 'sourcebucket-1250000000.cos.ap-guangzhou.myqcloud.com/sourceObject', /* 必须 */
    onProgress:function (progressData) {                     /* 非必须 */
        console.log(JSON.stringify(progressData));
    }
},function (err,data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名                 | 参数描述                                                     | 类型     | 必填 |
| ---------------------- | ------------------------------------------------------------ | -------- | ---- |
| Bucket                 | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String   | 是   |
| Region                 | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String   | 是   |
| Key                    | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String   | 是   |
| CopySource             | 源对象 URL 路径，可以通过 URL 参数 ?versionId=&lt;versionId> 参数指定指定历史版本 | String   | 是   |
| ChunkSize              | 分片复制时，每片的大小字节数，默认值 1048576（1MB）          | Number   | 否   |
| SliceSize              | 表示文件大小超出一个数值时使用分块复制，单位 Byte，默认值5G。小于等于该数值会使用 putObjectCopy 上传，大于该数值会使用 sliceCopyFile 上传 | Number   | 否   |
| onProgress             | 上传文件的进度回调函数，回调参数为进度对象 progressData      | Function | 否   |
| - progressData.loaded  | 已经上传的文件部分大小，以字节（Bytes）为单位                | Number   | 否   |
| - progressData.total   | 整个文件的大小，以字节（Bytes）为单位                        | Number   | 否   |
| - progressData.speed   | 文件的上传速度，以字节/秒（Bytes/s）为单位                   | Number   | 否   |
| - progressData.percent | 文件的上传百分比，以小数形式呈现，例如：下载50%即为0.5       | Number   | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名       | 参数描述                                                     | 类型   |
| ------------ | ------------------------------------------------------------ | ------ |
| err          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730) 文档 | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| data         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number |
| - headers    | 请求返回的头部信息                                           | Object |
| - Location   | 创建对象的外网访问域名                                       | String |
| - Bucket     | 分块上传的目标存储桶                                         | String |
| - Key        | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String |
| - ETag       | 合并后文件的 MD5 算法校验值<br>例如`"22ca88419e2ed4721c23807c678adbe4c08a7880"`，**注意前后携带双引号** | String |
| - VersionId  | 在开启过版本控制的存储桶中上传对象返回对象的版本 ID，存储桶从未开启则不返回该参数 | String |

### 批量上传

#### 功能说明

方法一：
批量上传可以直接多次调用 putObject 和 sliceUploadFile，达到批量上传效果。通过实例化参数 FileParallelLimit 控制文件并发数，默认3个并发。

方法二：
可以调用 cos.uploadFiles 实现批量上传，传入参数 SliceSize 可以控制文件大小超出一个数值时使用分块上传。以下是 uploadFiles 方法说明。

#### 方法原型

调用 uploadFiles 操作：

[//]: # (.cssg-snippet-batch-upload-objects)
```js
const filePath1 = "temp-file-to-upload" // 本地文件路径
const filePath2 = "temp-file-to-upload" // 本地文件路径
cos.uploadFiles({
    files: [{
        Bucket: 'examplebucket-1250000000',
        Region: 'COS_REGION',
        Key: 'exampleobject',
        FilePath: filePath1,
    }, {
        Bucket: 'examplebucket-1250000000',
        Region: 'COS_REGION',
        Key: '2.jpg',
        FilePath: filePath2,
    }],
    SliceSize: 1024 * 1024,
    onProgress: function (info) {
        var percent = parseInt(info.percent * 10000) / 100;
        var speed = parseInt(info.speed / 1024 / 1024 * 100) / 100;
        console.log('进度：' + percent + '%; 速度：' + speed + 'Mb/s;');
    },
    onFileFinish: function (err, data, options) {
        console.log(options.Key + '上传' + (err ? '失败' : '完成'));
    },
}, function (err, data) {
    console.log(err || data);
});
```

#### 参数说明

| 参数名                 | 参数描述                                                     | 类型   | 必填 |
| ---------------------- | ------------------------------------------------------------ | ------ | ---- |
| files                  | 文件列表，每一项是传给 putObject 和 sliceUploadFile 的参数对象 | Object | 是   |
| - Bucket               | 存储桶的名称，命名格式为 BucketName-APPID，此处填写的存储桶名称必须为此格式 | String | 是   |
| - Region               | 存储桶所在地域，枚举值请参见 [地域和访问域名](https://cloud.tencent.com/document/product/436/6224) | String | 是   |
| - Key                  | 对象键（Object 的名称），对象在存储桶中的唯一标识，详情请参见 [对象概述](https://cloud.tencent.com/document/product/436/13324) | String | 是   |
| - FilePath             | 上传文件路径                                                 | String | 是   |
| SliceSize              | 表示文件大小超出一个数值时使用分块上传，单位 Byte，小于等于该数值会使用 putObject 上传，大于该数值会使用 sliceUploadFile 上传 | Nunber | 是   |
| onProgress             | 所有任务 进度汇总计算出来的上传进度                          | String | 是   |
| - progressData.loaded  | 已经上传的文件部分大小，以字节（Bytes）为单位                | Number | 否   |
| - progressData.total   | 整个文件的大小，以字节（Bytes）为单位                        | Number | 否   |
| - progressData.speed   | 文件的上传速度，以字节/秒（Bytes/s）为单位                   | Number | 否   |
| - progressData.percent | 文件的上传百分比，以小数形式呈现，例如：下载50%即为0.5       | Number | 否   |
| onFileFinish           | 每个文件完成或错误回调                                       | String | 是   |
| - err                  | 上传的错误信息                                               | Object | 否   |
| - data                 | 文件完成的信息                                               | Object | 否   |
| - options              | 当前完成文件的参数信息                                       | Object | 否   |

#### 回调函数说明

```
function(err, data) { ... }
```

| 参数名       | 参数描述                                                     | 类型        |
| ------------ | ------------------------------------------------------------ | ----------- |
| err          | 请求发生错误时返回的对象，包括网络错误和业务错误，如果请求成功则为空，更多详情请参见 [错误码](https://cloud.tencent.com/document/product/436/7730)  | Object      |
| - statusCode | 请求返回的 HTTP 状态码，例如200、403、404等                  | Number      |
| - headers    | 请求返回的头部信息                                           | Object      |
| data         | 请求成功时返回的对象，如果请求发生错误，则为空               | Object      |
| - files      | 每个文件的 error 或 data                                     | ObjectArray |
| - - error    | 上传的错误信息                                               | Object      |
| - - data     | 文件完成的信息                                               | Object      |
| - - options  | 当前完成文件的参数信息                                       | Object      |

### 上传队列

Node.js SDK 针对 putObject 和 sliceUploadFile 发起的上传任务都有记录队列里，队列相关方法如下。

1. cos.getTaskList 可以获取任务列表。
2. cos.pauseTask、cos.restartTask、cos.cancelTask 操作任务。
3. cos.on('list-update', callback); 可以监听列表和进度变化。

完整的队列使用示例请参见 [demo-queue](https://github.com/tencentyun/cos-js-sdk-v5/tree/master/demo/queue)。

#### 取消上传任务

根据 taskId 取消上传任务。

**使用示例**

```js
var taskId = 'xxxxx';                   /* 必须 */
cos.cancelTask(taskId);
```

**参数说明**

| 参数名 | 参数描述                                                     | 类型   | 必填 |
| ------ | ------------------------------------------------------------ | ------ | ---- |
| taskId | 文件上传任务的编号，在调用 sliceUploadFile 方法时，其 TaskReady 回调会返回该上传任务的 taskId | String | 是   |

#### 暂停上传任务

根据 taskId 暂停上传任务。

**使用示例**

```js
var taskId = 'xxxxx';                   /* 必须 */
cos.pauseTask(taskId);
```

**参数说明**

| 参数名 | 参数描述                                                     | 类型   | 必填 |
| ------ | ------------------------------------------------------------ | ------ | ---- |
| taskId | 文件上传任务的编号，在调用 sliceUploadFile 方法时，其 TaskReady 回调会返回该上传任务的 taskId | String | 是   |

#### 重启上传任务

根据 taskId 重新开始上传任务，可以用于开启用户手动停止的（调用 pauseTask 停止）或者因为上传错误而停止的上传任务。

**使用示例**

```js
var taskId = 'xxxxx';                   /* 必须 */
cos.restartTask(taskId);
```

**参数说明**

| 参数名 | 参数描述                                                     | 类型   | 必填 |
| ------ | ------------------------------------------------------------ | ------ | ---- |
| taskId | 文件上传任务的编号，在调用 sliceUploadFile 方法时，其 TaskReady 回调会返回该上传任务的 taskId | String | 是   |
