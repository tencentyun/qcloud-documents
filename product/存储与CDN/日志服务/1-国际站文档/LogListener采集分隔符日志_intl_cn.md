## 概述

使用 LogListener 采集分隔符日志是指，日志在采集的时候，使用\n来作为一条日志日志的结束符，并根据您配置日志的分隔符，以及配置的每列的键值字段对日志进行结构化。例如：您的一条日志原始数据为 `10002345987;write;error;topic does not exist`您可以指定日志的解析方式是分隔符方式，分隔符为分号，所有的键值（key）为 eventid action status msg。那么该条日志将被结构化为四个键值对，即 `eventid:10002345987 action:write status error msg:topic does not exist`

## 配置步骤

1. 进入需要配置分隔符解析的日志主题，在管理配置页面中，编辑采集配置，配置采集路径、机器组

2. 配置键值提取模式：在键值提取模式中选择分隔符模式并指定分隔符。您可以选择常用分隔符如空格、制表符、分号、竖线，您也可以自定义分隔符，自定义分隔符支持多字符，多字符的分隔符在解析的时候是完全匹配规则，假设您设置&&作为分割符，abc&dce将被看不被分割。

3. 配置时间：默认使用采集时间作为日志数据的时间，您也可以指定某个 key 作为日志数据的时间，并配置时间的转换格式，**转换格式支持strftime的所有函数**，例如 %Y-%m-%d %H-%M:%S。日志数据时间**以秒为单位**。

4. 配置过滤器（非必选）：若您需要对日志数据进行过滤后采集，您可以使用过滤器配置。过滤器允许您指定特定key，并配置过滤规则对日志进行过滤。例如：您可以指定 errorcode = 200的日志数据不被采集。过滤规则最多配置五条，并且规则支持正则表达式。过滤规则最多添加五条。

  ![](https://mc.qcloudimg.com/static/img/e8f12b5d261f5c5ba59a4370dcd44b49/image.png )