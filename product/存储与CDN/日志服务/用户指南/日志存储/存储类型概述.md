根据用户对日志不同的检索时延性及日志处理能力需求，日志服务（Cloud Log Service，CLS）提供两种存储类型：**实时存储**和**离线存储**。

>!
> - 目前日志离线存储处于公测阶段，仅支持北京、广州、重庆地域。如果您日志主题所在地域暂未支持，可联系 [在线客服](https://cloud.tencent.com/act/event/Online_service) 申请。
> - 公测阶段免除离线存储的日志主题写入流量费用及存储费用。
> 

## 实时存储

适用于用户对日志有实时处理的需求，提供日志的秒级检索，实时统计分析，实时监控，流式消费等应用能力。

**应用场景**

- 运维监控排障：对线上问题进行实时诊断，利用日志秒级检索能力，快速检索散落在多个机器的日志内容，定位故障原因并进行修复；基于日志实时计算各项质量指标，一旦指标超过阈值即告警，便于开发运维人员第一时间发现问题修复故障。
- 流式处理：采集散落在多台机器上 PB 级别埋点日志数据，实时流式拉取至用户自建的大数据处理集群用于后续数据湖计算，例如用于推荐系统的模型数据计算业务等。

## 离线存储

适用于访问频率较低且无实时检索需求的日志，如审计归档日志。离线存储提供分钟级的离线检索日志能力，满足用户对历史日志的回溯检索，归档存储等诉求，整体使用成本相比【实时存储】降低80%，详情请查看 [离线存储简介](https://cloud.tencent.com/document/product/614/60020)。

**应用场景**

- 历史日志存储：日志数据的爆炸性增长，对于数月乃至数年的日志进行大规模存储和分析，其成本变得十分高昂。这可能会导致用户删除有价值的数据，而错过了长期数据可能产生的重要洞察和见解。【离线存储】能满足用户以低成本的方式对历史数据进行大规模的统计分析，历史回溯。
- 非关键业务日志：排查异常时，研发人员更多需要关注 ERROR/WARN 日志以及针对其进行监控告警，info 等非关键业务日志只作为归档存储，在特定场景下才需要触发日志的检索分析。一般用户对该类日志检索时延无特定要求，使用【离线存储】存储非关键关键业务日志能显著较低用户使用成本，且满足用户低频检索的诉求。
- 审计日志场景：将操作审计，安全审计的日志采集至【离线存储】，通过 CLS 离线检索能力分析其访问行为，例如某个账号、某个对象的操作记录等，判断是否存在违规操作。同时，满足合规审计需求，日志存储180天以上。

## 功能对比

| 功能             | 实时存储                                       | 离线存储                |
| ---------------- | ---------------------------------------------- | ----------------------- |
| **日志检索**     | √，实时返回结果                                | √，分钟级离线返回       |
| **SQL聚合分析**  | √，实时返回结果                                | ×                       |
| **上下文检索**   | √，实时返回结果                                | √，分钟级离线返回       |
| **仪表盘可视化** | √                                              | ×                       |
| **实时告警**     | √                                              | ×                       |
| **日志投递**     | 实时投递消息队列 Ckafka，云函数，对象存储 | 仅支持投递至对象存储 |
| **实时消费**     | 支持 kafka 协议消费                              | ×                       |





















