## 操作场景
日志服务提供了日志数据导出的功能，您可以将采集到的日志数据下载至本地查看。
下载日志功能如下：
- 单次下载日志条数最多为5000万条。
- 支持指定检索条件，检索时间范围。
- 支持 JSON，CSV 导出格式。

## 操作步骤

1. 登录 [日志服务控制台](https://console.cloud.tencent.com/cls)。
2. 在左侧导航栏中，单击【检索分析】，进入检索分析管理页面。
3. 单击“日志集”和“日志主题”的下拉框，选择待检索的内容。
![](https://main.qcloudimg.com/raw/085f3cdb1401e21ec4b3fba3df115815.png)
4. 单击日志时间，选择需要检索的日志时间。
您可以选择最近时间、相对时间，也可以自定义时间范围。
5. 单击【检索分析】。
6. 待检索到日志数据后，单击 <img src="https://main.qcloudimg.com/raw/53b7030f85123fe5658e7cce23b730c8.png"></img> > 【下载日志】。
![](https://main.qcloudimg.com/raw/d189bafff048232947b6a367596b7330.png)
>? 若未检索到日志数据，则无法下载日志。
>
7. 在弹出的窗口中，确认需下载日志的时间范围和检索语句，并根据如下信息设置下载日志数据。
<img src="https://main.qcloudimg.com/raw/dc41074812c45914fff3d75ac5dad7ab.png" style="width:60%"/>
<ul>
	<li>数据格式：提供了 “CSV格式”和 “JSON格式”两种格式，请按需选择。</li>
	<li>日志排序：提供了“升序”和“降序”两种规则，默认按时间降序。</li>
	<li>日志数量：默认导出“全部日志”，您也可以选择“自定义日志数量”，自定义导出所需日志数量。</li>
</ul>
>? 
> - CSV 格式下只能导出已配置索引的字段，可能出现下载日志为空的现象。
> - JSON 格式下允许导出全部字段，不受索引配置的限制。
> - 需要下载的日志条数超出5000万时，建议缩小日志检索范围（例如采用更加精确的检索条件、缩小查询时间范围）或仅下载指定数量的日志。
> - 如果确实需要下载超出5000万的日志，可通过限定日志查询时间范围创建多个下载任务，分批进行下载。
> 
8. 单击【导出】，切换为**导出记录**界面。
<img src="https://main.qcloudimg.com/raw/077474c6c877417486431bd3fe7b9d89.png" style="zoom:50%;" />
>? 状态共包含“等待中”、“文件生成中”和“文件已生成”三个状态。新创建的下载任务会在等待片刻后进入“文件生成中”状态，并开始在后台生成数据文件。如有同时多个下载任务，系统会按照创建时间依次执行，创建较晚的任务会处于“等待中”。
>
9. 待“文件名/任务ID” 状态变为**文件已生成**后，单击【下载】，即可导出日志。
>! 导出的日志文件仅保留3天。
> 
