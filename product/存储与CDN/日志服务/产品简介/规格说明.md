

## 配额限制

<table>
<tr>
 <th>相关词汇</th>
  <th>说明</th>
</tr>
  <td>网络环境</td>
  <td>若业务日志读写模块部署在腾讯云 CVM 中，且与日志服务 CLS 同属一个地域，建议配置内网域名进行访问。 详情您可参见 CLS <a href="https://cloud.tencent.com/document/product/614/18940">地域访问域名</a></td>
</tr>
<tr>
  <td rowspan="4">日志集</td>
  <td>每个账号每个地域下最多可以创建20个日志集</td>
</tr>
<tr>
  <td>每个日志集下最多可以创建10个日志主题</td>
</tr>
<tr>
  <td>日志集名称长度为1至255个字符，允许的字符为 a-z、A-Z、0-9、_、-</td>
</tr>
<tr>
  <td>日志集存储周期最长为90天，最短1天</td>
</tr>
<tr>
  <td rowspan="4">日志主题</td>
  <td>日志主题名称长度为1至255个字符，允许的字符为 a-z、A-Z、0-9、_、-</td>
</tr>
<tr>
  <td>新增日志主题时最多能创建10分区</td>
</tr>
<tr>
  <td>每个日志主题下最多50个分区</td>
</tr>
<tr>
  <td>每个主题最多可以绑定100个机器组</td>
</tr>
<tr>
  <td rowspan="3">机器组</td>
  <td>每个账号在不同地域下最多可以创建200个机器组</td>
</tr>
<tr>
  <td>每个 ip 机器组最多可以绑定200个机器 IP</td>
</tr>
<tr>
  <td>每个标示机器组最多可以绑定50个 label</td>
</tr>
<tr>
   <td rowspan="5">索引&amp;检索</td>
   <td>每个日志主题键值索引 Key-Value 组合最多为100个</td>
 </tr>
 <tr>
   <td>控制台默认最长能检索90天范围的日志</td>
 </tr>
 <tr>
   <td>单次请求日志返回数量最大值为100条</td>
 </tr>
 <tr>
   <td>通过游标最多可以获取10000条日志</td>
 </tr>
  <tr>
   <td>日志写入 CLS，到可被检索分析的时延：小于1min</td>
 </tr>
 <tr>
   <td rowspan="6">投递 COS</td>
   <td>每个日志主题投递 COS 任务配置个数最多为10个</td>
 </tr>
 <tr>
   <td>每个投递任务设置的过滤规则最多5个</td>
 </tr>
 <tr>
   <td>最多能查询3天内的投递任务</td>
 </tr>
 <tr>
   <td>投递时间间隔最大可设置为3600秒，最小为60秒</td>
 </tr>
 <tr>
   <td>投递数据包上限为10000MB，不能小于100MB</td>
 </tr>
  <tr>
   <td>投递条件已触发，到日志成功投递时延：1min</td>
 </tr>
 <tr>
   <td nowrap="nowrap">投递 Ckafka</td>
   <td>每个日志主题最多能配置一个 Ckafka 投递任务</td>
 </tr>
</table>




## 采集限制

<table>
    <tr>
  <th>限制项</th>
  <th>说明</th>
</tr>
    <tr>
  <td rowspan="14">采集限制</td>
  <td>单、多行全文采集最多可配置1条过滤规则</td>
</tr>
<tr>
  <td>分隔符、正则提取模式、JSON 格式最多可以配置5条过滤规则</td>
</tr>
<tr>
  <td>分隔符、正则提取模式 Key 字段长度最多为128Byte</td>
</tr>
<tr>
  <td>分隔符模式提取 Key-Value 组合个数最多为100个</td>
</tr>
<tr>
  <td>正则模式提取 Key-Value 组合个数最大为100个</td>
</tr>
<tr>
  <td>单条日志最大长度为512KB，超出部分会被截断丢弃</td>
</tr>
<tr>
  <td>每秒上传的日志量不能大于16MB</td>
</tr>
<tr>
  <td>LogListener 最大连接数限制：1024</td>
</tr>
<tr>
  <td>LogListener 的内存占用，正常情况最多50MB，后台服务故障时150MB</td>
</tr>
<tr>
  <td>LogListener 的 CPU 使用在5MB/s日志量下，3个进程合计不超过单核20%</td>
</tr>
<tr>
   <td>正常情况从日志产生，到 LogListener 检测该日志的延时：1s</td>
 </tr>
 <tr>
   <td>更新采集配置之后会有1分钟的生效延时</td>
 </tr>
 <tr>
   <td>LogListener 运行的采集目标日志文件大小建议小于500MB</td>
 </tr>
 <tr>
   <td>MaxMem_Bytes 建议不小于300MB</td>
 </tr>
</table>




## 读写限制

<table>
    <tr>
  <th>限制项</th>
  <th>说明</th>
</tr>
<tr>
   <td rowspan="2" nowrap="nowrap">下载日志</td>
   <td>单次下载日志条数最多为1000条</td>
 </tr>
 <tr>
   <td>单次下载数据包最大为50MB</td>
 </tr>
 <tr>
   <td rowspan="5">上传日志</td>
   <td>一个 pb 包里 <a href='https://cloud.tencent.com/document/product/614/16873'>logGroup </a>包含日志条数最多为10000条，至少包含1条</td>
 </tr>
 <tr>
   <td>Log 中 Value 的最大为1MB</td>
 </tr>
 <tr>
   <td>一个pb包里 <a href='https://cloud.tencent.com/document/product/614/16873'>logGroup </a>部分所有 Value 大小最大总和为5MB</td>
 </tr>
 <tr>
   <td>Log 中的 Key 不能是以下保留字段 "__FILENAME__"、"__TIMESTAMP__"、"__LOGSETID__"、"__TOPICID__"</td>
 </tr>
 <tr>
   <td>单次上传请求的包体压缩前不能超过6MB</td>
 </tr>
 <tr>
   <td rowspan="4">实时消费</td>
   <td>单次请求消费的 <a href='https://cloud.tencent.com/document/product/614/16873'>logGroup </a>最大值为1000个</td>
 </tr>
 <tr>
   <td>单次请求返回的未压缩的数据量最大为5MB</td>
 </tr>
 <tr>
   <td>每个日志主题 API 配置的消费组个数最大为50个</td>
 </tr>
 <tr>
   <td>日志写入 CLS，到可被消费的时延：小于1s</td>
 </tr>
  <tr>
    <td rowspan="2">读写頻控</td>
    <td >单个主题分区读请求限制：200qps。超限返回状态码429，提示错误 SpeedQuotaExceed </td>
  </tr> 
    <tr>
    <td >单个主题分区写请求限制：500qps。超限返回状态码429，提示错误 SpeedQuotaExceed </td>
  </tr> 
  <tr>
    <td>读写流控</td>
    <td >单个主题分区写流量限制：5MB/s。超限返回状态码429，提示错误 SpeedQuotaExceed </td>
  </tr>
</table>

