## 概述

使用 LogListener 采集 JSON 日志是指，日志在采集的时候，使用\n来作为一条日志日志的结束符，平台会解析JSON的首层，作为键值对。

## 配置步骤

1. 进入需要配置 JSON 解析的日志主题，在管理配置页面中，编辑采集配置，配置采集路径、机器组。

2. 配置键值提取模式：在键值提取模式中选择 JSON。

3. 配置时间：默认使用采集时间作为日志数据的时间，您也可以指定某个 key 作为日志数据的时间，并配置时间的转换格式，**转换格式支持strftime的所有函数**，例如 %Y-%m-%d %H-%M:%S。日志数据时间**以秒为单位**。

4. 配置过滤器（非必选）：若您需要对日志数据进行过滤后采集，您可以使用过滤器配置。过滤器允许您指定特定key，并配置过滤规则，过滤规则为正则表达式，匹配上该正则表达式的日志将被采集。过滤规则最多配置五条。

   例如：假设您希望指定 errorcode = 200 或 400 的日志数据被采集。key处配置errorcode，过滤规则处配置(200|400)

   ![](https://main.qcloudimg.com/raw/b0ca22dff34008c5e309cebfaff9fd3d.png)