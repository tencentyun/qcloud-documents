## 操作场景

对于 BLE、Zigbee 和485等不具备直接访问网络能力的设备，需要先接入网关，然后通过网关代理，间接实现设备接入腾讯物联网开发平台 IoT Explorer，具体流程框架图如下：
![](https://main.qcloudimg.com/raw/bcce392f4766673176d096f6d75cfe3b.svg)

本文档将指导您如何在平台管理网关与子产品的关联绑定关系以及网关设备与子设备的设备级拓扑关系。

## 操作步骤

### 网关下子产品管理

#### 创建网关产品

1. 登录 [物联网开发平台控制台](https://console.cloud.tencent.com/iotexplorer)，单击某个实例，进入项目列表页。
2. 选择某个项目进入详情页，单击**新建产品**。
3. 进入新建产品页面，填写相关信息。
![](https://main.qcloudimg.com/raw/79492bbad7e7b96f7bdd29a956cc3b27.png)
	- 产品名称：名称为中文、字母、数字、下划线的组合，1 - 20位字符且不能为空。
	- 产品类型：选择您所创建产品的所属品类，不同类型产品的数据模板会有所不同。也可以选择自定义产品的数据模板。
	- 设备类型：选择网关类型。
	- 认证方式：物联网开发平台提供两种认证方式用于设备与平台之间鉴权认证。可以根据需要进行选择证书认证或密钥认证。
	- 通信方式：您可以选择 Wi-Fi、移动蜂窝（2G/3G/4G）等其他通信方式。
	- 数据协议：目前网关类型产品仅支持数据模板协议。
	- 描述：字数不能超过80个，您可以根据需要选填。
4. 信息填写完成后，单击【保存】。

#### 创建子产品

单击**新建产品**按钮，设备类型选择子设备，本示例创建子产品：产品品类为灯、密钥认证、与网关通信方式为自定义协议、数据协议选择为物模型。
![](https://main.qcloudimg.com/raw/e484d5cc73b6ca284c235c5c86188457.png)

#### 绑定子产品

>? 网关产品需要与子产品建立绑定后，网关设备才能够与子设备建立绑定并代理通信。

1. 选择产品列表下网关产品的**子产品管理**，进入子产品绑定页面。
2. 单击**添加子产品**，勾选您需要绑定的产品后，单击**添加**，完成绑定。
   ![](https://main.qcloudimg.com/raw/8da9bc58b32a1f5ce3584a3b28f18a6c.png)

#### 解绑子产品

解绑子产品需要先解绑网关设备下的子产品设备，解绑子产品之后，网关下对应子产品的权限也将被清除。

1. 网关不再需要绑定的子产品，您可以在**子产品管理**页面进行解绑。
2. 勾选对应子产品，单击**批量解绑**，即可完成解绑子产品。
   ![](https://main.qcloudimg.com/raw/9a723dc9c020c9e56b91ec1c9ea29007.png)

### 子设备管理

#### 添加网关设备

1. 单击产品列表对应的网关产品，进入产品开发页面。
2. 单击第4步进入设备调试，为网关产品创建设备。
   ![](https://main.qcloudimg.com/raw/fea65d1b32bbda552bb96e0e06a58627.png)
3. 单击**新建设备**按钮，创建网关设备 gateway001。
   ![](https://main.qcloudimg.com/raw/c0f396f3959e3d8dddce0e166cef0f78.png)

#### 添加子设备

在子产品的设备调试页面，创建一个子设备 sub_dev001。

#### 绑定子设备
>?
> - 子设备是通过网关产品代理实现子设备的鉴权和通信，网关能够代理子设备鉴权和通信的前提是在平台实现了网关和子设备的绑定操作。
> - 子设备是无法直连物联网平台的产品，由网关设备代理连接，所以子设备的认证方式不影响连接，由网关设备负责认证接入。

1. 选择对应的网关设备，单击**子设备管理**添加子设备。
   ![](https://main.qcloudimg.com/raw/805c491639e23397228b564403f41ee5.png)
2. 勾选需要绑定的子设备，单击**添加**，完成绑定。
   ![](https://main.qcloudimg.com/raw/794caac305ea318b009286e7050815a9.png)

#### 解绑子设备

选择产品列表下**设备列表**，勾选对应子设备，单击**解绑**进行解绑操作。
![](https://main.qcloudimg.com/raw/d39e150960823a700596a4ca1098058b.png)

## 后续步骤

#### 网关子设备快速入门

结合 C-SDK 的 gateway_sample 快速体验网关设备代理子设备上下线，子设备基于数据模板协议发送和接收消息。同时如何进行小程序端开发，及小程序侧添加网关子设备交互流程。请参考文档 [网关子设备快速入门](https://cloud.tencent.com/document/product/1081/61279)。
