## 操作场景
当用户需要对设备数据进行处理，如需要根据预设的规则，实时过滤设备上报的属性、事件值，将符合过滤规则的数据进行消息通知、存储等服务。本文档主要介绍如何使用开发平台进行数据开发。

## 操作步骤
### 新建数据流
1. 登录 [物联网开发平台](https://console.cloud.tencent.com/iotexplorer) ，选择项目列表后，单击左侧菜单【数据开发】。
2. 进入数据开发列表页面，单击【新建数据流】。
 - **数据流名称**：输入数据流处理的名称标识。
 - **描述**：输入该数据流处理的备注信息。  
![](https://main.qcloudimg.com/raw/70a877bf9956f7a84a8f104bae31aff5.png)
3. 单击【保存】，保存成功后则显示数据流列表页。

### 数据流编排
#### 设备数据编排
1. 单击数据流列表页中的数据流名称，进入数据流编排页面。
2. 选择左侧输入区域中的【设备数据】节点，拖放到中间区域。
3. 单击已拖放的节点【设备数据】，右侧区域显示该节点的配置区域。
![image](https://main.qcloudimg.com/raw/4b83cc948bdf9ad3d6ad233e8b38b0b5.png)
4. 选择产品表示对该产品下所有设备上报的数据进行实时处理，系统列出该项目下所有的“产品”，用户根据需要选择对应的“产品”。
5. 选择某个产品后，属性下拉列表就会列出该产品的所有属性，用户可根据需要选择哪些属性作为数据的输入。
6. 选择属性后，必须要单击“确定”按钮才能保存配置数据。


#### 数据过滤编排
1. 选择左侧【数据过滤】节点，拖放到画布区域。
2. 单击【数据过滤】节点，右侧区域显示该节点的配置区域。
3. 在配置“数据过滤”前，必须要指定数据源，即将“设备数据”与“数据过滤”两个节点连接起来。
![image](https://main.qcloudimg.com/raw/65390dcd35b73fa66602e7a77af82cb8.png)
4. 数据过滤目前支持与、或逻辑组合，可根据上一个节点的输出任意组合过滤条件。
5. 选择添加条件，如设置某个值大于80，表示数据流将不符合该规则的数据都丢弃，只有将符合规则的数据留到下一个节点处理。


#### 公众号推送
1. 选择左侧【公众号推送】节点，拖放到画布区域。
2. 单击【公众号推送】节点，右侧区域显示该节点的配置区域。
![image](https://main.qcloudimg.com/raw/d8a2061fff5a4a96583350e3a29f5b96.png)
3. 输入推送标题以及推送内容并保存。


#### 保存与启用数据流
1. 用户设置完输入、处理与输出节点的规则后，需要单击【保存】或【启用】。
2. 当启用数据流后，只要该设备上报的数据符合定义的规则，则会触发公众号推送。
3. 在官方小程序“腾讯连连”的【消息推送设置】中，启动公众号消息推送，即可收到消息推送。
![image](https://main.qcloudimg.com/raw/e00f033ff03e574fd40140f5fe018621.png)

#### 禁用数据流
1. 当用户需要停止某个数据流服务时，进入数据开发查看对应的数据流列表。
2. 单击生效状态列下的【关闭】，系统弹出确认提示，单击【禁用】表示停止该数据流服务，系统将不会再实时处理。
![image](https://main.qcloudimg.com/raw/51e8366f0a90e4abf8dfd449d3245d2d.png)


