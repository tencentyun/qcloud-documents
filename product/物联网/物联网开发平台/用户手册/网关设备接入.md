## 操作场景
本文档指导您如何基于网关设备管理子设备，并代理子设备与物联网开发平台进行消息通信。



## 操作步骤
### 子产品管理
#### 创建网关产品
1. 登录 [物联网开发平台控制台](https://console.cloud.tencent.com/iotexplorer)，选择具体的项目。
2. 进入项目详情页，单击【新建产品】。
3. 进入新建产品页面，填写相关信息。
 - 产品名称：名称为中文、字母、数字、下划线的组合，1 - 20位字符且不能为空。
 - 产品类型：选择您所创建产品的所属品类，不同类型产品的数据模板会有所不同。也可以选择自定义产品的数据模板。
 - 设备类型：选择网关类型。
 - 认证方式：物联网开发平台提供两种认证方式用于设备与平台之间鉴权认证。可以根据需要进行选择证书认证或密钥认证。
 - 通信方式：您可以选择 Wi-Fi、移动蜂窝（2G/3G/4G）等其他通信方式。
 - 数据协议：目前网关类型产品仅支持数据模板协议。
 - 描述：字数不能超过80个，您可以根据需要选填。
![](https://main.qcloudimg.com/raw/9c474f0ea49b82b6b7cca3925760bf98.jpg)
4. 信息填写完成后，单击【保存】。


#### 绑定子产品
>?子产品下的设备可以绑定到网关产品的设备下，网关产品最多可绑定30个直连设备类型的子产品。

1. 选择产品列表下网关产品的【子产品管理】，进入子产品绑定页面。
2. 单击【添加子产品】，勾选您需要绑定的产品后，单击【添加】，完成绑定。
![](https://main.qcloudimg.com/raw/5a4a3628a843a7822d6fc44db2ed138a.png)

#### 解绑子产品
解绑子产品需要先解绑网关设备下的子产品设备，解绑子产品之后，网关下对应子产品的权限也将被清除。

1. 网关不再需要绑定的子产品，您可以在【子产品管理】页面进行解绑。
2. 勾选对应子产品，单击【解绑】，即可完成解绑子产品。
![](https://main.qcloudimg.com/raw/348244ee3a1c836ac3546b8cff37ce20.png)

### 子设备管理
#### 添加网关设备
1. 单击产品列表对应的网关产品，进入产品开发页面。
2. 单击第4步进入设备调试，为网关产品创建设备。
![](https://main.qcloudimg.com/raw/c068db35304ba1d046c47fcf03de3176.png)

#### 绑定子设备
>?
- 子设备是通过网关产品代理实现子设备的鉴权和通信，网关能够代理子设备鉴权和通信的前提是在平台实现了网关和子设备的绑定操作。
- 子设备是无法直连物联网平台的产品，由网关设备代理连接，所以子设备的认证方式不影响连接，由网关设备负责认证接入。

1. 选择对应的网关设备，单击【子设备管理】添加子设备。
![](https://main.qcloudimg.com/raw/113e6d57eb01e3b9aa62c982f1cfcafc.png)
2. 勾选需要绑定的子设备，单击【添加】，完成绑定。
![](https://main.qcloudimg.com/raw/7fe79c0997d5ba6cb6e14aff042e01a3.png)

#### 解绑子设备
选择产品列表下【设备列表】，勾选对应子设备，单击【解绑】进行解绑操作。
![](https://main.qcloudimg.com/raw/68d722f670395e06108df3afe08eab8c.png)


## 后续步骤
#### 网关设备快速入门
结合 C-SDK 的 gateway_sample 快速体验网关设备代理子设备上下线，子设备基于数据模板协议发送和接收消息。请参考文档 [网关设备快速入门](https://github.com/tencentyun/qcloud-iot-explorer-sdk-embedded-c/blob/master/docs/%E7%BD%91%E5%85%B3%E8%AE%BE%E5%A4%87%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.md)。
