## 操作场景
用户在创建产品后，可以在消息队列页面配置，选择设备消息类型推送到消息队列中，用户服务端从队列里获得设备数据。消息队列功能为用户提供了一种可靠的设备与第三方服务端之间的异步通信机制。

## 功能优势
消息队列功能最大的特点是与腾讯云的消息队列服务结合，提供了可靠的消息存储与传输机制。消息队列甚至可以与其它腾讯云计算模块连通，提供无缝的计算服务。

## 消息类型
目前消息队列功能会转发如下几种消息类型：
- 设备在线状态变更。
- 常量属性（ProConst）变更。
- 可写属性（ProWritable）变更。
- 只读属性（ProReadonly）变更。
- 设备控制（Action）。
- 设备事件（Event）。

## 配置转发 CKafka

#### 授权访问
1. 登录 [物联网智能视频服务（消费版）控制台](https://console.cloud.tencent.com/iot-video)，选择【产品管理】。
2. 单击具体产品后，选择【消息队列】>【前往授权访问消息队列（CKafka）】。
3. 授权成功后，单击【同意授权】，将进入配置消息队列页面。

#### 配置消息队列 Ckafka 参数
1. 填写消息类型、地域、实例及 Topic 相关信息，完成填写后，单击【保存配置】。
![](https://main.qcloudimg.com/raw/6b61201e797116f19e855d09ef470e9a.jpg)
2. 在弹出的确认保存的窗口，单击【确定】。
3. 物联网智能视频服务（消费版）平台将立即向选择的 Topic 推送选择的消息类型。


>?若当前账号没有实例，可单击【创建实例】，并前往 CKafka 购买和创建实例。

#### 编辑消息队列参数
1. 配置完成后，消息队列页面将展示已配置的实例 ID、主题 ID 及消息类型，若需要重新编辑，可单击【编辑】进行配置修改。
2. 在消息队列页面，如果授权未成功，需要您手动再次授权，确保可正常使用消息队列服务。此外，消息队列页面会展示已配置路由状态，若状态为未生效，可单击【重试】。

#### 删除消息队列
如果您想删除当前消息队列配置，可单击右上角【删除当前配置】，即可完成删除。
