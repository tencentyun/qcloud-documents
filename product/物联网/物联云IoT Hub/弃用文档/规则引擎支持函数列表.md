在规则引擎的数据处理部分，支持编写类 SQL 语句对 Topic 中的数据进行筛选处理，而转发第三方组件或者发往其他设备。一般而言，新数据的字段组成可以是对原始消息的引用（通过 ${} ）,也可以是常量。鉴于设备上报场景化的多样性和规则引擎配置的灵活性，数据有时候需要保持原来的上下文信息（比如转发时序数据库时候，根据来源消息的 devicename 作为 tag 入库），这时候可以通过规则引擎支持的函数列表实现。

### 函数列表

| 函数名 | 说明 |
|---------|---------|
| productId() | 返回消息来源的产品 id |
| deviceName() | 返回消息来源的设备名字 |
| timestamp() | 返回当前的 Unix 系统时间戳，秒为单位 |
| topic() | 返回消息来源的原始 topic |
| topic(n) | 返回消息来源的原始 topic 以'/'分割的第 n 个分段 |
| abs(num) | 返回数值的绝对值 |
| upper() | 返回字符串转大写 |
| lower() | 返回字符串转小写 |
| random() | 返回一个浮点值随机数 |
| randint(min,max) | 返回 min 和 max 之间的随机整数 |

