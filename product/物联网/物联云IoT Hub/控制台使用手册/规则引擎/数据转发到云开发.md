## 概述
规则引擎支持用户配置转发规则，将符合条件的设备上报数据转发到云开发组件 ，您可以在 [云开发 CloudBase 控制台](https://console.cloud.tencent.com/tcb/env/index) 完成云开发环境的开通，具体操作请参见 [开通环境](https://cloud.tencent.com/document/product/876/41391)。

下图展示了规则引擎将数据转发给云开发的整个过程：
![](https://main.qcloudimg.com/raw/7d05d865800b63e369f8f34c193ca100.png)

## 配置
1. 登录 [物联网通信控制台](https://console.cloud.tencent.com/iotcloud)，单击左侧菜单【规则引擎】。
2. 进入规则引擎页面，单击需要配置的规则。
3. 在规则详情页面，单击【添加行为操作】。
>?第一次使用时会提示用户授权访问云开发，您需单击【立即授权】才能继续创建。
![](https://main.qcloudimg.com/raw/f088d74df35ed8e4158ad10d7c9d88e7.png)
4. 在弹出的“添加规则”窗口，选择“数据转发到云开发（CloudBase）选项”，选择建立好的环境与函数后，单击【保存】即可。
![](https://main.qcloudimg.com/raw/04effea4217c3b4c2fdb70aec1fe86da.png)

>!目前仅支持数据往云开发中云函数的转发，需先在云开发中建立好开发的环境与云函数，才可对环境与云函数进行选择。

## 重发机制

重发机制用于在消息转发过程中发生失败的情况下，进行再次重发以达到接受消息的目的，具体说明如下：
- 若消息转发失败，系统则会进行转发重试，重试按照1s、3s、10s的时间间隔依次进行，若三次重试均失败，则将消息丢弃掉。
- 若用户配置了“转发错误行为操作”，在三次重试失败后，将按“转发错误行为操作”的配置，再进行一次消息转发，如果仍失败，则将消息丢弃掉。
