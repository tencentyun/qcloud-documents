## 操作场景
物联设备接入云平台前，需要在物联网通信控制台创建虚拟产品和设备，并与现实设备进行一一对应。物联网通信平台会为设备分配唯一接入认证标识。本文档指导您如何操作接入平台前的准备工作。


## 操作步骤
### 创建产品
1. 登录 [物联网通信控制台](https://console.cloud.tencent.com/iotcloud)，单击左侧菜单栏【[产品列表](https://console.cloud.tencent.com/iotcloud/products)】。
2. 进入产品列表页面，单击【创建新产品】，按照实际情况填写以下信息。
 - **产品类型**：
    - 普通产品：使用 2G/3G/4G/WIFI 无线通信或有线通信方式，用户可以二次开发通信模组创建。
    - NB-IoT 产品：使用 NB-IoT 无线通信方式，用户使用运营商的通信模组通过串口 AT 命令通信。
    - LoRa 产品：使用 LoRa 无线通信方式，不能直接连 Internet，使用标准 LoRaWan 协议，需通过网关来代发设备的消息。
    - CLAA 产品：使用 LoRa 无线通信方式，不能直接连 Internet，使用 CLAA 协议（终端内置 CLAA 模组），需通过网关来代发设备的消息。
 - **产品名称**：1 - 32位字母、数字、下划线的组合，可任意修改。
 - **认证方式**：
    - 证书认证：在创建设备时，平台将为设备生成一个证书文件和一个私钥文件，用于和物联云通信之前设备的认证。
    - 密钥认证：在创建设备时，可以使用自定义的 PSK 或是平台为设备随机生成的 PSK。
 - **数据格式**：JSON 格式支持根据数据进行规则匹配和内容提取，自定义格式不做任何数据解析。
 - **产品描述**：0 - 2048个字，可任意选择。
3. 单击【创建】，即可生成产品。（产品相当于某一类设备的集合，用户通过产品管理其下的所有设备）
![](https://main.qcloudimg.com/raw/57ea536db34061464ce0c9fa911c5b4b.png)
4. 创建完产品后，可开启产品的动态注册功能，则会生成产品密钥（ProductSecret）。
![](https://main.qcloudimg.com/raw/492436386c7f6e1c7c5ca19afed6a9b0.png)
>?同一产品下的所有设备在生产过程可以烧录统一的产品信息，即产品 ID（ProductId）、产品密钥（ProductSecret）。设备出厂后，通过动态注册的方式获取设备身份信息并保存，然后用申请到的三元组或者四元组信息进行设备认证。若开启动态注册的同时选择自动创建设备，则设备名可自动生成，但必须保证同一产品 ID（ProductId）下的设备名不重复，一般取 IMEI 或者 MAC 地址。动态注册功能详情请参见 [设备接入](https://cloud.tencent.com/document/product/634/35270)。


### 删除产品
1. 完成新产品创建后，您可以在【产品设置】页面查看产品的基本信息。
2. 当您无需该产品时，您可以在【产品设置】页面右上方，单击【删除产品】即可。


### 创建设备
创建完产品后，可以为该产品添加设备。
1. 单击相应产品的【设备列表】标签。
2. 单击【添加新设备】。并填写设备相关信息。
  - 设备名称：1 - 48位字母、数字、下划线的组合。
  - 设备备注：1 - 16位中文、字母、数字、连接号、下划线的组合。
  - 密钥：4-64位 Base64 编码的字符串。
  - 运营商类型：产品类型为 NB-IoT 产品时可选电信 NB-IoT、移动 NB-IoT、联通 NB-IoT。目前只支持电信 NB-IoT。
  - IMEI：产品类型为 NB-IoT 产品时可输入 IMEI。由15位数字组成。
  - AppEUI：产品类型为 LoRa 产品时应用的 ID。
  - DevEUI：产品类型为 LoRa 产品时设备的 ID。
  - AuthKey: 产品类型为 LoRa 产品时设备认证密钥。
  - AppKey:  产品类型为 LoRa 产品时设备用于通讯密钥的参数加密。

>!
- 设备名称新建后无法修改，请谨慎填写。
- 同一产品下设备名称不能重复。
- 当产品为密钥认证方式时，才会出现密钥选项；自定义密钥必须是 Base64 编码的字符串，可以在输入框中输入普通字符串后单击【转换成 Base64】按钮转换为 Base64 编码的字符串。

![](https://main.qcloudimg.com/raw/5b1dd31435616a7b362487fe6c2df3ac.png)

如果选择的产品认证方式是证书认证，创建设备之后设备私钥是设备用于连接物联网通信后台的唯一标识，后台不存储该设备私钥，请用户妥善保管，切勿泄漏。
![创建设备提示](https://main.qcloudimg.com/raw/38083856a953e8405c6398e9bd79f9bb.png)


### 设备详情
1. **认证方式为证书认证**
设备详情包含单个设备的所有管理内容：设备名称、设备备注、在线状态、版本信息、设备证书（单击可下载）、设备私钥（单击可下载）、设备日志配置、设备影子状态。
2. **认证方式为密钥认证**
设备详情包含单个设备的所有管理内容：设备名称、设备备注、在线状态、版本信息、设备密钥 （单击显示查看）、设备日志配置、设备影子状态、运营商类型（NB-IoT 产品）、IMEI（NB-IoT 产品）。



