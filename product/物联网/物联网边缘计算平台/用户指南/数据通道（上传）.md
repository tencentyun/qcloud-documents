

数据通道南向连接边缘组件，提供 rpc 接口，北向连接云端后台，使用 mqtt 传输结构化消息，使用 websocket 传输文件，支持文件断点续传。
![](https://qcloudimg.tencent-cloud.cn/raw/ae0f06d09219c8ccd56172f7cfd57bf0.png)
1. 视频 API，控制摄像头和视频流。
2. 传感器数据采集和控制 API。
3. 数据上传API，通过此API可往云端发送传感器数据和视频采集文件。
4. 云端API，云端应用可往边端推送消息，例如发送控制命令给传感器：
数据通道上传结构化数据时，使用的是 mqtt3.1.1 QoS1，如果网络中断，会暂存消息，默认为10000条，可根据实际场景配置缓存队列大小；数据通道上传文件时，使用的是 webscoket 分块传输文件。
所有数据都先传送到 ECP 云后台再分发给用户云端应用，ECP 后台不提供数据存储服务，由用户决定怎样存储数据。
