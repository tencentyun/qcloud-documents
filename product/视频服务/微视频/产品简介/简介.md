## 1 微视频简介
腾讯云微视频服务频为用户提供了视频上传、转码、存储、审核和播放的解决方案，目前每天有数百万的微视频通过腾讯云上传和播放给所有用户。
腾讯云微视频服务良好的解决了视频播放时卡、顿；用户分享视频上传速度慢、失败率高；手机屏幕无法适配等问题。利用微视频完善的解决方案，开发者可以快速的建立稳定安全的视频服务，基于云服务的弹性调度能力，也能快速调整资源适应业务突然变化，并有效提高开发、运营的效率，节省人力，集中精力提升用户体验。

## 2 基本架构及业务流程
为了保证服务质量和数据的安全，我们提供了服务器架构设计和编码方面的建议，希望开发者能尽可能的参考如下架构进行开发：
### 2.1	基本架构
微视频服务由微视频、云业务服务端、客户端组成：
1.微视频云由腾讯云上传、分发、计算，存储、监控、调度等若干组件组成，视频转码、存储、审核和分发等能力。

2.开发者业务服务端提供至少如下3个功能：
1) 生成签名。签名的生成不能在终端APP上进行，否则会产生极大的安全隐患
2) 使用数据库管理用户、视频资源等信息
3) 响应终端的业务请求

3.终端，通常既上传视频也下载、播放视频：
1) 上传视频：通常先从开发者服务器获取多次有效签名，然后带着签名请求微视频服务进行视频上传，上传成功后会返回该视频的下载url及管理url、fileid等信息；
2) 管理视频：目录、视频管理需要先从开发者服务器获取签名，然后带着签名和目录、文件信息请求微视频服务进行管理；
3) 下载视频：未设置token防盗链，视频可直接通过下载url下载，设置了token防盗链，需要先从开发者服务器获取签名，然后带着签名和下载url下载视频；
签名相关请参照[微视频鉴权及签名文档](http://www.qcloud.com/doc/product/314/%E5%BE%AE%E8%A7%86%E9%A2%91%E9%89%B4%E6%9D%83%E5%8F%8A%E7%AD%BE%E5%90%8D%E6%96%87%E6%A1%A3)
### 2.2	业务流程
#### 2.2.1	视频上传
![](http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/weishipingongneng-1.jpg)

为了保护开发者利益，移动端APP上传视频文件前先请求开发者服务器获取上传凭证（安全签名），然后再请求腾讯云•微视频服务，微视频服务会对上传凭证进行验证，无效的凭证会返回上传失败、拒绝存储。
#### 主要包括三个步骤：
a)注册登录腾讯云，在[空间管理](http://console.qcloud.com/uvs/vbucket)创建bucket；
b)业务服务器集成[服务器端SDK](https://www.qcloud.com/document/product/314/3499#3.-.E6.9C.8D.E5.8A.A1.E5.99.A8sdk)创建目录、上传视频
移动端向业务服务器申请上传签名，集成[移动端SDK](http://www.qcloud.com/document/product/314/2290)创建目录、上传视频
c)使用数据库管理视频资源等信息。
#### 2.2.2 视频下载
![](http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/weishipingongneng-2.jpg)

下载视频文件可无需复杂的验证， 如果app未设置token防盗链，移动端APP可直接通过下载url下载视频； 如果app设置了token防盗链，需要先从开发者服务器获取签名，然后带着签名和下载url下载视频。

## 3 如何体验微视频服务
在正式开始使用腾讯云•微视频前您可以通过我们提供的[Demo APP](http://www.qcloud.com/doc/product/314/DEMO%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97)体验微视频服务。
