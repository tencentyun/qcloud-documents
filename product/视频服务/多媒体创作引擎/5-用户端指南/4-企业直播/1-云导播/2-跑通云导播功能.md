本文主要指导您了解云导播台功能，并快速跑通云导播。

## 使用限制

- 免费版每个账号可创建1个云导播台实例，删除导播台实例后即可重新添加。
- 免费版每个账号最多支持转推**1路**，直播输出会带有多媒体创作引擎的水印。
- 若您需要创建多个导播台、转推多路第三方、且视频输出无水印，可以升级为企业版，参见 [购买指南](https://cloud.tencent.com/document/product/1156/64101)。

## 前提条件


[](id:step1)

## 步骤1：创建导播台
1. 进入多媒体创作引擎用户端平台，并进入**云直播** > **云导播**。
2. 单击**新增导播台**，在导播台新增弹框中设置导播台名称、描述以及运行结束时间，
3. 单击**确定**，即可创建一个新的云导播台。
![](https://qcloudimg.tencent-cloud.cn/raw/585373460083d7369df4aa1b0a798584.png)
4. 在导播台列表中，单击导播台的 ID 或操作栏中的**进入**，即可进入导播控制台。

[](id:step2)
## 步骤2：添加输入源
云导播支持 [直播 URL](#live)、[轮播文件](#rotation) 和 [本地推流](#push) 3种输入类型。

[](id:live)

### 直播 URL
在导播控制台的视频输入源区域单击**添加视频**，在添加视频页面中，选择输入类型为**直播 URL**。
<dx-tabs>
::: 直播拉流 URL
1. 选择**直播拉流URL**，将正在直播的流 URL 填写到输入框中，支持 RTMP、HLS 和 HTTP-FLV 三种协议。
2. 单击**确定**开始拉取直播流。

![](https://qcloudimg.tencent-cloud.cn/raw/ec4c0d9896c66c636944e6b6c1ded0bc.png)
:::
::: 直播推流 URL
1. 选择**直播推流URL**，云导播会自动生成 RTMP 推流地址，单击**确定**，即可生成一个推流输入源。
2. 将此地址复制到推流软件中，开始推流。
>? 若使用手机端推流软件，可单击二维码按钮，生成对应的二维码，直接扫码获取推流地址进行推流。
3. 单击**确定**拉取对应的直播流。

![](https://qcloudimg.tencent-cloud.cn/raw/c6051338a42413d00ca2cbffac005f69.png)
:::
</dx-tabs>

[](id:rotation)

### 轮播文件
在导播控制台的视频输入源区域单击**添加视频**，在添加视频页面中，选择输入类型为**轮播文件**。
<dx-tabs>
::: 云媒资导入
支持导入**我的网盘**中的视频文件作为输入源，支持选择多个视频，云导播将默认以列表方式循环播放列表内的文件。

1. 选择**云媒资导入**，单击**添加文件**选择视频文件。
2. 单击**确定**即可。

![](https://qcloudimg.tencent-cloud.cn/raw/263c8d81b6610371acca7cc14b44a442.png)
:::
::: 点播 URL
支持 MP4、HLS 和 FLV 格式的点播 URL，可添加多个视频，云导播将默认以列表方式循环播放列表内的文件。

1. 选择**点播URL**，单击**添加URL**，填写点播 URL 地址。
2. 单击**确定**即可。
![](https://qcloudimg.tencent-cloud.cn/raw/d8ced452760ffe35e18fb74fd0750af0.png)
:::
</dx-tabs>

[](id:push)
### 本地推流
在导播控制台的视频输入源区域单击**添加视频**，在添加视频页面中，选择输入类型为**本地推流**。
>!使用时请允许摄像头和麦克风权限。

<dx-tabs>
::: 摄像头推流
支持使用本地摄像头作为输入源 。

1. 选择**摄像头推流**，调整视频分辨率为1920×1080、1280×720、640×480 或 480×360。
2. 选择本地摄像头设备，单击**确定**并授权启用摄像头权限，即可发起本地摄像头推流。

![](https://qcloudimg.tencent-cloud.cn/raw/28edc848311fd85b1a3ac8b72054b972.png)
:::
::: 屏幕共享
支持屏幕共享，支持选择应用窗口或桌面。

1. 选择**屏幕共享**，调整视频分辨率为1920×1080、1280×720、640×480 或 480×360，单击**确定**即可发起本地屏幕共享推流。
![](https://qcloudimg.tencent-cloud.cn/raw/d0daf30d190d2393fbd2ed84d4dbc840.png)
2. 在弹框中选中您需分享的屏幕界面，单击**分享**即可。
![](https://qcloudimg.tencent-cloud.cn/raw/aad3d70b61a241447b31f8da50f8e724.png)
:::
</dx-tabs>


>? 摄像头推流和屏幕共享输入源属于本地推流，一旦刷新或关闭云导播窗口就会停止推流。单击已添加成功的输入源即可推送到预监（PVW）。正在预监（PVW）使用的输入源显示绿色框，正在主监（PGM）使用的输入源显示红色框。
- 如果您需要修改输入源，您可以单击对应输入源右下方的![](https://qcloudimg.tencent-cloud.cn/raw/73bd59f723642bf76d804bbe7ef4048d.png)按钮进行操作。
- 如果您需要删除输入源，您可以单击输入源右上方的![](https://qcloudimg.tencent-cloud.cn/raw/aaa67d004d810aa9a8d9300c5f2457bb.png)进行删除操作。
- 正在 PVW 或 PGM 使用的输入源不能被编辑或删除，请在输入源空闲时操作。

[](id:step3)
## 步骤3：设置输出地址和尺寸
[](id:outurl)
### 设置输出地址
开始直播前，请先设置转推地址或选择直播平台。

1. 单击右上方的设置按钮![img](https://main.qcloudimg.com/raw/91ad08d56539b3cc362083c9a01b9e99.png)，进入推流设置页。
2. 在**添加转推地址**栏中，选择输出流转推平台，填写转推地址以及延时播放时长即可。
>? 支持将输出流转推到视频号、微视、快手等第三方平台，也支持自定义添加输出流以 RTMP 协议推送至其他厂家。
>- 推流地址需满足如下格式：`rtmp://domain/app/stream?arg1=xxx`。
>- 若转推到 B 站，支持以下特殊推流域名地址：`txy.live-send.acg.tv``tx-delay.live-send.acg.tv`
>- 视频号及其他直播平台推流地址获取方式参见 [第三方直播平台推流地址获取方式]()。
>
![](https://qcloudimg.tencent-cloud.cn/raw/d41539b73cd020eb51600a06f906843e.png)

[](id:outsize)
### 设置输出尺寸
云导播台内置了适合于视频号直播的横屏、竖屏输出尺寸模板可以供您选择，也支持自定义输出尺寸，以满足 PC、移动端或特定直播平台的输出尺寸。

1. 单击右上角的![img](https://main.qcloudimg.com/raw/91ad08d56539b3cc362083c9a01b9e99.png)，选择**推流设置**进入配置页。
![](https://qcloudimg.tencent-cloud.cn/raw/ee8fc114643026c688dc914b7752566a.png)
2. 在设置视频输出尺寸中进行如下配置：
<table>
<tr><th width=15%>配置项</th><th>说明</th></tr>
<tr>
<td>推荐参数</td>
<td>可自行选择自定义尺寸、视频号、快手类型。</td>
</tr><tr>
<td>推荐比例</td>
<td>仅在<b>推荐参数</b>配置项中选择类型为视频号、快手后出现。可选择推荐比例类型为<b>横屏视频</b>或<b>竖屏视频</b>，系统会自动填入对应的视频宽、视频高、帧率、码率推荐值。</td>
</tr><tr>
<td>视频宽</td>
<td>取值范围：小于等于1920。 如果您需要自定义宽高，则宽高都是必填项。</td>
</tr><tr>
<td>视频高</td>
<td>取值范围：小于等于1920。 如果您需要自定义宽高，则宽高都是必填项。</td>
</tr><tr>
<td>帧率</td>
<td>取值范围：小于等于60。</td>
</tr><tr>
<td>码率</td>
<td>取值范围：小于等于10000。</td>
</tr>
</table>

>?当输出为单画面时，以上参数不填或者填0，将会按照原始流的尺寸输出；当输出为多画面时，以上参数不填或者填0，将按照720p输出。

[](id:step4)
## 步骤4：画中画布局（混流）
1. 在功能区的布局组件区中单击**添加布局**，进入布局新增页。
2. 选择布局模板，支持**布局模板**（5种）和**自定义布局**。
<dx-tabs>
::: 布局模板
目前云导播内置了5种模板，选定一种模板后，在右侧选择想要放进 A 画面的输入源，单击**确定**即可创建一个布局。
![](https://qcloudimg.tencent-cloud.cn/raw/6c8d502d84bb21789b1fce76366493fa.png)
:::
::: 自定义布局
最多可以添加四路输入源，支持排列叠放次序、大小变换、拖动位置配置，可在预览框中实时预览效果。
1. 单击**自定义布局**，在右侧单击**添加**增加输入源模块，选择对应的输入源。
2. 在预览框中按住鼠标拖动输入源，对相应的输入源大小和位置进行调整。
	- 可单击**前面**或**后面**调整各输入源叠放次序。
	- 可单击![](https://main.qcloudimg.com/raw/c36f212774fe93c1939213b52cb23027.png)，可删除当前输入源。	
3. 单击**确定**即可创建一个布局。
![](https://main.qcloudimg.com/raw/823535bd8f553d80c368d7ab3fd1990a.png)
:::
</dx-tabs>
3. 创建成功后，您可在布局组件区中看到已添加成功的布局。
4. 单击已添加成功的布局即可推送到预监。
![](https://main.qcloudimg.com/raw/3036f2c3a609d951d286b5ca434002e8.png)
>?
>- 一个布局中，一个输入源只能选择一次。
>- 正在 PVW 使用的布局显示绿色框，正在 PGM 使用的布局显示红色框。
>- 如果您需要修改布局模板，您可以单击相应的布局上右下方的![img](https://main.qcloudimg.com/raw/f3894a9549d790b21c4651b05c626f31.png)进行修改操作。
>- 如果您需要删除布局模板，您可以单击布局右上方的![img](https://main.qcloudimg.com/raw/84c4c8669560299f53b5b2dd9872bf12.png)进行删除操作。
>- 正在使用的布局不能被编辑或删除，请在布局空闲时操作。
>
5. 布局功能可以和设置输出尺寸功能结合使用，当输出尺寸为横屏尺寸时，布局画面和 PVW、PGM 会展示为横屏，当输出尺寸为竖屏尺寸时，布局画面和 PVW、PGM 会展示为竖屏。
<dx-tabs>
::: 横屏模式+模板布局
![img](https://main.qcloudimg.com/raw/c1671cae618c5ff8cf89830bc4dadf7c.png)
:::
::: 竖屏模式+模板布局
![img](https://main.qcloudimg.com/raw/52ae8e6ad558731437464f57127a9042.png)
:::
</dx-tabs>


[](id:step5)
## 步骤5：音频处理
- 支持调整输出流中，每个输入流的音量。当勾选音视频同步切换时，PVW 播放的视频和音频相同。
<dx-alert infotype="explain" title="示例：">
当前 PVW 正在播放1号视频源，则正在播放的音频也是1号音频，若当前 PVW 播放的视频为1号和2号的混流，则正在播放的音频也是1号和3号视频源的混音。
</dx-alert>
- 取消勾选音视频同步切换选项后，可以将音频和视频分离。
	<dx-alert infotype="explain" title="示例：">
	若当前播放的为1号视频源，可以选择播放3号视频源的音频，若当前播放的是1号和2号视频源的混流，可以选择仅播放1号视频源的声音。
	</dx-alert>

	![](https://main.qcloudimg.com/raw/7b7b224a51b1ccaa7a077a564aa506fb.png)

[](id:step6)
## 步骤6：添加组件
[](id:watermark)
### 添加水印
导播台支持叠加多个水印。若您需在导播画面中添加水印，具体操作步骤如下：
1. 选择水印标签，单击**添加**进入新增水印页。
2. 单击**上传图片**，上传您的水印图片。水印图片大小限制为2M，宽高不超过1024px，可上传类型为 PNG 或 GIF 格式，支持动态水印。
3. 通过在编辑画面中拖动水印图片，或单击**开启精确像素调整**，输入精确像素值两种方式对水印图片的位置和尺寸进行调整。
 ![](https://main.qcloudimg.com/raw/6de46e16e54d4b0179af29c363211915.png)
>? 若您需使用精确像素调整功能，需要先开启预监（PVW）。
>
4. 编辑完成后，单击**确定**保存水印模板。
5. 选择需要开启的水印模板的 **PVW 窗口**开关，即可在 PVW 上显示水印。
 ![](https://main.qcloudimg.com/raw/2fd55b957fe9ccff1b6abca009187817.png)

[](id:txt)
### 添加文本
导播台支持多文本叠加，也支持文本和水印叠加。若您需在导播画面中添加文本，具体操作如下：
1. 选择文本标签，单击**添加**进入新增文本页。
2. 在下方输入您需要的文本，支持调节字体字号、颜色，支持拖动调整文本位置，支持**固定显示**或**循环滚动**。
 ![](https://main.qcloudimg.com/raw/b507cac9eb8eb113b9b7a27dcbfe0453.png)
3. 编辑完成后，单击**确定**保存文本模板。
4. 单击需开启的文本模板的**PVW 窗口**开关，即可在 PVW 上显示文本。
 ![](https://main.qcloudimg.com/raw/f76b74b2ea488a0b110a5164572f2499.png)

[](id:trans)
### 添加转场
云导播提供了多种转场效果，单击任意转场模板即可使用，选择后，转场效果将会在下一次切换视频源时出现。
![](https://main.qcloudimg.com/raw/a03568dcd822d57e90a92dd4c8505dcb.png)

[](id:step7)
## 步骤7：开始直播
[](id:pvw)
### 启动预监
预监是指在直播出去之前，预观看直播画面，以检查直播画面是否准备就绪，符合播出标准。在云导播中，任何直播画面都需要先经过预监后才能到达主监（PGM）开始直播。
![](https://main.qcloudimg.com/raw/70e0b59962ba6af85f1b118b6453e047.png)

>!预监使用的输入源出现绿色框预监状态提示。使用中的输入源无法删除。如果您需要删除该输入源，需要关闭 PVW 和 PGM 后删除。

[](id:pgm)
### 启动主监
如果预监效果满足您的要求，您可以单击**推送到直播**即将画面推送到主监（开始直播），主监画面跟视频号直播画面是一致的。

>!正在 PGM 直播的输入源将出现红色框的 PGM 主监状态提示。

![](https://main.qcloudimg.com/raw/9adcbc50fc650518a893b5535c0a984f.png)

[](id:step8)
## 步骤8：直播录制
1. 单击主监（PGM）的**开始录制**，进入录制配置页。
2. 填写录制文件名称，选择录制存储目录位置，单击**确定**即可开始录制，录制文件会存储在个人网盘中。
   ![](https://main.qcloudimg.com/raw/102b51001356e0b774a6a0cfeeab3132.png)
3. 录制完成后，单击**录制中**停止录制。
   ![](https://main.qcloudimg.com/raw/12a1c3f63584ae0931e261733256d692.png)

[](id:step9)
## 步骤9：停止直播
[](id:close)
### 关闭主监（PGM）和预监（PVW）
输入源断流，导播台不会主动停止直播。若您要停止直播，必须手动关闭 PGM 和 PVW。关闭后，导播台就会停止输出、停止计费。计费方式请参见 [购买指南](https://cloud.tencent.com/document/product/1156/64101)。
![](https://qcloudimg.tencent-cloud.cn/raw/b26063870e08035f5aa90e59e2adae88.png)
也可以在列表页选中对应导播台并停止运行，停止运行后，云导播将停止预监、主监、录制和转推，但是将会保留所有的云导播台配置，包括输入配置、布局配置、输出及转推配置等。
1. 在云导播台列表选择您需停止运行的导播台，单击其状态栏的**停止运行**。
2. 弹窗提醒是否停止运行导播台，单击**确定**即完成停止运行操作。
 ![](https://main.qcloudimg.com/raw/5dc6418a844fe146137cdd3158fae1b7.png)
4. 停止运行后，导播台**运行状态**将由“运行中”变为“空闲中”。导播台预监（PVW）、直播流（PGM）、转推出去的流以及正在录制的任务都会停止。

[](id:delete)
### 删除导播台
如果您不希望保留某个指定的导播台，可将其进行删除。删除导播台后，该导播台所有的配置都将被删除，预监、输出、录制及转推也将结束。
1. 在云导播台列表选择您需删除的导播台，单击**删除**。
2. 在弹出框中单击**确定**，即可成功删除导播台，在实例管理区页面将不能看到该导播台。
![](https://main.qcloudimg.com/raw/d3d087d278f692db9e98a089fc5d08ae.png)        

## 总结
学习完本教程后，您已经全面地了解了如何使用云导播的进阶功能。直播结束后，您也可以再次进入导播台编辑下一场直播。

## 相关文档
除此之外，我们也为您提供了更多的直播工具，如您希望：
- 更加轻量的直播转推功能，请参见 [使用直播转推实现多平台同步直播](https://cloud.tencent.com/document/product/1156/64165)。
- 无人直播场景，请参见 [使用点播转直播实现无人直播](https://cloud.tencent.com/document/product/1156/64166)。
- 直播录制及回放，请参见 [使用直播回放录制并重播](https://cloud.tencent.com/document/product/1156/64155)。
