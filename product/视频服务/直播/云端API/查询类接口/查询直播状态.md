### 1.接口描述
- **接口**
**Live_Channel_GetStatus**：用于查询某条流是否处于正在直播的状态。

- **地址**
API 调用地址为：`http://fcgi.video.qcloud.com/common_access`。
- **用途**
用于查询某条流是否处于正在直播的状态，其内部原理是基于腾讯云对音视频流的中断检测而实现的，因此实时性上可能不如 App 的主动上报这么快速和准确，但在进行直播流定时清理检查的时候可以作为一种不错的补充手段。
- **说明**
如果要查询的推流直播码从来没有推过流，会返回 20601 错误码。

### 2.输入参数

| 参数名 | 参数含义 | 类型 | 备注 | 是否必需 |
|---------|---------|---------|---------|---------|
| appid                      | 客户 ID     | int       | 即直播 appid，用于区分不同客户的身份 |  Y          | 
| interface                 | 接口名称   | string |Live_Channel_GetStatus  |  Y          | 
| t | [有效时间](https://cloud.tencent.com/document/product/454/7920#api-.E8.B0.83.E7.94.A8) | int  | UNIX 时间戳 |  Y | 
| sign | [安全签名](https://cloud.tencent.com/document/product/454/7920#api-.E8.B0.83.E7.94.A8) | string | MD5(key+t) | Y | 
| Param.s.channel_id | 直播码      | string | 一次只能查询一条直播流      | Y           |
>! 有些早期提供的 API 中直播码参数被定义为 channel_id，新的 API 则称直播码为 stream_id，仅历史原因而已。

### 3.输出结果
| 参数名 | 参数含义 | 类型 | 备注            |
|---------|---------|---------|------------------|
| ret      | 返回码 |   int  |  0：成功；其他值：失败|
| retcode       |  返回码   |  int   |   同 ret    |
| message | 错误信息 |   string  |  错误信息 |
| errmsg   |  错误信息|  string | 同 message |
| output | 消息内容 |   array  |  详情见下|

output 的主要内容为：

| 字段名 | 含义 | 类型 | 备注            |
|---------|---------|---------|------------------|
| rate_type      | 码率 |   int  |  0：原始码率；10：普清；20：高清|
| recv_type      | 播放协议 |   int  |  1：rtmp/flv；2：hls；3：rtmp/flv+hls|
| status            | 状态 |   int  |  0：无输入；1：直播中；3：禁用|
|  width    |  原始视频宽度   | int  | 单位：像素  |
|  height    | 原始视频高度   | int  | 单位：像素  |

 
### 4.调用示例

目标：查询直播码为 8888_test123 的直播流的当前状态是否是【正在直播中】。

| 组成部分 |   示例内容           |
|-------------|------------------|
|接口 URL| `http://fcgi.video.qcloud.com/common_access?`|
|appid      | 1234 |
|interface       | Live_Channel_GetStatus |
|Param.s.channel_id | 8888_test123 |
|t |1471850187 |
|sign | b17971b51ba0fe5916ddcd96692e9fb3 |

```
// copy时请去掉美化排版用的不可见换行符，否则可能出现 “appid is invalid” 等url拼装错误
 URL = http://fcgi.video.qcloud.com/common_access?
			appid=1234&interface=Live_Channel_GetStatus
			&Param.s.channel_id=8888_test123
			&t=1471850187&sign=b17971b51ba0fe5916ddcd96692e9fb3
```
     





