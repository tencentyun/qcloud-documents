腾讯云直播控制台提供拉流转推工具，若您直播源无推流能力或点播视频内容需通过直播形式分发，拉流转推服务提供内容拉取并推送的功能，无需进行直播推流，即可快速拉取已有的视频/直播，推送到目标地址上。
![](https://main.qcloudimg.com/raw/f6de61ffe6b43e5342cd0b4936036eaa.svg)

## 前提条件
- 已开通 [腾讯云直播服务](https://cloud.tencent.com/product/css)，并登录云直播控制台。
- 已添加 [推拉流域名](https://cloud.tencent.com/document/product/267/20381)。

## 注意事项
- 最多支持创建**20个**拉流转推任务。
- 使用拉流转推服务会产生**拉流转推任务时长账单**，详细费用请参见 [拉流转推计费说明](https://cloud.tencent.com/document/product/267/53308)。
- 拉流转推功能仅提供内容拉取与推送服务，**请确保内容已获得授权并符合内容传播相关的法律法规。若因版权问题或内容违规，云直播会停止相关的功能服务并保留追究法律责任的权利**。

[](id:create)
## 创建任务
1. 选择 **直播工具箱** > **[拉流转推](https://console.cloud.tencent.com/live/tools/relay)**。单击 **创建任务**，进入拉流转推任务创建页面。
![](https://main.qcloudimg.com/raw/192994e09ae8fd0c84ccef009f6c404f.png)
2. 填写配置任务基本信息，进行如下配置：
![](https://main.qcloudimg.com/raw/0d166562b4d7b0dcdbdc03d70aff6e6b.png)
<table>
<tr><th width="15%">配置项</th><th>配置说明</th></tr>
<tr>
<td>任务备注</td>
<td>自定义任务备注信息。</td>
</tr><tr>
<td>任务时间</td>
<td>默认为 <code>当前时刻</code> 至 <code>当前时刻 + 24小时</code>，可选任务时间为当前时间一年内任意时间至时间跨度不超过7天。<br>假设当前时间2021年03月30日11:50:01，则：<ul style="margin:0"><li/>可选择时间为2022年03月24日11:50:01至2022年03月30日11:50:01。<li/>结束时间不可超过2022年03月30日11:50:01。</ul></td>
</tr><tr>
<td>地域</td>
<td><ul style="margin:0"><li/>任务执行地域可选择：华北地区（北京）、华东地区（上海）、华南地区（广州）、亚太东南（新加坡）、亚太东南（泰国）、亚太东北（韩国）、亚太南部（印度）。<li/><b>若选择境内随机地域，系统会自动分配就近地域。</b></ul></td>
</tr><tr>
<td>事件回调通知</td>
<td>填写用于接收拉流转推任务事件的回调地址。</td>
</tr></table>
3. 选择内容来源类型，可选择**直播**或**点播视频**类型，具体配置如下：
   - 内容类型为**直播**，需填写直播来源地址（限填**1个**内容来源地址）。
   ![](https://main.qcloudimg.com/raw/2b3ca982581457e36e6d485363fd6028.png)
   - 内容类型为**点播视频**：
      - **可输入多条**内容来源地址，上限30个。
      - 可设置播放循环次数，可选**无限循环**或**指定循环次数**。选择指定次数最少为1次，最高100次。
      ![](https://main.qcloudimg.com/raw/d050d37b821aa6ebcac3de2a868c81f8.png)
>? 
>- 当任务达到所设循环次数或者任务结束时间任一条件后，系统会停止拉流转推任务。
>- 若您需修改任务信息：
         - 变更循环次数，更新后按新的循环次数播放，当前有播放任务的记为1次。
         - 变更点播来源地址和循环次数，不论选择立即更新还是播完更新，当前播放任务不计为循环次数，按照新的循环次数播放。
         - 变更目标地址，循环次数重置。
4. 填写接收内容的目标地址。
   1. 单击目标地址输入栏下方的 **地址生成器**，进入生成器配置页。
   ![](https://main.qcloudimg.com/raw/9217ecb6839744654c7ff6db8e3df0d3.png)
   2. 选择已有的推流域名，填写 Appname、StreamName 和过期时间。单击 **确定** 生成推流地址，该地址自动填写到目标地址栏中。
   ![](https://main.qcloudimg.com/raw/332c5a44df1d5ff46f86c0e9a7a8ea63.png)
    > !地址过期时间应大于任务结束时间，若任务已开始后更新目标推流地址，会导致任务中断重推。
5. 填写完成后，单击 **保存** 完成创建。


## 管理任务
[](id:view)
### 查看任务详情
在 [任务列表](https://console.cloud.tencent.com/live/tools/relay) 中，选择您需查看的拉流转推任务，单击对应的 `任务备注/ID`，右侧弹窗将展示该任务详情信息。
![](https://main.qcloudimg.com/raw/0c0d0531e56b16a236440fe0776d5a37.png)
>?您可在任务详情信息下方单击 **编辑** 或 **禁用**，对该任务进行 [修改](#change) 和 [禁用](#disable) 操作。

[](id:change)
### 修改任务
1. 在 [任务列表](https://console.cloud.tencent.com/live/tools/relay) 中，选择您已创建成功的拉流转推任务，并单击右侧操作栏的 **编辑**，进入修改拉流转推任务。
![](https://main.qcloudimg.com/raw/f172a1e547aac1fd73ee4383a018109b.png)
2. 根据您的实际需求修改任务信息，单击 **保存**。
> !
> - 地域及内容类型不支持修改。
> - 修改任务结束时间，需确保目标地址有效期在任务结束前有效。修改目标地址会导致任务中断重新发起。
> 
![](https://main.qcloudimg.com/raw/26d36fc23562b687d22dc94dbf2c71e5.png)
3.  在弹出的修改任务确认页中，查看修改前后的对比信息：
  - 当变更内容包括**任务备注、任务时间、事件回调通知**或**播放次数**时，对比信息显示如下示例：
![](https://main.qcloudimg.com/raw/e3884170153b6482fc14b882ae9b5a74.png)
  - 当变更内容包括**点播内容**时，将提示您变更前的来源为点播内容，可选择此次修改的更新方式为 **当前播放视频结束后更新**/**立即更新**；若不选择，默认为 **当前播放视频结束后更新**。更新后会按照新的顺序重头开始进行拉流转推。
![](https://main.qcloudimg.com/raw/1ceca6602a70abb24b7f69fbfbf39233.png)
   - 当变更内容包括**目标地址**时，将提示您变更修改目标地址，确认修改后当前拉流转推任务会被**中断后重新启动**。
![](https://main.qcloudimg.com/raw/3f252444ee99cb85dc5627a658196a04.png)
4. 核实信息无误后，单击 **确定** 即可成功修改任务内容。

[](id:copy)
### 复制任务
1. 在 [任务列表](https://console.cloud.tencent.com/live/tools/relay) 中，选择您想复制的拉流转推任务，单击右侧操作栏的 **复制**，进入创建拉流转推任务界面。
![](https://main.qcloudimg.com/raw/404679520530b20f5747bf690c733255.png)
2. 当前选中的任务信息填充至新增创建任务页面中，您可在复制的原任务信息上进行 [修改](#create)。
3. 单击 **保存** 即可创建新的拉流转推任务。



[](id:reboot)
### 重启任务
重启任务后，任务**状态不会改变**，执行中的任务将会**重头开始执行**。若您需重启任务，具体操作如下：

1. 在 [任务列表](https://console.cloud.tencent.com/live/tools/relay) 中，选择您想重启的拉流转推任务，单击右侧操作栏的 **重启**。
2. 确认是否要重启当前拉流转推任务，单击 **重启** 即可。
![](https://main.qcloudimg.com/raw/cfd3357df62a14fb628403b3f0149ce9.png)

[](id:disable)
### 禁用任务
禁用任务后，**任务会直接停止**，需要 [启用](#enable) 才能重新开始执行任务。若您需禁用任务，具体操作如下：

1. 在 [任务列表](https://console.cloud.tencent.com/live/tools/relay) 中，选择您想禁用的拉流转推任务，单击右侧操作栏的 **禁用**。
2. 确认是否要禁用当前拉流转推任务，单击 **禁用** 即可。
![](https://main.qcloudimg.com/raw/f4d68a5a27f958723227d36c39fda20b.png)


[](id:enable)
### 启用任务
启用任务后，**任务将会重新重头开始执行**。若您需启用任务，具体操作如下：

1. 在 [任务列表](https://console.cloud.tencent.com/live/tools/relay) 中，选择您想启用的已被禁用拉流转推任务，单击右侧操作栏的 **启用**。
2. 确认是否要启用当前拉流转推任务，单击 **确定** 即可。
![](https://main.qcloudimg.com/raw/2db6188689cce4b8ac524877988b28b5.png)

[](id:delete)
### 删除任务
删除任务**不支持找回**，若您需删除任务，具体操作如下：

1. 在 [任务列表](https://console.cloud.tencent.com/live/tools/relay) 中，选择您想删除的拉流转推任务，单击右侧操作栏的 **删除**。
2. 确认是否要删除当前拉流转推任务，单击 **删除** 即可。
![](https://main.qcloudimg.com/raw/7428ba2c79d4fda180ce7a0e5d887d38.png)

[](id:batch)
### 批量操作
拉流转推支持批量删除、禁用、启用任务，批量处理支持**最多10个任务**。
1. 在 [任务列表](https://console.cloud.tencent.com/live/tools/relay) 中，勾选您想批量处理的拉流转推任务。
2. 选择您想批量处理的操作，可单击选择 **批量删除**、**批量禁用** 或 **批量启用**。
![](https://main.qcloudimg.com/raw/26e9449f4abe937679e6decc3d7895c9.png)
3. 确认是否要删除/禁用/启用当前拉流转推任务，在弹框中单击 **删除** / **禁用** / **启用** 即可完成批量处理。
![](https://main.qcloudimg.com/raw/8b30604e230cb0b8cd7d253d19daee5d.png)

   
