直播自适应码率功能，可实现在不同网络环境带宽下，平滑过渡切换码流，保障不同网络情况变化时的流畅播放体验。

## 注意事项
- 模板创建成功后，可与播放域名进行关联。关联成功后约5分钟 - 10分钟生效。
- 单个播放域名可关联**多个自适应码率模板**，单个自适应码率模板可关联**多个播放域名**。
- 一个自适应码率模板最多可创建15个子流。
- 需要播放器具备自适应码率功能，才能应用自适应码流。
- 每个子流信息中，GOP 值需要一致。
- 每个子流信息中，编码方式需要一致。



## 创建直播自适应码率模板
1. 登录 [云直播控制台](https://console.cloud.tencent.com/live/livestat)，进入**功能配置** > **直播自适应码率**。
2. 单击 **创建自适应码率模板**，进行如下配置：
  - 基础配置项：包含模板名称和模板描述，具体请参见 [基础配置说明](#C_trans_normal)。
  - 子流信息配置项：具体请参见 [子流信息配置说明](#C_trans_high)。
3. 单击添加子流可添加多个子流模板，最多可添加15个子流。
4. 填写完成后，单击 **保存** 即可。
![](https://qcloudimg.tencent-cloud.cn/raw/844beca297d7a2beb0204f970187e75d.png)
<table id="C_trans_normal">
<tr><th width="20%">基础配置项</th><th>是否必填</th><th>说明</th></tr>
<tr>
<td>模板名称</td>
<td>是</td>
<td>自适应码率模板名称，支持1-10个字符，仅支持字母、字母数字组合，不支持纯数字。</td>
</tr><tr>
<td>模板描述</td>
<td>否</td>
<td>直播自适应码率模板描述，仅支持中文、英文、数字、_、-。</td>
</tr></table>
<table id="C_trans_high">
<tr><th width="20%">子流信息配置项 </th><th>是否必填</th><th>说明</th></tr>
<tr>
<td>模板名称</td>
<td>是</td>
<td>子流模板名称，支持1-10个字符，仅支持字母、字母数字组合，不支持纯数字。子流名称不能与已有转码模板名及子流名称重复。</td>
</tr><tr>
<td>推荐参数</td>
<td>否</td>
<td>支持<b>流畅、标清、高清</b>三种类型，选择后，系统会自动填入对应的推荐视频码率和视频高度，可自行修改。</td>
</tr><tr>
<td>视频码率</td>
<td>是</td>
<td>输出视频码率，取值范围：100Kbps - 8000Kbps。<ul style="margin:0">
  <li>1000Kbps以内仅支持整百填写。</li>
  <li>1000Kbps以上仅支持整500填写。</li></ul>
</td>
</tr><tr>
<td>画面分辨率</td>
<td>是</td>
<td>默认 <b>按宽高设置</b>。<ul style="margin:0">
	<li>输入值为高度值，可切换为 <b>按长短边设置</b>，输入值为短边值。
	<li>输入值范围为 2px - 3000px，数值填写需为2的倍数，另一边默认会按分辨率等比例缩放。
</ul></td>
</tr><tr>
<td>编码方式</td>
<td>否</td>
<td>默认原始编码，可选 H.264、H.265和AV1三种编码方式。子流信息中编码方式需要保持一致。</td>
</tr><tr>
<td>视频帧率</td>
<td>否</td>
<td>取值范围 0fps - 60fps，不填则使用系统默认值 0fps（代表输入源的帧率）。</td>
</tr><tr>
<td>关键帧间隔 GOP <br>（单位：s/秒）</td>
<td>否</td>
<td>GOP默认为空，设置范围2秒 - 6秒，GOP 越大、延时越高，子流信息中GOP值需要保持一致。</td>
</tr><tr>
<td>参数限制</td>
<td>否</td>
<td>默认关闭，可手动开启。<br>开启参数限制后，当输入的直播流原始参数小于设置的输出参数时，将按照原始参数输出直播流，可以防止低质量直播流被强行拉高参数值，影响实际画面。</td>
</tr></table>
<img src="https://qcloudimg.tencent-cloud.cn/raw/87d4ac244b5b7cf6401bf72d16aff331.png">


[](id:related)
## 关联域名
1. 登录云直播控制台，进入 **功能配置** > **直播自适应码率**
2. 通过以下方式进入域名绑定窗口：
  - **直接关联域名：**单击左上方的 **绑定域名**。
    ![](https://qcloudimg.tencent-cloud.cn/raw/5b82174bb9433d49025e1ddcffd03a07.png)
  - **创建自适应码率模板成功后关联域名**： [自适应码率模板创建](#create) 成功后，单击提醒框中的 **去绑定域名**。
    ![](https://main.qcloudimg.com/raw/35650d6e169d3a2f84fbf28970a85ddb.png)
3. 在域名绑定窗口中，选择您需绑定的**自适应码率模板**及**播放域名**，单击 **确定**即可绑定成功。
![](https://qcloudimg.tencent-cloud.cn/raw/83f7451dc3c9838e08b28b4d6c58685a.png)
>?支持通过单击 **添加**为当前模板绑定多个播放域名。


[](id:untie)
## 解除绑定
1. 登录云直播控制台，进入 **功能配置** > **自适应码率模板**
2. 选择已关联域名的转码模板，单击 **解绑**。
![](https://qcloudimg.tencent-cloud.cn/raw/168a56ac863bde6d2a6e89b3d12defe2.png)
3. 确认是否解绑当前关联域名，单击 **确定**即可解绑。
![](https://main.qcloudimg.com/raw/348b1ef6a3339bab508adff6d9a42b2e.png)


[](id:modify)
## 修改模板
1. 登录云直播控制台，进入 **功能配置** >  **自适应码率模板**。
2. 选择您已创建成功的自适应码率模板，并单击右侧的 **编辑**，进入修改模板信息。
3. 单击 **保存**即可。

![](https://qcloudimg.tencent-cloud.cn/raw/9736ddcbd646811802bd18c0449aa2dd.png)


[](id:delect)
## 删除模板
>!   若模板已被关联，需要先 [解除绑定](#untie)，才可以进行删除操作。 

1. 登录云直播控制台，进入 **功能配置** >   **自适应码率模板**。
2. 选择未关联播放域名的转码模板，单击 **删除**。
![](https://qcloudimg.tencent-cloud.cn/raw/64e541a562114a99d9c6c55522445ad2.png)
3. 确认是否删除当前转码模板，单击 **确定**即可成功删除。
![](https://qcloudimg.tencent-cloud.cn/raw/ce45e87ca550c5a2f9396065a35d4e36.png)



