云直播控制台内提供了云导播系统，本文将指导您在申请开通云导播功能后，如何使用导播台实现在线导播功能。
>! 云导播台已于2020年05月01日0时起结束内测，正式计费，详见 [云导播计费说明](https://cloud.tencent.com/document/product/267/42167)。

## 使用限制
- 每个账号可创建**3**个导播台实例，删除导播台实例后即可重新添加。若您需要多个导播台，请 [提交工单](https://console.cloud.tencent.com/workorder/category) 申请。
- 点播输入播放列表，最多支持5个点播文件。
- 转推第三方，最多支持转推3路其他厂家。


## 准备工作
1. 云导播台属于腾讯云直播的一部分，请提前 [开通云直播服务](https://console.cloud.tencent.com/live?from=product-banner-use-lvb)。
2. 选择【云直播控制台】>[【导播台】](https://console.cloud.tencent.com/live/productionstudios/stat)，进入导播台开通申请页。勾选同意[《腾讯云服务协议》](https://cloud.tencent.com/document/product/301/1967)，单击【立即申请】即可进入[ 腾讯云导播台方案开通申请页](https://cloud.tencent.com/apply/p/pa3845q537)，填写申请信息，单击【提交申请】。

## 操作步骤
<span id="step1"></span>
### 步骤1：添加输入源
1. 登录[【云直播控制台】>【导播台】](https://console.cloud.tencent.com/live/productionstudios/stat)，查看导播台列表。
2. 您可通过单击【导播台 ID】或右侧的【详情】进入导播台功能区，单击视频源区域的【添加视频】，进入视频添加页。
4. 在视频添加页中选择视频类型，填写 URL 地址。您可添加以下四种视频类型：
	- **推流视频**：选择视频类型为**推流 URL**，填写推流 URL 地址，将视频流以 RTMP 协议推到推流地址中。
	- **点播视频**：选择视频类型为**点播 URL**，填写点播文件的 URL 地址。点播文件 URL支持多个，请用分号（；）分隔，控制台将自动以列表方式循环播放列表内的文件。
	- **直播视频**：选择视频类型为**直播 URL**，填写正在直播的 URL 地址。
	- **图片**：选择视频类型为**图片 URL**，填写图片 URL 地址。
4. 单击【确定】视频添加成功后，系统将自动播放。
>! 
>- 请保证填入的点播/直播 URL 地址可以正常访问。如果不能正常访问，该输入将无法播放。
>- 如果输入源中间断流，输出信号会显示黑色画面。

![](https://main.qcloudimg.com/raw/832f23fe82810070ee5ab3b75ea235e6.png)

>?
>- 如果您需要**修改输入源**，您可通过单击输入源下方的![](https://main.qcloudimg.com/raw/e6ed5f851b6c39c5b027c0e4eb50c8e4.png)，进入输入源编辑页，填写您所需修改的信息，单击【确定】即可保存修改后的输入源信息。修改成功后，您需单击视频源左下角的![](https://main.qcloudimg.com/raw/f773af28720d25a5687581956f1403c4.png)，刷新成功后即可看到您已修改后的输入源画面。
>- 如果您需要**删除输入源**，您可通过单击输入源上方的![](https://main.qcloudimg.com/raw/be465e6fcfb15762b358d7337859495f.png)，会弹框提醒您是否删除输入源，单击【确定】即可删除。
>- 修改或删除输入源时，该输入源不能预监或主监布局所使用。

<span id="step2"></span>
### 步骤2：配置布局
1. 在功能区的布局组建区中单击![](https://main.qcloudimg.com/raw/f27446877a0041f094242b9f3a567842.png)，进入布局新增页。
2. 选择您所需要的布局模板，并选择对应输入源，单击【确定】即可创建一个布局。
3. 创建成功后，您可在布局组件区中看到已添加成功的布局。

![](https://main.qcloudimg.com/raw/f87fce357a5d3c8d28c67436a9593014.png)
>!
>- 目前云导播内置了从1输入到4输入的6种模板，请根据需要选择合适的模板。
>- 设置布局时不能被预监或输出使用，即布局上不能有**黄色或橙色**的点。
>- 如果您需要修改布局模板，您可以单击相应的布局上右下方的![](https://main.qcloudimg.com/raw/1fc0bdfda422f3ad5ec648676b9262fb.png)进行修改操作。
>- 如果您需要删除布局模板，您可以单击布局右上方的![](https://main.qcloudimg.com/raw/ca457752704dfa78b93245850c815eec.png)进行删除操作。



<span id="step3"></span>
### 步骤3：启动预监
在布局组件区单击您已添加的布局模板，并在预监区的左下方单击【预监(PVW)】右侧的滑动控件，即可看到预监输出情况，即启动预监成功。
![](https://main.qcloudimg.com/raw/596f9ec42bf81f2f85ba3230860e3644.png)
>!预监使用的布局出现黄点状的预监状态提示。如果您需要删除该布局，请到实例管理区进行【释放】操作。


<span id="step4"></span>
### 步骤4：启动输出
如果预监效果满足您的要求，您可以单击【推送到直播】启动输出。启动输出后，您可以在主监区看到推送的画面。
>! 输出使用的布局上将出现![](https://main.qcloudimg.com/raw/445fa023ac44f011fd56f301493fa022.png)的主监状态提示。

![启动输出效果](https://main.qcloudimg.com/raw/d99672fddfb27452c3f651f06d8f6852.jpg)


<span id="step5"></span>
### 步骤5：获取输出播放 URL
在执行完推送到直播的操作后，如果您需要获取输出播放 URL，您可单击右上角的【详情】进入查看导播信息，并获取到输出的 CDN 播放地址。
![](https://main.qcloudimg.com/raw/106334cc5c9640d61d05e922ba925bf0.png)

>!
- 请确认您的播放 [域名 CNAME](https://cloud.tencent.com/document/product/267/19908) 已经成功。
- 如果您未配置直播播放域名，该区域将显示为空，您将无法从腾讯云 CDN 播放该流。
- 如果您有多个域名，导播系统将随机选取一个域名计算播放链接进行展示。如果该域名不符合您的需要，请到直播系统自行生成播放链接。


<span id="step6"></span>
### 步骤6：录制
1. 单击右上角的![](https://main.qcloudimg.com/raw/481f45a195923bb97ba5ff05021168ec.png)，进入录制配置页。
2. 选择您已配置好的录制模板，单击【确定】即可开始录制。
2. 录制完成后，单击【停止录制】，录制系统将录制好的文件传送到云点播系统中，请在云点播中查看录制文件。
3. 单击右上角的【详情】，进入查看导播信息，并获取您的录制文件前缀。

![录制前缀](https://main.qcloudimg.com/raw/7af73c0ef5ea9539c7ccc719676b1dec.png)

>?您可在[【云点播】](https://console.cloud.tencent.com/vod)>【媒资管理】中输入您的录制文件前缀查询录制视频。
![](https://main.qcloudimg.com/raw/3816296e1632aabd36682f3a93dadcf3.png)


<span id="step7"></span>
### 步骤7：转推
如果您需要将直播流推送到第三方云商，请先配置转推。
1. 单击预监区左上方的![](https://main.qcloudimg.com/raw/aa2832610fec8266007e592b4d056f42.png)图表，进入推流设置页。
2. 填写【腾讯云直播流名称】，单击【新增输出】填写配置您的第三方转推地址。
3. 单击【确定】即可配置完成。

![转推配置](https://main.qcloudimg.com/raw/910e7ecab22e5d372155cce7b05b6c9e.png)
>!
>- 三方转推，只支持 RTMP 协议转推。
>- 若使用第三方转推，必须使用腾讯云直播。


<span id="step8"></span>
### 步骤8：监测输出流质量
导播台的流输出后，如果您需要查看推流的情况，可在输出质量监控区查看推流的帧率曲线。
![](https://main.qcloudimg.com/raw/d6364a4e0b3b58a9f8840a26b7661af3.png)






