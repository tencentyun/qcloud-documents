### 实时音视频价格？
__套餐价格__ 
![图片描述](//bot1024-1253841380.file.myqcloud.com/da46ea5264a811e88579525400cda003.png)

- 首次开通 Web 端服务需购买预付费套餐包，套餐包使用完当月若未及时续费，超出部分按照标准后付费价收费；单纯只需要 SDK 端功能也可选择后付费月结方式。
- 后付费月结方式收费标准：25 元/1000 分钟通话时长，1500 元/月的月功能费。
- 通话分钟数按与会者叠加计算，如 3 人一起通话 50 分钟，则扣减套餐剩余时间 150 分钟。
- 套餐有效期计算不包含购买当月剩余日期，例如在 3 月 15 日购买入门级套餐包，实际到期日期为 4 月 30 日。
- 以上套餐价格涵盖范围为视频分辨率小于等于 720P 的场景，高于 720P 的需求需单独联系产品评估报价：QQ 812930257

### 实时音视频产品介绍？
腾讯实时音视频（TRTC）是腾讯云基于 QQ 十多年来在音视频通话技术上积累，结合腾讯浏览服务 TBS WebRTC 能力与腾讯实时音视频 SDK ，为客户提供多平台互通高品质可定制实时视频通话服务的一款产品，无论手机 QQ/微信小程序/公众号/QQ 浏览器还是其它所有接入了 TBS 的 App（20000+） 中，在无需音视频技术基础的情况下，都可以通过本方案从零开始即刻搭建出音视频通信平台。
 __产品能力__ 

- 100 ms 的超低延迟，1080P 的高清分辨率，自适应网络切换；
- Android、iOS、PC、MAC、Linux、H5、小程序、PSTN 全平台互通；
- IM、白板、直播、录制、点播、短视频无缝集成；
- 最高支持50路视频实时互动，多种混流方式自由选择；

### 如何开通实时音视频？
腾讯云实时音视频目前暂未全面开放，需要您通过提交白名单申请，才能开通使用实时音视频服务。开通流程主要有以下四个步骤：
![图片描述](//bot1024-1253841380.file.myqcloud.com/42a727a0790e11e8a062525400cda003.png)

 __步骤一：注册腾讯云账号__ 

注册腾讯云帐号并完成相关认证资料的提交，支持邮箱、微信、QQ多种方式注册登录，详细的注册流程您可以参考  [注册腾讯云](https://cloud.tencent.com/document/product/378/9603)  文档。
 _建议您不要使用个人 QQ 号，而是使用公司公共 QQ 号，避免后续出现交接问题；_ 

 __步骤二：创建应用__ 

打开腾讯云官网，并用您的腾讯云账号密码登录  [实时音视频控制台](https://console.cloud.tencent.com/rav) 。

- 如果您没有通过开发者资质审核，需先进行实名认证操作，详细的操作指引参考 实名认证指引 文档；
- 如果您已经实名认证通过，可以直接进行下一步操作。

首次进入实时音视频控制台，会出现一个提示，提醒您需要创建一个新应用，如下图：
![图片描述](//bot1024-1253841380.file.myqcloud.com/95c5c46e790e11e8a062525400cda003.png)

单击【开始创建应用】，在弹框中填写基本信息，单击【确定】。
![图片描述](//bot1024-1253841380.file.myqcloud.com/a3c6d6ca790e11e8b21e525400cda003.png)

创建应用完成后，即可获得 SDKAppid。
![图片描述](//bot1024-1253841380.file.myqcloud.com/adce486a790e11e88c875254000ab150.png)

 __第三步：购买预付费套餐包__

您可以在腾讯云  [实时音视频介绍页](https://cloud.tencent.com/product/trtc)  单击【购买套餐】按钮进入套餐选购页面进行选购。或者直接单击  [实时音视频预付费](https://buy.cloud.tencent.com/rav_th5)  进入套餐选购页面。关于套餐包详细价格说明您可以参考  [套餐价格](https://cloud.tencent.com/document/product/647/17157)  文档。
![图片描述](//bot1024-1253841380.file.myqcloud.com/e9ec68ea790e11e881105254000ab150.png)

选择适合您业务的套餐，单击【立即购买】并根据页面提示，完成付款操作即可购买成功。
![图片描述](//bot1024-1253841380.file.myqcloud.com/f9fdc62a790e11e8a062525400cda003.png)

 __第四步：申请开通白名单__ 
腾讯云实时音视频目前暂未全面开放，需要您通过提交白名单申请，您可以直接联系实时音视频产品经理，提供如下套餐包购买记录截图，即可申请开通白名单及协助业务接入测试。
![图片描述](//bot1024-1253841380.file.myqcloud.com/0fe8c462790f11e880405254000ab150.png)

联系方式

姓名：王奇/henkwang
邮箱：henkwang@tencent.com
QQ：812930257



### 如何查看实时音视频控制台概览？
登录  [腾讯云控制台](https://console.cloud.tencent.com/) ，选择【云产品】>【视频服务】>【实时音视频】进入实时音视频管理界面。您可以创建、查看、删除实时音视频应用。
![图片描述](//bot1024-1253841380.file.myqcloud.com/36ee6242791411e891bf5254000ab150.png)

 __通话趋势和套餐包__ 
在应用列表页，单击应用进入应用管理页，【概览】页可以查看近七日趋势（通话时长，通话次数，最高通话人数）和套餐包情况。

![图片描述](//bot1024-1253841380.file.myqcloud.com/51cb0944791411e891bf5254000ab150.png)

 __应用查看和编辑__ 
在应用列表页，单击应用进入应用管理页，选择【帐号信息】，可以查看应用的基本信息，包括应用的 SDKAppid 和 accountType， 单击旁边的【编辑】可以对应用信息进行修改。
![图片描述](//bot1024-1253841380.file.myqcloud.com/695f75e0791411e8bf37525400cda003.png)


 __删除应用__ 
在应用列表页面，单击应用名称右侧的【删除】，在弹框中确认删除，应用即可删除成功。
应用删除后，该应用所有数据和服务不可回复，请谨慎操作。
![图片描述](//bot1024-1253841380.file.myqcloud.com/8d488cbc791411e8a2d6525400cda003.png)



### 实时音视频如何开发辅助？
__开发人员登记__ 

选择 【开发辅助】>【添加开发人员登记】，登记成功后，开发人员可以登录 AVQuality Monitor，帮助开发者快速发现并解决异常。
![图片描述](//bot1024-1253841380.file.myqcloud.com/9a61430a791c11e880405254000ab150.png)

 __签名（UserSig）生成工具__ 

输入用户名和私钥即可一键生成 UserSig。
![图片描述](//bot1024-1253841380.file.myqcloud.com/a87817de791c11e8b3db5254000ab150.png)

### 实时音视频统计分析是什么？
统计分析页面可以根据时间段查看通话时长、通话次数和最高通话人数。
![图片描述](//bot1024-1253841380.file.myqcloud.com/ce82c46a791c11e8a2d6525400cda003.png)

单击【导出数据】可以导出格式为 .csv 的详细数据。
![图片描述](//bot1024-1253841380.file.myqcloud.com/d761b230791c11e8a2d6525400cda003.png)

### 实时音视频名词解析？
__应用__ 

应用是由开发者在  [实时音视频控制台](https://console.cloud.tencent.com/rav)  创建的，用于区分不同的应用开发。详细创建应用流程可参阅  [开通服务](https://cloud.tencent.com/document/product/647/17195)  - 创建应用 文档。
 _一个腾讯云帐号允许创建多个实时音视频应用。_ 

 __sdkAppId__ 

sdkAppId（应用标识）是腾讯云后台用来区分不同 App 的标识，在  [实时音视频控制台](https://console.cloud.tencent.com/rav)  开通服务并且完成创建实时音视频应用后，自动生成一个对应的应用标识。

 __accountType__ 

accountType（帐号类型）是登录实时音视频应用的帐号类型，也是在创建实时音视频应用后自动分配，用于用户鉴权功能。

 __userId__ 

userId（用户标识）用于在一个实时音视频应用中唯一标识一个用户。

- 用户标识是用户登录开发者系统的帐号在腾讯云上的映射。开发者一般直接拿用户名当 userId。
- 长度建议不超过 32 字节。请使用英文字符和下划线，不能全为数字，大小写不敏感。

__userSig__ 

userSig（用户签名）是用于对一个用户进行鉴权认证，确认用户是否真实的。用户签名生成方法可参考  [生成签名](https://cloud.tencent.com/document/product/647/17275)  文档。

 __房间__ 

房间是一个音视频空间，同一房间内的用户可以相互观看对方的实时视频。用房间号来标识一个房间，即在同一个实时音视频应用中间号相同的房间，可以认为是同一个房间。

- 实时音视频使用房间这个虚拟的概念，用于用户之间的相互隔离。
- 房间号是开发者自行维护和分配的，是一个取值范围从 1 到 10000000 的数字。
- 只有在同一个房间里的用户可以相互看到音视频。
- 一个用户同时只能在一个房间内。如果要进入另一个房间，必须从前一个房间内退出，或者调用切换房间接口。

【注意事项】

- 第一个创建房间的用户即这个房间的所有者，但他无法主动解散这个房间。
- 如果所有的用户都退出了房间，30 秒后服务器也会自动解散这个房间。
- 当用户要加入的房间不存在的时候，实时音视频后台会先创建这个房间，然后再把用户加入。

__角色__ 
角色是在实时音视频中，将音视频相同的一套参数配置( 包含分辨率、采集帧率等 )全集。可以在  [实时音视频控制台](https://console.cloud.tencent.com/rav)  中创建并配置角色，详细操作参考  [画面设定](https://cloud.tencent.com/document/product/647/17308)  - 创建角色 文档。


 __角色名__ 
在  [实时音视频控制台](https://console.cloud.tencent.com/rav)  中，为指定终端平台创建了一组参数配置后，可以给这组配置取一个名称，这个名称就是角色名。
用户在房间中打开摄像头/麦克风上行音视频流时，开始上行数据时，在进房时可以通过角色名指定使用的角色，来确定上行数据的参数。

【注意】：

- 如果进房间时配置的角色名并没有在控制台配置，不会导致进房失败，但会使用默认角色。
- 进入房间成功后，用户可以通过角色切换接口来切换角色。
- 使用角色切换接口切换角色时，如果要切换的角色名不存在，会回抛一个失败的回调。
- 角色配置修改后，客户端需要重新登录才能够让配置生效（ SDK 会在登录成功后去后台拉取配置，若拉取失败也会导致角色找不到）。


__群组__ 
群组系统，本质上就是一个支持多人聊天的即时通讯系统，而群组就是一个多人可以相互聊天的空间，腾讯云有五种类型的群组：私有群，公开群，聊天室，实时音视频聊天室，在线成员广播大群。

【注意】：
群组和房间是两个完全独立的概念，两者之前没有直接关联。
![图片描述](//bot1024-1253841380.file.myqcloud.com/7ad1b30c791d11e88eb15254000ab150.png)

 __消息__ 

将一次独立发送和接收的信息称为消息，iLiveSDK 中消息用 ILiveMessage 类来描述，主要有三种类型：文本消息，自定义消息， [其它消息](https://cloud.tencent.com/document/product/269/9232#1.2-.E6.96.87.E6.9C.AC.E6.B6.88.E6.81.AF.E5.8F.91.E9.80.81) 。

### 实时音视频如何生成签名？
UserSig 是使用腾讯云通讯服务（ [IM](https://cloud.tencent.com/product/im) ）所需的一种安全票据，而 iLiveSDK 则是依赖 IM 的帐号体系，所以就需要您的后台工程师生成 UserSig 给返回给终端 App。

 __UserSig 简介__ 

腾讯云 IM 的前身是 QQ 的即时通讯消息系统，我们将 QQ 的消息模块进行了抽离，变成了适合移动端接入的 IM SDK。将消息后台进行改造，使其脱离对 QQ 号码的绑定，构成了现在的 IM 云通讯后台。

您可以把 IM SDK 理解为一个没有用户交互界面的 QQ，把 IM SDK 集成到您的 App 里，就相当于把一个 QQ 的消息内核集成在您的 App 内部。

QQ 可以用来收发单聊和群聊的消息，但前提是您必须先登录才能使用。登录 QQ 用的是 QQ 号和密码，登录 IM SDK 也是一样，只是肯定不能再用 QQ 号和密码了，而是使用您指定的用户名（userid）和密码（usersig）。

-  __用户名（userid）__ 
可以是您目前 App 里的用户 ID，比如您有一个用户，他/她的账号 ID 是 27149， 那么您就可以用 27149 作为登录 IM SDK 的 userid。

-  __密码（usersig）__ 
既然您指定了 27149 是您的用户，腾讯云如何才能确认该用户是您认可的合法用户呢？usersig 就是用于解决这个问题的，usersig 本质是对 userid、appid 等信息的非对称加密。

非对称加密用的加密密钥和解密密钥是不同的，您的服务器可以持有私钥并对 userid 和 appid 进行非对称加密，加密之后的结果就是 usersig ；而腾讯云同步持有您的公钥，这样一来，腾讯云就可以确认 usersig 是否合法，从而可以确认它是否是由您的服务器签发的。
![图片描述](//bot1024-1253841380.file.myqcloud.com/d07593d4792011e8a062525400cda003.png)

 __生成 UserSig__ 

 __步骤 1：获取签发 UserSig 用的私钥__ 

进入实时音视频  [管理控制台](https://console.cloud.tencent.com/rav) ，单击 应用，打开 功能配置，找到 下载公私钥 单击下载。
![图片描述](//bot1024-1253841380.file.myqcloud.com/f46731b2792011e8bb525254000ab150.png)


 __步骤 2：测试 private_key__ 

可以在控制台  __开发辅助工具__  中测试一下下载的 private_key 是否能正常进行签名。
![图片描述](//bot1024-1253841380.file.myqcloud.com/04bf993c792111e8bb525254000ab150.png)

 __步骤 3：集成生成代码__ 
我们在官网的 SDK 下载区提供了一份计算 UserSig 的简单版源码，有 Java 和 PHP 两个版本的，如果您需要其他版本的，可以到 DOC 里寻找。

 [-UserSig计算源码下载（java | PHP | nodejs）](https://github.com/TencentVideoCloudMLVBDev/sign_srv) 

推荐的用户签名获取流程
![图片描述](//bot1024-1253841380.file.myqcloud.com/2ce4bcbc792111e880405254000ab150.png)

【注意】：

- 用户签名是有效期( 在生成时设置，一般为三个月 )的，超过期限的用户签名无法使用；
- 用户使用用户签名过程中，用户签名过期，会出现被踢下线，SDK 会上抛相应的事件通知( 需要用户设置监听 )。

### 实时音视频简易流程图是怎样的？
__整体结构图__ 

![图片描述](//bot1024-1253841380.file.myqcloud.com/762d4c16792311e8a2d6525400cda003.png)

 __客户端流程图__ 

![图片描述](//bot1024-1253841380.file.myqcloud.com/7ea176f6792311e89b795254000ab150.png)



### 实时音视频 live-pusher、live-player标签使用及错误码有哪些？
-  [live-pusher&错误码](https://mp.weixin.qq.com/debug/wxadoc/dev/component/live-pusher.html) 
-  [live-player&错误码](https://mp.weixin.qq.com/debug/wxadoc/dev/component/live-player.html) 
-  [livePusherContext](https://mp.weixin.qq.com/debug/wxadoc/dev/api/api-live-pusher.html) 
-  [livePlayerContext](https://mp.weixin.qq.com/debug/wxadoc/dev/api/api-live-player.html)













