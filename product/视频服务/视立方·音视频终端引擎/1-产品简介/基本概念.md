本文旨在介绍您在使用腾讯云视立方·音视频终端引擎产品过程中可能会涉及到的基本概念。



## 腾讯云视立方·音视频终端引擎（V-Cube）

### 应用

腾讯云视立方·音视频终端引擎（V-Cube）通过**应用**的形式来管理您的项目（App），可以通过创建不同的应用，区分管理不同项目（App）。您可通过在创建 License 时，填写不同的 APP Name 与 Bundle ID/Package Name 来区分不同的应用。一个应用下可包含多个功能模块，代表您的项目（App）中所具备的不同业务能力。

### 版本

腾讯云视立方·音视频终端引擎为音视频通讯终端一体化产品，包含六个版本，分别是：基础直播 Smart、互动直播 Live、短视频 UGSV、音视频通话 TRTC、播放器 Player、全功能版本，详情请参见 [SDK 下载](https://cloud.tencent.com/document/product/1449/56978)。

### 功能模块

功能模块为您项目（App）中所具备的业务功能，您可以通过灵活组合不同的功能模块，拓展您项目（App）的业务能力。包括**主播开播、主播观众连麦/主播跨房 PK、视频录制编辑/视频上传发布、直播观看、点播观看和音视频通话**六个功能模块。功能模块的解锁授权请参见 [SDK 功能说明](https://cloud.tencent.com/document/product/1449/58912)。

### 腾讯云视立方 License

腾讯云视立方·音视频终端引擎通过 License 来管理需要授权解锁的功能模块，用户可通过一组 License URL 和 Key 来获取并校验功能模块的授权。

若您下载的腾讯云视立方版本中包含直播推流（主播开播和主播观众连麦/主播跨房 PK）与短视频（视频录制编辑和视频上传发布）功能模块，则需要购买对应的云服务的资源包免费获取**直播推流 License** 和**短视频 License**（**短视频 License 包括精简版和基础版**，功能各异，详情请参见 [短视频 License 功能详情](https://cloud.tencent.com/document/product/1449/56980#UGSV_detail)），以解锁对应功能模块的能力。

- 直播推流 License 可用于开启直播推流（主播开播和主播观众连麦/主播跨房 PK）功能模块。
- 短视频 License 可用于开启短视频（视频录制编辑/视频上传发布）功能模块。

您可以通过购买相应云服务的资源包，获取赠送的直播推流 License 或者短视频 License 的**1年**有效期（购买日起算1年有效期），从而解锁该 License 对应功能模块的能力。

![](https://main.qcloudimg.com/raw/26c0c8235ae57714ffd008db8be33397.png)

## 音视频通话 TRTC

### UserID

UserID（用户标识）用于在一个音视频通话模块中唯一标识一个用户。

- 用户标识是用户登录开发者业务系统的帐号在腾讯云上的映射。通常情况下，开发者可直接使用用户名作为 UserID。
- 取值范围长度建议不超过32字节。请使用英文字符、数字或下划线，不能全为数字，区分大小写。

### 房间
房间是一个音视频空间，同一房间内的用户可以互相接收对方的实时音视频数据。
- 音视频通话模块使用房间这个虚拟的概念，用于用户之间的相互隔离。
- 只有在同一个房间里的用户才可以相互接收音视频。
- 一个用户同一时间只能在一个房间内。如果要进入另一个房间，必须从前一个房间内退出。

> ? 
> - 第一个加入房间的用户为当前房间的所有者，但该用户无法主动解散房间。
>- 通话模式下：所有用户都主动退房时，后台立即解散房间。
> - 直播模式下：最后一个退房的用户是主播角色时，后台立即解散房间；最后一个退房的用户是观众角色时，后台等待10分钟后解散房间。
> - 如果房间内的单个用户异常掉线，90秒后服务端会将该用户清理出当前房间。如果房间内的所有用户都异常掉线，90秒后服务端会自动解散当前房间。
> - 当用户要加入的房间不存在时，音视频通话模块的后台会自动创建一个房间。

### RoomID

RoomID（房间号/房间ID）用于在一个音视频通话模块中唯一标识一个房间。RoomID 是由开发者自行维护和分配的一个 uint32 范围内的数字，取值区间[1，4294967295]。

### UserSig

UserSig（用户签名）是腾讯云设计的一种安全保护签名，用于对一个用户进行登录鉴权认证，确认用户是否真实，阻止恶意攻击者盗用您的云服务使用权。详情请参见 [生成 UserSig 签名](https://cloud.tencent.com/document/product/1449/58939) 。

### 推送

推送指用户将本地的音视频数据上传给音视频通话模块服务端的操作，对应“推流”。

### 订阅

订阅指用户向音视频通话模块服务端请求拉取指定用户音视频数据的操作，对应“拉流”。

### 角色

音视频通话模块支持 **主播**（TRTCRoleAnchor）和 **观众**（TRTCRoleAudience）两种角色，二者区别在于：

- 主播角色既支持向服务端推送自己的音视频数据，也支持从服务端订阅并播放其他主播角色的音视频数据。
- 观众角色**仅支持**从服务端订阅并播放主播角色的音视频数据。

在通话模式下，所有进房用户都是主播角色。在直播模式下，您可以根据实际业务场景将进房用户分为主播和观众两种角色，同一个用户可以随时切换角色。

### 哑终端

哑终端作为观众进入房间拉流时不会被其他 SDK 感知到（远端收不到哑终端的进出房事件通知）。



## 基础直播 Smart

### 推流

主播将本地视频源和音频源推送到腾讯视频云服务器，支持 RTMP 推流、RTC推流。

### 拉流

即直播播放，指已实现直播推流之后，用指定地址将腾讯视频云服务器中的视频源和音频源拉取播放的过程。其视频源是实时生成的，有人推流直播才有意义，一旦主播停播，直播 URL 也就失效了。而且由于是实时直播，所以播放器在播直播视频的时候是没有进度条的。

### 推流域名

指用于推送直播流的域名，必选配置，该域名必须在使用直播服务前完成注册并备案。配置完推流域名后，直播服务会生成对应的推流地址，拼接规则请参见 [自主拼装推流 URL](https://cloud.tencent.com/document/product/1449/58940#push)。

### 播放域名

指用于播放直播流的域名，必选配置，该域名必须在使用直播服务前完成注册并备案。配置完播放域名后，直播服务会生成对应的播放地址，拼接规则请参见 [自主拼装推流 URL](https://cloud.tencent.com/document/product/1449/58940#play)。

### 录制回看

录制回看功能依托于腾讯云的**云点播服务**支撑，需要先在腾讯云的管理控制台 [开通云点播服务](https://console.cloud.tencent.com/vod)，并在云直播控制台中完成域名 [录制配置](https://cloud.tencent.com/document/product/267/20384)，直播推流完成后录制生成的文件可前往云点播控制台的【媒资管理】[查看视频](https://cloud.tencent.com/document/product/266/36451)。



## 短视频 UGSV

### 转场
两段视频之间界面跳转时的衔接过渡效果。

### 混响
音乐表演模式下，混响是能增强表演效果体验，让线上体验逼真地重现线下的听音效果。在直播领域，唱歌等音乐表演是典型的混响应用场景。

### 合唱
通过工程搭建两个 View， 一个用来播放，一个用来录制。再放一个按钮和进度条来开始进行录制和显示进度，录制至与源视频相同的时长后停止。将录好的视频与源视频左右合成后即完成视频合唱基础功能。

### 滤镜特效
为视频添加多种滤镜特效，我们目前支持11种滤镜特效，每种滤镜可以设置视频作用的起始时间和结束时间。

## 播放器 Player
### FileID
FileId为媒体文件 ID，即该文件在云点播上的全局唯一标识符，在上传成功后由云点播后台分配。可以在 [视频上传完成事件通知](https://cloud.tencent.com/document/product/266/7830) 或 [云点播控制台](https://console.cloud.tencent.com/vod/media) 获取该字段。

### 时移
播放的直播流就能在下面看到进度条。往后拖动即可回到指定位置，单击【返回直播】可观看最新直播流。

> ? 时移功能处于公测申请阶段，如您需要可 [提交工单](https://console.cloud.tencent.com/workorder) 申请使用。

### 小窗播放
小窗播是指在 App 内，悬浮在主 window 上的播放器。

### 全屏
- **屏幕全屏**：
  指在屏幕范围内全屏，全屏后只有视频画面内容，看不到浏览器的地址栏等界面，这种全屏需要浏览器提供接口支持。支持屏幕全屏的接口有两种，一种称为 Fullscreen API，通过 Fullscreen API 进入屏幕全屏后的特点是，进入全屏后仍然可以看到由 HTML CSS 组成的播放器界面。另一种接口为 webkitEnterFullScreen，该接口只能作用于 video 标签，通常用于移动端不支持 Fullscreen API 的情况，通过该接口全屏后，播放器界面为系统自带的界面。
- **网页全屏**：
  指在网页显示区域范围内全屏，全屏后仍可以看到浏览器的地址栏等界面，通常情况下网页全屏是为了应对浏览器不支持系统全屏而实现类似全屏的一种方式，所以又称伪全屏。该全屏方式由 CSS 实现。
