Thank you for your long-term support for Tencent Cloud VOD business.

Tencent Cloud VOD service has been fully upgraded from VOD 1.0 to 4.0 with the following new features:

1. A complete [UGC Video Upload Solution](https://cloud.tencent.com/document/product/266/7835) is provided and supported on multiple terminals including iOS/Android/Web.
2. A new [Video Stitching](https://cloud.tencent.com/document/product/266/7821) feature is released.
3. The performance of server video upload has been optimized, and concurrent upload is supported, so as to greatly speed up the video upload.
4. Transcoding clusters have been optimized, thus significantly improving the success rate and reliability of transcoding.
5. A more elegant and reliable [Server Event Notification Mechanism](https://cloud.tencent.com/document/product/266/7829) is available.
6. The Singapore cluster has been added to video storage. The overseas video upload and playback quality have been greatly improved.

From VOD 1.0 to VOD 4.0, ***the packages and prices remain unchanged, so the upgrade fee is not required***. After the upgrade, the interactions between most APIs and the console are compatible with VOD 1.0, with only a few features changed as follows:

* Video management on the console
* Server video upload API
* Event notification mechanism
* Rules for Tencent Cloud LVB/ILVB users to get the video replay address
* Server APIs deprecation/migration

## Video Management on the Console

VOD 1.0 and VOD 4.0 are deployed with different storage engines. When VOD 4.0 is used, the videos uploaded from the console and those uploaded using the new upload API enter VOD 4.0 system. However, the history files and the files uploaded using the old upload API enter VOD 1.0 system before switching to VOD 4.0. "Video Management" page on the console provides you with the entry to switch between the two systems:

In the "Video Management" page, the video files of VOD 4.0 are displayed by default. You can click "Go to VOD 1.0" button to view the video files of VOD 1.0, as shown below:

![](//mc.qcloudimg.com/static/img/2b4534a1e35c8a0325c04ce3542b80e8/image.png)


After entering the "Video Management" page of VOD 1.0, you can click "Back to VOD 4.0" button to view the video files of VOD 4.0, as shown below:

![](//mc.qcloudimg.com/static/img/a9d09b0be77e8974d0d7222fb9b3627a/image.png)

## Server Video Upload API

The video upload API of VOD 1.0 has many defects, such as poor upload stability, slow upload speed (concurrent upload not supported), incomplete server upload SDK, and unfriendly support for UGC upload. We recommend that you migrate apps to VOD 4.0 upload API:

1. For server video upload, it is recommended to use the server upload SDK provided by VOD, or use the native server upload APIs ([Initialize Upload](https://cloud.tencent.com/document/product/266/7809), [Multipart Upload](https://cloud.tencent.com/document/product/266/7810), and [Finish Upload](https://cloud.tencent.com/document/product/266/7811)).

2. For UGC video upload, it is recommended to use the video upload capability native to VOD 4.0. For more information, please see [Overview of UGC Video Upload](/document/product/266/7835).

## Event Notification Mechanism
The event notification mechanism of VOD 1.0 mainly relies on the callback URL passed by users when calling the API, which is complicated.

Besides supporting the original event notification mechanism of VOD 1.0, VOD 4.0 provides a new server event notification mechanism. For more information, please see [Overview of Server Event Notification](https://cloud.tencent.com/document/product/266/7829).

## Rules for Tencent Cloud LVB/ILVB Users to Get the Video Replay Address

The recorded video files from Tencent Cloud LVB and ILVB enter the VOD system. Each recorded file has a unique video_id (vid). For VOD 1.0, a video replay URL can be obtained by stitching video_id. For example, the typical URL of a VOD 1.0 video file is shown below:

```
http://200000291.vod.myqcloud.com/200000291_650e9299919f4007bb8a01b7671f0e20.f0.mp4
```

The Path of this URL is generated by stitching video_id and ".f0.mp4". After the VOD system is upgraded to version 4.0, the replay URL of the newly recorded video is irrelevant to video_id, and the domain name of the video is also changed. See the address below:

```
http://1251659802.vod2.myqcloud.com/vod1251659802/9031868222835583048/f0.flv
```

Compared to the replay URL for VOD 1.0:

1. The domain name is .vod2.myqcloud.com, instead of the original .vod.myqcloud.com.

2. No relationship exists between Path and video_id.

### How to Obtain

1. If you know the name of the recorded file, it is recommended that you query the file playback information through the API [DescribeVodPlayInfo](https://cloud.tencent.com/document/product/266/1373).

2. If you do not know the name of the recorded file, it is recommended that you use the API [DescribeRecordPlayInfo](https://cloud.tencent.com/document/product/266/8227) to get the file playback information through video_id.

## Server APIs Deprecation/Migration
### Deprecated APIs
| API Name | Original Feature | Reason for Deprecation |
| :--: | :--: | :--: |
| SetVodPlayStatus | Set file publish status | Basic feature is unavailable now |
| MultiSetVodPlayStatus | Set file publish status in batches | Basic feature is unavailable now |
### Migrated API
| API Name | Migrated API | Reason for Migration | Functional Difference |
| :--: | :--: | :--: | :--:|
| CreateScreenShot | [DescribeAutoScreenShot](https://cloud.tencent.com/document/product/266/1410) | API description does not match the actual feature | The API DescribeAutoScreenShot does not support the batch query of multiple fileIds |
| DescribeScreenShot | [DescribeAutoScreenShot](https://cloud.tencent.com/document/product/266/1410) | API description does not match the actual feature | No difference |
| DescribeVodCover | [DescribeVodCover](https://cloud.tencent.com/document/product/266/8814) and [SmallFileUpload](https://cloud.tencent.com/document/product/266/8833) | Multiple restrictions on original features | DescribeVodCover is only used to set the cover URLs, while SmallFileUpload is used to upload the actual cover images. Relevant SDK APIs can be called, and the size may not be limited to 1 MB |

