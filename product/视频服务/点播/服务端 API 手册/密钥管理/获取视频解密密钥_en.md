## API Name
DescribeDrmDataKey

## Feature Description
1. Obtain the data key (DK) for VOD video encryption. DK is generated by the KMS system and used for symmetric encryption/decryption;
2. The API can obtain the data key of video encryption only when video encryption keys are managed with the built-in KMS service of Tencent Cloud VOD;
3. Enter the data key with the parameter of "encryption", i.e. Encrypted Data Key (EDK). When the API "ProcessFile" carries the parameter of "encryption", the event notification message will contain the EDK;
4. The obtained data key is a base64 encoded string.
5. After the video encryption task finished successfully, you can call the API to obtain the data key of video encryption, and save the data key. When playing the encrypted video, the player initiates a request to your web server for obtaining the data key. Then your server needs to convert the base64 encoded data key to 16-byte binary data, and return it to the player.

## Event Notification
None

### Request Domain
vod.api.qcloud.com

### Max Calling Frequency
100/min

### Parameter Description
| Parameter | Required | Type | Description |
|---------------|----------|---------|---------|
| edkList.n | Yes | String | List of encrypted data keys (max. 10) |
| COMMON_PARAMS | Yes |  | For more information, please see [Common Request Parameters](https://cloud.tencent.com/document/api/213/6976) |

### Request Example
```
https://vod.api.qcloud.com/v2/index.php?Action=DescribeDrmDataKey&edkList.0=CiCdpfV8oMGHlWuACHIGUxJ/mdjZnBWEsovP6k78xvj2qRCO08TAChiaoOvUBCokNTQ3N2MwYWQtMmVlYy00ZmNhLWE5OGQtNmNiNjc5MTVmODdh&COMMON_PARAMS
```

## API Response

### Parameter Description
| Parameter | Type | Description |
|---------|---------|---------|
| code | Integer | Error code, 0: Successful; other values: Failed. |
| message | String | Error message |
| keyList | Array | Key list, containing data keys and encrypted data keys. For detailed field information, see keyList (key list). |

#### keyList (key list)
| Name | Type | Description |
|---------|---------|---------|
| edk | String | Encrypted data keys |
| dk | String | Data Key. The returned data key dk is a base64-encoded string. |

### Error Codes
| Error Code | Description |
|---------|---------|
| 4000-7000 | For more information, please see [Common Error Codes](https://cloud.tencent.com/document/product/266/7783)  |
| 1000 | Invalid parameter  |
| 1001 | User information error  |
| 10009 | 10612. The obtained data key is invalid, which may be caused by incorrect edk. |

### Response Example

```javascript
{
    "code": 0,
    "message": "",
    "keyList": [
	{
		"edk":"CiCdpfV8oMGHlWuACHIGUxJ/mdjZnBWEsovP6k78xvj2qRCO08TAChiaoOvUBCokNTQ3N2MwYWQtMmVlYy00ZmNhLWE5OGQtNmNiNjc5MTVmODdh",
		"dk":"i6zM/pnmIERJE3vAt0UnGg=="
	}
	]
}
```

