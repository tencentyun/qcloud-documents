UGC（用户生产内容）和 PGC（专业生产内容）是视频行业中常见的两类场景，可以由视频分享者自由上传和分享视频内容。然而视频分享者上传的内容可能包含大量“涉黄”、“涉暴”及“涉政”的视频，如果视频平台不对这些违规内容进行管控，则会带来重大的法律风险和品牌伤害。

## 违规视频问题的产生

UGC 或 PGC 的视频平台，与内容提供方、内容消费方及云点播的交互方式如下（第1 - 3步，可参考 [客户端上传](https://cloud.tencent.com/document/product/266/9219)）：
<img src="https://main.qcloudimg.com/raw/1583662375b390c774d1298e41cda9fd.png" width="400">
1. 视频 App 后台对内容提供方进行鉴权，鉴权通过后派发 [客户端上传签名](https://cloud.tencent.com/document/product/266/9221)。
2. 内容提供方执行上传，把分享的内容上传到云点播。
3. 云点播将成功上传的视频 FileId 和播放 URL 等 [相关信息](https://cloud.tencent.com/document/product/266/7830) 通知到 App 后台。
4. 内容消费方向视频 App 后台请求视频的播放 URL。
5. 内容消费方通过播放 URL，从云点播加速播放视频。

App 平台在第3步获取到视频的上传信息后，即在平台中发布该视频，允许第4步用户获取到视频的播放 URL 并播放视频。如果该视频是违规视频，则视频就会直接暴露给内容消费方。

## 引入视频内容审核
云点播提供了 [视频内容审核](https://cloud.tencent.com/document/product/266/33498) 功能，可以对视频发起内容审核，并在审核结果中给出建议（建议屏蔽、建议复核和建议通过）。App 后台获取审核结果后，可以根据建议来决定是否发布视频：
* 审核结果为“block（建议屏蔽）”时，App 后台屏蔽该视频。
* 审核结果为“pass（建议通过）”时，App 后台直接发布该视频。
* 审核结果为“review（建议复核）”时，App 后台进行人工复核，选择是否发布视频。

启用云点播的视频内容审核后，App 后台可以高效识别并过滤违规视频，推荐使用流程如下：
<img src="https://main.qcloudimg.com/raw/3696b553b4d21a221e83cd537d7df8f2.png" width="550">

1. App 后台对内容提供方进行鉴权，鉴权通过后派发视频 [客户端上传签名](https://cloud.tencent.com/document/product/266/9221)。
2. 内容提供方执行上传，把分享的内容上传到云点播。
3. 云点播将成功上传的视频 FileId 以及播放 URL 等 [相关信息](https://cloud.tencent.com/document/product/266/7830) 通知到 App 后台。
4. 云点播执行上传签名时对`procedure`参数进行配置的视频内容审核任务。
5. 云点播通过 [任务流状态变更](https://cloud.tencent.com/document/product/266/9636) 通知 App 后台审核结果。
6. App 后台发布“建议通过”的视频，以及“建议复核”且经人工复核通过的视频。
7. 内容消费方向 App 后台请求已发布视频的播放 URL。
8. 内容消费方通过播放 URL，从云点播加速播放视频。

加入了第4 - 6步之后，以上的流程可以保证内容消费方在第7步获取到的视频是经审核验证的合规视频。

>! 此处介绍的流程属于“先审后发”模式（仅发布审核通过的视频）。如有需要，也可采用“先发后审”模式（视频上传完成后即发布，审核发现违规后再撤下视频）。
