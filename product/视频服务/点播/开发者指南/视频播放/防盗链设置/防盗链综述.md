## 简介
为支持视频播放的权限控制，云点播推出了防盗链的解决方案。开通防盗链后，腾讯云 CDN 节点将对播放请求中的关键信息进行检查，并对检查通过的请求返回视频数据。本方案对播放器并无限制要求，即无论是云点播的播放器 SDK，还是一般性播放器均可使用。


## 类型和能力
云点播防盗链支持 Referer 防盗链和 Key 防盗链。
<img src="https://main.qcloudimg.com/raw/a24050a706ebff6911e565f55d6cf87b.png" width="450">

### Referer 防盗链
基于 HTTP 协议支持的 Referer 机制，通过播放请求 Header 中携带的 Referer 字段识别请求的来源。开发者可以设置一批域名为黑名单或白名单，CDN 节点将按照名单中的域名做鉴权，从而允许或拒绝播放请求。

### Key 防盗链
允许开发者将视频的播放控制参数以 QueryString 的形式拼接在视频 URL 中，CDN 节点将检查 URL 中的播放控制参数，并依据参数控制视频的播放。目前，Key 防盗链通过“过期时间参数”、“允许播放的 IP 数量参数”和“试看时间参数”，支持“防盗链有效时间控制”、“防盗链播放人数控制”和“视频播放时长控制”。

#### 防盗链有效时间控制
在视频 URL 中指定过期时间。如果请求的视频 URL 已过期，则视频无法播放。通过这种方式，可以为视频 URL 设置有效时间，防范他人将视频 URL 转移到其他站点后长期使用。

#### 防盗链播放人数控制
在视频 URL 中指定链接最多能供多少人播放。不在同一内网的播放终端，它们的公网 IP 一般是不同的。通过限制一个 URL 允许最多能被多少公网 IP 播放，就能够限制同一个 URL 可以播放的人数，从而可以防范他人将视频 URL 转移到其他站点后，无限制地分发给任意多的人数观看。

#### 视频允许播放时长控制
在视频 URL 中指定试看时长（如仅允许播放视频的前5分钟）。通过这种方式，可以实现对未付费用户的试看功能。

>?
>- 关于 Referer 防盗链，更多详情请参见 [Referer 防盗链](/document/product/266/14046)。
>- 关于 Key 防盗链，更多详情请参见 [Key 防盗链](/document/product/266/14047)。



