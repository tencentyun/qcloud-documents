客户端上传加速可为客户提供更高质量的上传服务。该功能基于腾讯云全球部署的加速网络，根据用户的请求，智能地选择最佳接入点和最优链路，提高上传的速度和成功率。同时支持使用 QUIC 协议进行数据传输，改善数据传输的效率和在弱网环境中的稳定性。

## 影响上传质量的主要因素
### 长距离传输
腾讯云在全球很多地区部署了存储中心，客户可以选择性地启用这些存储中心，并且在上传时就近存储，详情参见 [就近上传](https://cloud.tencent.com/document/product/266/38117#.E5.B0.B1.E8.BF.91.E4.B8.8A.E4.BC.A0)。但即便如此，还是无法避免一些终端用户与存储中心距离间隔太远，以及部分客户的业务场景中存在需跨地区甚至跨海上传的场景。长距离的数据上传通常就意味着更长的网络链路和更大的传输时延，而且一旦中间某一个环节出现网络抖动、丢包等问题，就会拉低整条链路的上传速度和成功率。
### 弱网问题
弱网简单来说就是质量较差的网络环境，如丢包率高、时延大的网络。如今移动网络普及甚广，移动端客户的上传量占比非常大。而移动网络的弱网问题十分常见，如用户处在基站信号覆盖较弱的地区，或者行动过程中联网设备频繁切换网络。如何在弱网环境中保持稳定的数据传输，降低丢包率，是提高上传质量的一大难题。
### 网络协议效率不高
点播客户上传的文件大部分是数据量较大的视频文件，而目前在上传中使用最频繁的网络协议依然是 HTTP1.1。该协议本质还是基于串行模型，同时还存在队头阻塞等问题，在大规模数据传输的场景中，很容易触达性能瓶颈。


## 客户端上传加速的方案
### 全球链路加速，高保障通道
针对长距离传输场景，网络链路过长导致的上传质量不佳问题，云点播基于腾讯云遍布全球的加速网络和边缘节点，为客户提供一套数据上传的全球链路加速通道。借助腾讯云的智能全局流量管理平台，将用户的上传请求递交给最靠近用户的边缘节点，就近接收用户的数据。再通过腾讯云打磨多年的加速网络，选择最优链路，将数据传送到存储中心。
### QUIC 协议，更快更稳定
针对弱网环境和网络协议效率不高的问题，云点播提供的客户端上传已支持 QUIC 协议。QUIC 协议是一种基于 UDP 实现的低延迟高可靠通信协议，目前标准的 HTTP3 协议正是基于 QUIC 实现的。QUIC 支持 0-RTT 建立连接和无队头阻塞的多路复用，可以比较容易的在端侧实现用户态拥塞控制，更大限度地利用网络带宽进行实际的数据传输，在丢包率和网络延迟较高的弱网环境也可提供高质量的数据通信。同时，QUIC 还支持连接迁移，在移动端频繁切换网络的场景中，也可平滑过渡，保证网络不中断。
### 智能择优，使用无门槛
云点播提供的上传加速方案简单易用，只需客户在控制台开启相关功能即可。在使用 SDK 进行上传时，会智能地在普通通道和加速通道中进行竞速和择优，同时会自动探测并决定是否使用 QUIC 协议进行数据上传。 
![](https://qcloudimg.tencent-cloud.cn/raw/6e2325adaf706a7bf6edb525c96b7e5d.jpg)

## 使用方法
下面轻松三步，即可开启客户端上传加速功能：
1. 参照客户端上传加速的 [控制台操作](https://cloud.tencent.com/document/product/266/14059) 指引，开启“全球链路加速”，并按需开启“QUIC 传输”。
2. 若开启“全球链路加速”，Web 端需使用版本不低于 1.5.0 的 SDK，小程序端需使用版本不低于 1.1.0 的 SDK。小程序端还需要在微信公众平台配置`vod-upload-accelerate.vod-qcloud.com`为合法域名。
3. Android 和 iOS 平台需确保在 App 启动时调用了 [预上传](https://cloud.tencent.com/document/product/266/38117#.E9.A2.84.E6.8E.A2.E6.B5.8B.E4.B8.8A.E4.BC.A0) 。若开启“QUIC 传输”，Android 平台需使用版本不低于 9.6 的 SDK，iOS 平台需使用版本不低于 10.4 的 SDK。
>?
>- Android、iOS 上传 SDK，可同时支持上传加速和 QUIC 传输；
>- Web 端、小程序端上传 SDK，仅支持上传加速，当前暂不支持 QUIC 传输。

## 费用相关
使用客户端上传加速，将涉及以下费用：
- 全局链路加速费用：使用全局链路加速时，产生的上传加速流量费用
- QUIC 传输费用：使用 QUIC 传输时，产生的上传加速流量费用
以上费用的具体价格，请参见 [购买指南](https://cloud.tencent.com/document/product/266/33149#.E5.AE.A2.E6.88.B7.E7.AB.AF.E4.B8.8A.E4.BC.A0.E5.8A.A0.E9.80.9F)。
