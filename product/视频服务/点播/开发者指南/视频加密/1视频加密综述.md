为了保障视频内容安全，防止视频被盗链、非法下载和传播，云点播提供了针对视频内容安全的多种保护机制，从多方面保障您的视频版权不受到非法侵犯。

<table class="table auto-table">
  <tr>
	  <td>类别</td>
	  <td>功能</td>
		<td>特点</td>
		<td>安全级别</td>
	</tr>
	<tr>
	  <td rowspan="2">防盗链</td>
	  <td>Referer 防盗链</td>
		<td>通过播放请求 Header 中携带的 Referer 字段识别请求的来源，以黑名单或白名单方式对来源请求进行控制</td>
		<td>较低</td>
	</tr>
	<tr>
	  <td>Key 防盗链</td>
		<td>在播放链接中加入控制参数，并使用 Key 做签名，可以控制链接的有效时间、试看时长、允许播放的 IP 数等</td>
		<td>中</td>
	</tr>
	<tr>
	  <td rowspan="2">视频加密</td>
	  <td>HLS 普通加密</td>
		<td>基于 HLS 提供的 <a href=https://tools.ietf.org/html/draft-pantos-http-live-streaming-23?spm=a2c4g.11186623.2.31.409c6a6aYf9Rn8>AES encryption </a>方案，使用密钥对视频数据加密</td>
		<td>较高</td>
	</tr>
	<tr>
	  <td>商业级 DRM（暂未上线）</td>
		<td>基于 Widevine、FairPlay、PlayReady 等商业级 DRM 方案的视频加解密</td>
		<td>高</td>
	</tr>
</table>

* [防盗链](https://cloud.tencent.com/document/product/266/11243)  主要用于控制视频播放请求来源的合法性，但防盗链不对视频内容加密，用户下载后可以二次分发，在版权保护上的安全级别不高。
* 视频加密是一种使用密钥对内容本身加密的手段，他人获取后无法直接播放。只有当终端通过业务后台鉴权，获得解密密钥后才能播放。

云点播的视频加密提供了 HLS 普通加密能力，拥有相比于防盗链更高的安全级别。

## 原理架构

点播视频加密和解密播放的整体架构流程如下：

1. <b>服务端上传</b>：业务后台通过控制台、服务端 API 等方式，将视频上传到云点播。
2. <b>触发视频处理</b>：上传视频的同时，指定带加密的转自适应码流。上传后，视频开始加密过程。
3. <b>获取密钥</b>：转自适应码流并加密，点播从 KMS 模块获取加密视频时使用的密钥。
4. <b>加密并写入存储</b>：视频转自适应码流并加密后，输出的视频内容被写入到点播的存储中。
5. <b>更新媒资</b>：加密后的视频信息，被写入到媒资管理模块。
6. <b>获取播放器签名</b>：业务终端集成点播超级播放器，播放器向业务服务器请求播放器签名。
7. <b>请求下载地址</b>：超级播放器会从点播的播放服务获取视频的下载地址。
8. <b>下载内容</b>：超级播放器通过下载地址，从点播 CDN 下载内容。
9. <b>获取密钥</b>：超级播放器携带播放器签名请求解密密钥。
10. <b>解密播放</b>：超级播放器使用解密密钥，解密播放。

<img src="https://main.qcloudimg.com/raw/8384bbba97c518b62c1b39f7c670d240.png" width="700" />

## 接入参考

为了帮助您快速接入点播的加密能力，我们为您提供了视频加密 [接入指引](https://cloud.tencent.com/document/product/266/43633)，以示例的方式为您讲解接入步骤。

## 常见问题

1. 如何对上传的视频进行加密？
云点播的 [转自适应码流](https://cloud.tencent.com/document/product/266/34071) 功能，可以将视频转成多种分辨率并加密。具体实践方式，请您参见 [接入指引](https://cloud.tencent.com/document/product/266/43633)。
2. 终端如何播放加密后的视频？
播放点播加密的视频，您需要在终端集成超级播放器 SDK。同时，您还需要搭建一个签名派发服务。具体实践方式，请您参见 [接入指引](https://cloud.tencent.com/document/product/266/43633)。


