## 소개

Tencent Cloud 게임 멀티미디어 엔진 SDK의 사용을 환영합니다. 개발자가 Tencent Cloud 게임 멀티미디어 엔진 제품을 디버깅하고 연결하는 데 도움이 되도록 여기에 모든 플랫폼에 적합한 인증 키 관련 기술 문서를 소개합니다.

## 음성 키
Tencent Cloud 게임 멀티미디어 엔진은 음성 채팅 및 오프라인 음성의 인증에 사용되는 인증 키를 제공합니다.

인증에서 사용한 서명의 생성 과정은 일반 텍스트, 키 및 알고리즘과 관련이 있습니다.

일반 텍스트는 다음 필드의 네트워크 오더로 구성됩니다.

|필드 설명    		| 유형/길이			| 값 정의/비고|
| ---------------- |-------------------|--------------|
| cVer				|unsigned char/1	|버전 번호, 입력 수치: 0		|
| wOpenIDLen		|unsigned short/2	|제3자 자체 보유 계정 길이	|
| dwOpenID			|wAccountLen		|제3자 자체 보유 계정 문자	|
| dwSdkAppid		|unsigned short/4	|제3자 자체 보유 AppID		|
| dwRoomID			|unsigned int/4		|음성 채팅이면 방 번호를 입력하십시오. 오프라인 음성이면, 0을 입력하십시오			|
| dwExpTime		|unsigned int/4		|만료 시간(현재 시간 + 유효기간[단위: 초, 300초를 권장])|
| dwReserved1		|unsigned int/4		|입력 수치: -1 또는 0xFFFFFFFF|
| dwReserved2		|unsigned int/4		|입력 수치: 0		|

### 1. 키
Tencent Cloud GME 콘솔이 관련 권한 키를 획득합니다.

![](https://main.qcloudimg.com/raw/9afa07c629e37b66cd223bf39fe17abf.png)

### 2. 알고리즘
TEA 대칭 암호화 알고리즘.
전반적으로는 액세스 초기 단계에서 클라이언트 배포 솔루션을 사용하며, 이후에 게임 앱 백 엔드에 배포로 최적화하는 것이 좋습니다.

|솔루션       		| 장점        		| 단점																																|
| ------------- |-------------|-------------| 
| 백 엔드 배포    		|안전성 높음	|백 엔드 개발 공동 테스트 필수|
| 클라이언트 배포      	|신속한 액세스	|안전성 낮음|

#### 백 엔드 배포 사용방법
백 엔드에서 암호화 열을 생성한 후 클라이언트에 발행하여 클라이언트에서는 다음의 시나리오에 사용할 수 있습니다. API:EnterRoom을 호출하여 방 입장 조작을 수행하면 암호화 열을 방 입장 매개변수의 authBuffer 필드에 전송합니다.




### 3. 알고리즘 암호화 세부 정보
- 키: AppID는 인증 키의 md5 값에 해당하며, 길이는 16바이트입니다
- 암호화 알고리즘: TEA 암호화
- 암호화 라이브러리 및 예: 첨부 파일 [authbuffer.zip](https://main.qcloudimg.com/raw/eac8e36ca4a24edf9414dfe7f58a764a.zip)

>**주의:**
> 콘솔에서 키를 수정한 후, 15분 ~ 1시간 내에 적용되며 자주 변경하지 않는 것이 좋습니다.


#### 암호화 방법	
- 암호 텍스트 중의 숫자는 네트워크 바이트 오더로 변환됩니다(빅 엔디안 바이트 오더)
- 암호 텍스트를 하나의 문자열로 구성합니다.
- TEA 암호화를 사용해 문자열을 암호화하고 symmetry_encrypt 함수가 출력한 문자열은 권한 암호열입니다.

>**주의:**
>이진 열을 16진으로 전환할 필요가 없습니다.



