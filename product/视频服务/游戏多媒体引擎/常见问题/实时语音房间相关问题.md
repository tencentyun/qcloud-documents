### 实时语音服务支持什么游戏场景？

大致有以下三种场景：

- **麦序模式：**用户轮流语音上麦，音质高、流畅性好，适用于语音狼人杀等场景。
- **自由通话模式：**支持多人同时讲话，超低延迟，适用于多人组队开黑等竞技游戏场景。
- **指挥模式：**针对一对多指挥作战、主播语音陪玩等场景，适合大型国战类游戏。

腾讯云 SDK 提供的房间内通话可以满足以上场景，具体模式属于用户产品需求，在客户 App 层处理更加灵活，例如产品层下发协议让用户上麦。

### openid 取值有要求吗？

openid 目前只支持64位无符号整型。请转为 string 传入 SDK。

### 单个 openid 能同时进入多个房间吗？

不能，一个 openid 同时只能存在于一个房间。

### GME SDK 中的 poll 函数应何时开始调用？

请开发者在初始化 SDK 之后开始周期性的调用 Poll 函数。

### 触发事件需要周期性的调用 poll 函数，如果新开一个线程，定时唤醒，然后调用 poll 函数可以吗？

我们的接口理论上都需要在同一个线程中调用。如果您已选择在子线程调用，请确保在同一个子线程内调用。特别是 Init 和 Poll。


### 调用 Poll 函数需要的频率为多少？

如果没有特殊需求，请参照 Demo 示例代码进行调用。

### GME 的实时语音房间数量和人数有限制吗？

实时语音房间数量和人数都没有限制。

### 房间里面可以有多少人？可以有多少个人同时说话？

游戏多媒体引擎的房间里面人数没有限制，但只支持最多六个人同时说话。

### 房间号取值有要求吗？

房间号，最大支持127字符（离线语音房间号参数必须填 null）。

### 调用 EnterRoom 接口返回值为0，为什么还是没办法进房？

调用接口 EnterRoom 之后会有回调，回调里面去判断进房是否成功，而不是直接判断接口返回值。

### 进房返回10001等失败情况下如何排查？

问题排查的步骤如下：

1. 查看并确认进房 API 中的参数，如 Appid， UIN， AuthBuffer 的合法性（参照各平台接口文档）。
2. 请查看控制台上的相关参数是否与本地的一致。
3. 请查看控制台是否欠费。
4. 检查开发者测试设备是在开发者内网环境还是外网环境，如果是内网环境，请参考 [如何应对公司防火墙限制](https://cloud.tencent.com/document/product/607/41825)。

### 调用 Init 方法后，调用 EnterRoom 接口进房时，回调返回了错误码1101，如何解决？

请保证所有的接口都在同一线程下调用，并保证周期性地调用 Poll 接口。

### 为什么我在应用中进房会返回 HTTP Invalid id？

如果您在调用进房 EnterRoom 接口的时候，参数 OpenId 所映射的账号是从0开始的，那么建议您帐号加上10000。例如您的帐号是999的话，输入的 OpenId 为10999。

### 进房时候出现7004错误码，提示网络错误，该如何解决？

1. 查看并确认进房 API 中的参数，例如 Appid， UIN， AuthBuffer 的合法性（参照各平台接口文档）。
2. 检查开发者测试设备是在开发者内网环境还是外网环境，如果是内网环境，请参考 [如何应对公司防火墙限制](https://cloud.tencent.com/document/product/607/41825)。
3. 根据下面网络问题排查方法进行排查。



### 出现网络问题，该如何排查？

**网络诊断**：

- [单击检查域名 tcloud.tim.qq.com](https://ping.huatuo.qq.com/tcloud.tim.qq.com)，或直接复制链接 https://ping.huatuo.qq.com/tcloud.tim.qq.com
- [单击检测域名 gmeconf.qcloud.com](https://ping.huatuo.qq.com/gmeconf.qcloud.com)，或直接复制链接 https://ping.huatuo.qq.com/gmeconf.qcloud.com
- [单击检测域名 yun.tim.qq.com](https://ping.huatuo.qq.com/yun.tim.qq.com )，或直接复制链接https://ping.huatuo.qq.com/yun.tim.qq.com

请在出现网络问题的机器上，使用浏览器分别打开以上三个链接，等待检测执行完毕（预计5 - 10秒），单击【复制结果 URL 分享】，将结果复制下来，并提供给腾讯云工作人员。
![](https://main.qcloudimg.com/raw/b39f9f0ce7f31b2224b7df87450cc8e0.png)

**诊断 SSO**：
请在出现网络问题的机器上，[单击检查域名 tcloud.tim.qq.com](https://tcloud.tim.qq.com)，查看显示内容，截图或者将显示内容拷贝下来提供给腾讯云工作人员。
示例：{"ActionStatus":"FAIL","ErrorCode":60002,"ErrorInfo":"HTTP parse Error"}

### 使用实时语音服务，进入实时语音房间后，手机切后台会自动退出房间吗？

此时客户端与服务器保持90s心跳联系，如果发现心跳暂停，90s后服务器主动将客户端踢出房间。

### 用户在实时语音房间内，但是客户端断网了，将有什么策略？

如果因为网络断开，60分钟内会一直重连，60分钟后，将回调 ITMG_MAIN_EVENT_TYPE_ROOM_DISCONNECT。重连后，不需要设置麦克风和扬声器状态。


### 房间号有回收 API 吗？

没有回收 API，最后一个人退房，房间将会自动销毁。

### 如果有退房后立即进房的场景，调用流程应该是怎么样的？

如果应用中有退房后立即进房的场景，在接口调用流程上，开发者无需要等待 ExitRoom 的回调 RoomExitComplete 通知，只需直接调用接口。


### 离开房间和进入房间是异步的操作么？这两个接口可以同时调用么？

需要先调用 exitroom，收到退房成功的回调以后再调 enterroom。如果应用中有退房后立即进房的场景，在接口调用流程上，开发者无需要等待 ExitRoom 的回调 RoomExitComplete 通知，只需直接调用接口。


### 成员状态同步的时机是？第一次进房会不会通知？

音频事件的通知有一个阈值，超过这个阈值才会发送“有成员发送音频包”通知。房间成员两秒没有说话，才会发送“有成员停止发送音频包”通知。第一次进房会通知。



### 加入黑名单之后退房，黑名单的作用还在吗？

退出语音房间后，黑名单失效。


### 使用实时语音范围语音功能，能正常使用范围语音，但是没有衰减效果，我设置了3D音效文件，返回值也是0。

确认有无开启3D音效接口EnableSpatializer，然后确认有无更新自身坐标：[UpdateSelfPosition和UpdateAudioRecvRange](https://cloud.tencent.com/document/product/607/18218)。
