
### 图片处理服务可以处理哪些格式的图片？
图片处理目前支持处理 JPG、BMP、GIF、PNG、WEBP 格式，并且支持 HEIF 格式的解码和处理操作。

### 图片处理的图片限制是？
处理图片原图大小不超过20MB、宽高不超过30000像素且总像素不超过1亿像素，处理结果图宽高设置不超过9999像素；针对动图，原图宽 x 高 x 帧数不超过1亿像素。

### 图片处理的数据存储在哪里？
图片处理的数据存放在腾讯云 [对象存储](https://cloud.tencent.com/document/product/436) 上。您可以在上传时进行图片处理，将处理结果持久化保存，或者在下载时进行图片处理。

### 存量图片如何迁移至腾讯云？
使用 COS 迁移工具 [COS Migration](https://cloud.tencent.com/document/product/436/15392) 或者使用 [迁移服务平台 MSP](https://cloud.tencent.com/document/product/659) 进行迁移即可。
>? 迁移时，需要您提供源站 Bucket 名称及相应 List 权限。
>

### 如何在不影响现网图片使用的情况下切换至腾讯云数据万象服务？

使用 COS 的镜像回源功能，将 COS Bucket 与源站绑定，之后将图片处理域名切换为万象域名即可（数据万象将回源至源站拉取原图并进行处理，同时 COS 将异步拉取图片）。该方法可实现图片迁移，但只能触发所请求资源的迁移。

### CDN 域名是否支持图片处理？
数据万象支持通过 CDN 域名进行图片处理。用户只需在数据万象控制台开启 CDN 加速，或通过 CDN 控制台将加速域名的源站设置为数据万象的域名（使用自有源将万象域名填入）即可。详情请参见 [域名管理](https://cloud.tencent.com/document/product/460/6937)。

### 能否在一次请求中实现多种处理？
可以。只需使用样式分隔符即可实现。例如`url?imageMorg2/cut/400x400|watermark/1/xxx`能够同时对图片实现裁剪和添加水印。

### 处理后的图片是否会被存储下来？
直接通过 API 接口，在下载时进行的图片处理不会被存储在客户的存储空间中。

### 图片处理能否在上传或下载时进行？
图片上传、下载时均可进行图片处理，且用户可对已存放在 COS 上的现有数据进行图片处理。

### 图片处理的链接是否支持加密访问？
支持。您可以对照我们配置相应的编解码规则，将访问链接进行加密处理。加密访问是定制化规则，如果有需求请 [提交工单](https://console.cloud.tencent.com/workorder/category) 进行申请。

### 如何对图片同时做多种处理操作？
以同时做裁剪+水印为例，使用 “l” 管道操作符将处理参数连接，可达到顺序处理的效果。详情请参见 [管道操作符](https://cloud.tencent.com/document/product/1246/45374)。

### 微信小程序的多处理规则无效应该怎么办？
以使用管道操作符 “|” 无效为例，管道操作符 “|” 在微信小程序中会被转义或截断，则需要对该操作符做重新定义。
解决方案如下：
- 使用样式。
- 把操作符 “|” 替换成 “%7C”。

### 为什么无论加什么参数，图片质量、大小都未改变？
原因可能是原图 EXIF 信息过多，占了大部分图片容量，一次调整图片分辨率后，图片大小没有太大的变化。可使用 Strip参数，过滤 EXIF 信息。具体使用方法请参照 [去除元信息](https://cloud.tencent.com/document/product/1246/45367)。

### 水印图未生效的原因有哪些？
水印图未生效的常见原因有如下几点：
- 水印图与需要添加水印的原图不在同一 Bucket。
- 水印图的 URL 链接格式错误。（例如，URL 必须以`http://`开始，不能省略开头的 http，也不能填成 https）
- 水印图的 URL 必须使用万象优图源站的域名，不可使用 CDN 加速域名等其他域名。


### 什么是 URL 安全的 BASE64 编码？

在数据万象的处理操作中，有很多参数需要进行 URL 安全的 BASE64 编码，例如文字水印的文字内容、颜色、字体设置和图片水印的水印图链接。URL 安全的 BASE64 编码具体规则为：
1. 将普通 BASE64 编码结果中的加号（+）替换成连接号（-）。
2. 将编码结果中的正斜线（/）替换成下划线（\_）。
3. 保留编码结果中末尾的全部等号（=）。


### 使用数据万象对大于20MB的图片进行图片处理会返回什么结果？
对于大于20MB的图片处理请求，数据万象将返回（302），并跳转到对象存储对应的资源链接进行原图下载。
