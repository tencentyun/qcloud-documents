
## 数据淘汰
云数据库 Memcached 为存储产品，不支持数据淘汰，即数据写满后不会自动删除最老的数据。用户必须自行设置 expire 过期时间，并在云数据库 Memcached 中开启 expire 过期删除功能。

## key 和 value 的长度限制
考虑到数据拷贝的延时，云数据库 Memcached 对 key 和 value 的长度做出了限制：key 长度限制为不超过10K；value长度限制为不超过1M（Memcached 开源协议限制为1M），必要时建议压缩 value。

## 性能限制
云数据库 Memcached 支持最大访问能力为10000次/秒/GB，如果超出服务可能会变慢。这里的容量 GB 是指实际分配的容量，不是最大容量上限。

例如：实际分配的容量为50GB，这50GB的数据支持每秒访问次数是 50 * 10000 = 500000次。

如果超过10000次/秒/GB，系统会丢弃超出的请求。

当前提供的10000次/秒/GB访问量已经能够满足大部分应用的访问需求。如果访问量超过 10000次/秒/GB，请 [提交工单](https://console.cloud.tencent.com/workorder/category) 进行接口/端口扩容申请。

## 客户端以及连接数访问限制
1. 云数据库 Memcached 是分布式系统，不能支持异步客户端，例如 Spymemcached。
也就是说同一个连接上连续发送请求 A、B、C 后，其回复顺序是不确定的，任何基于顺序的逻辑都不能正常使用，因此必须使用一问一答的同步模式开源客户端。
2. 云数据库 Memcached 的 socket 连接有超时限制。如果从上一次访问后的180秒内，客户端没有访问请求，则连接会自动断开。因此客户端每180秒内至少要发送一次访问请求。
3. 到一台 Memcached 的 socket 连接数是有上限的，但此上限远大于客户端能够创建的临时端口数，因此使用时无需关注。

## 协议限制
1. 云数据库 Memcached 支持 Memcached 协议，详见 [兼容的协议说明](https://cloud.tencent.com/document/product/241/1575)，因此支持文本和二进制协议。 
2. 理论上二进制解码速度快于文本，但实际优势微乎其微。且目前大部分用户还是使用文本协议，比较简单稳定。使用二进制的比较少。
3. Memcached 的标准协议存在部分缺陷，用户需要特别注意。详见 [标准协议缺陷解决方案说明](https://cloud.tencent.com/document/product/241/1576)。

## 安全和容灾限制
云数据库 Memcached 提供主从热备，通过定期镜像和实时流水同步来备份。如果 Memcached 掉电，在极端情况下会损失短时间未落盘的数据，但是概率极小。


## 容量增长限制
为防止业务异常使实例容量增长过快导致您的费用损失，我们会巡检出容量增长过快的实例，超过20GB开始纳入巡检范围，当日的数据增量超过20%后，实例停止自动扩容，如果您有实例超过20GB，日增量超过20%的扩容需求，请 [提交工单](https://console.cloud.tencent.com/workorder/category) 联系我们。
