
云数据库 PostgreSQL 支持用户创建多个只读实例并组成只读实例 RO 组，适用于读写分离和一主多从应用场景，可显著提高用户数据库的读负载能力。本文主要介绍 RO 组的部分管理功能。

## 流量重均衡
- 关闭重新负载均衡时，修改权重仅对新增负载生效，不改变原长连接所访问的只读实例，不会引起数据库闪断。
- 开启重新负载均衡时，当 RO 组中的只读实例升级后，其读权重值发生了变化，当只读实例升级完成后， RO 组中的所有连接将重新被断开。所有新增连接将按照设置的权重均衡负载。
如果您对当前 RO 组中各实例的连接数分配不太满意，也可以手动重新均衡连接。登录 [控制台](https://console.cloud.tencent.com/postgres)，单击实例名进入管理页，在【只读实例】页中对实例【重新均衡】。

>!请保证您的业务具有自动重连机制。若无自动重连机制，请勿开启自动重均衡和手工重均衡。

## 故障剔除
当只读实例 RO 组中的只读实例因意外导致无法访问时，RO 组将自动将此只读实例进行剔除，此规则为默认规则。

## 延迟剔除
开启延迟剔除功能后，可根据用户配置的延迟大小来决定只读实例是否从 RO 组中剔除。延迟大小是指主实例与只读实例之间数据同步的日志大小差异，配置粒度为MB。

## 读权重分配
只读实例 RO 组中的所有只读实例流量分配将根据读权重值来自动分配，可实现负载均衡能力，避免因管理多个只读实例地址而增加 IP 地址的管理难度。RO 组仅支持系统自动分配权重。关于不同规格的只读实例的读权重值列表如下：
<table>
<tr><th>实例规格</th><th>权重</th></tr>
<tr><td>内存2GB</td><td>1</td></tr>
<tr><td>内存4GB</td><td>2</td></tr>
<tr><td>内存8GB</td><td>2</td></tr>
<tr><td>内存12GB</td><td>4</td></tr>
<tr><td>内存16GB</td><td>4</td></tr>
<tr><td>内存24GB</td><td>8</td></tr>
<tr><td>内存32GB</td><td>8</td></tr>
<tr><td>内存48GB</td><td>10</td></tr>
<tr><td>内存64GB</td><td>12</td></tr>
<tr><td>内存96GB</td><td>14</td></tr>
<tr><td>内存128GB</td><td>16</td></tr>
<tr><td>内存240GB</td><td>26</td></tr>
<tr><td>内存480GB</td><td>50</td></tr>
</table> 

## 相关操作
- 云数据库 PostgreSQL 支持用户创建一个或多个只读实例，请参见 [创建只读实例](https://cloud.tencent.com/document/product/409/49547)。
- 云数据库 PostgreSQL 支持用户创建多个只读实例并组成只读实例 RO 组，请参见 [管理只读实例 RO 组](https://cloud.tencent.com/document/product/409/49548)。
