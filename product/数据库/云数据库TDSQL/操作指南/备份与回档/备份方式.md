云数据库 MariaDB 支持全量备份和增量备份。备份采用 LZ4 方式压缩，使用方式请参见 [解压备份和日志文件](https://cloud.tencent.com/document/product/237/2088)。

## 备份类型
#### 全量备份
全量备份可设置备份保存时长和备份执行时间，备份保存时长默认为7天。

#### 增量备份
增量备份以 binlog 方式提供，binlog 实时生成（将占用一定数据盘空间），并定期上传至云数据库备份系统。

## 自定义备份时间
1. 登录 [MariaDB 控制台](https://console.cloud.tencent.com/mariadb)，单击实例 ID 或**操作**列的**管理**，进入实例管理页面。
2. 在实例管理页面，单击**备份与恢复**。
3. 在**备份与恢复** > **备份和日志设置**页，可设置存储时间和备份执行时间。
 - 存储时间：数据和日志备份文件保留的天数，默认为7天，可设置1天 - 365天。
 - 备份执行时间：每日开始备份的时间，默认为全天，可设置任意时间段，以小时为单位。
>?日志备份默认开启，不可关闭。日志包括错误日志，慢日志，事务日志（binlog）等。
>
![](https://qcloudimg.tencent-cloud.cn/raw/b942eff1e3ae4a6efaeab7c2f6cb461b.png)
>?若备份失败，存在以下三种处理逻辑：
>- 自动修复：数据库每隔数小时检查 COS 存储中是否有备份缺失，如有备份缺失，则重新启动一次自动备份。
>- 告警检查：备份失败次数超过一定次数后，将在腾讯云后台生成告警，后台工作人员将针对失败原因进行处理。
>- 兜底方案：未避免备份失败较多次导致无备份可用，数据库会保证至少保留一个备份，即中间备份缺失后，最早的备份到期后也不会删除。
>![](https://qcloudimg.tencent-cloud.cn/raw/33a11cafa0e2cfbeb0b357fc79ecccae.png)

