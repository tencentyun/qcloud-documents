本文将为您介绍如何通过控制台创建、管理灾备/只读实例。

## 操作场景
针对业务连续服务和数据可靠性有强需求或是监管需要的场景，云数据库 MariaDB 提供跨可用区、跨地域灾备/只读实例，帮助用户以较低的成本提升业务连续服务的能力，同时提升数据的可靠性。
>?灾备/只读实例费用与主实例相同，请参见 [产品定价](https://cloud.tencent.com/document/product/237/44843)。


## 适用场景
- 异地灾备：灾备实例可用于对业务和数据进行多地备份，来保证数据的安全性。 当一个可用区/地域发生故障，可以迅速切换到跨可用区、跨地域的灾备实例，尽可能减少故障对业务的影响。
- 就近接入：业务在一个可用区/地域作为主实例写入，另外的可用区/地域作为只读实例，为用户提供就近接入、异地读能力，改善访问速度。
- 多地域部署：MariaDB 提供多地域部署能力，当一个可用区/地域遇到网络波动或者不可用的情况，能根据业务情况手动切换到另一个可用区/地域上。

## 功能特点
- 提供独立的数据库连接地址，灾备/只读实例可提供读访问能力，用于就近接入、数据分析等场景，设备冗余成本低。
- 一个主实例可以创建多个灾备/只读实例，部署在不同的地域、可用区。
- 灾备/只读实例支持一主一从、一主两从高可用架构，避免了数据库的单点风险。
- 如果主实例发生故障，可在数秒内激活灾备/只读实例，恢复完整读写功能。
- 灾备/只读实例通过内网专线同步，具有较低的同步时延和更高的稳定性，同步链路质量远优于公网网络。
- 目前推广期专线流量费用免费，商业化收费时间将另行通知。

## 功能限制
- 灾备/只读实例暂不支持：参数设置、帐号管理功能。
- 灾备/只读实例数据库版本默认保持与主实例相同，实例规格、硬盘大小需要大于等于主实例。

## 操作步骤
### 创建灾备/只读实例
1. 登录 [MariaDB 控制台](https://console.cloud.tencent.com/mariadb)，在实例列表，单击实例名，进入实例管理页面。
2. 在实例详情页的实例架构图中，单击【添加灾备/只读实例】，进入实例购买页。
![](https://main.qcloudimg.com/raw/ef9480907efb8ffa2a23ba6f63accdaf.png)
3. 在购买页中，设置灾备/只读实例的“计费模式”、“地域”等基本信息，单击【立即购买】。
>?
>- 创建时长受数据量的影响，期间主实例的控制台操作会被锁定，请妥善安排。
>- 暂只支持整个实例数据同步，请确保磁盘空间充足。
>- 请确保主实例状态为运行中并且没有任何任务执行，否则同步任务有可能失败。  
3. 支付完成后，返回实例列表，初始化实例后，即可进行后续操作。


### 管理灾备/只读实例
- **查看灾备/只读实例**
 灾备/只读实例可在其所在地域查看，可在实例列表筛选出该地域全部灾备/只读实例。
![](https://main.qcloudimg.com/raw/10183e27c9b8c50aa3b3e44aa55a9eb4.png)
- **查看从属关系**
在实例详情页的实例架构图中，可查看从属关系。
![](https://main.qcloudimg.com/raw/c5e54f21391af0be117c78175e9cd59a.png)
- **灾备/只读实例功能**
 灾备/只读实例提供实例详情、系统监控、数据安全性、备份与恢复、性能优化功能。
 ![](https://main.qcloudimg.com/raw/cd765233b61015c9084f1a5ef8aef857.png)
 
### 灾备/只读实例升级为主实例
当您需要切换灾备/只读实例为主实例时，可在控制台主动切换灾备/只读实例为主实例。
1. 登录 [MariaDB 控制台](https://console.cloud.tencent.com/mariadb)，在实例列表，选择所需灾备/只读实例，单击实例名，进入实例管理页面。
2. 在实例管理页面，单击右上角的【切换为主实例】，即可将灾备/只读实例升级为主实例。切换后将断开与原主实例的同步连接，恢复实例数据库数据写入能力和完整的 MariaDB 功能。
>!同步连接断开后不可重连，请谨慎操作。
> 

