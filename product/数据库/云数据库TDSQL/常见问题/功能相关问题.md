### MariaDB 的典型应用场景有哪些？
__场景1：数据云灾备（异地灾备）__    
数据是企业运营的重要组成，信息化带来便利的同时，电子数据、存储信息极易毁损、灭失的特点也暴露了出来。而在自然灾害、系统故障、员工误操作和病毒感染面前，任意一次事故就有可能导致企业的运营完全中断，甚至灾难性损失。因此，确保数据的安全完整性，特别是核心数据库的安全和完整性是每个企业必须考虑的。
而企业自建异地数据灾备中心通常耗资巨大，通常包括一笔开支巨大的机房硬件，软件成本，还包括每年运营费用的持续维护投入。而为了小概率事件买单，往往与企业的财务需求不符。
因此，利用云数据库和云接入产品，可以直接建立云上的一套数据灾备中心，将主数据中心的数据，通过安全专网，实时同步到云上的异地备份中心。不仅解决海量数据的运营管理的问题，而且性价比高。

 __场景2. 业务系统上云__ 
如果您的业务系统还未上云，那么您可能会遇到这些情况，例如：
 - 业务发展非常快，每年若按峰值准备服务器，其增长规模都是非常大的一笔开销。
 - 而新业务部门为了，经常需要快速上线新业务，如果每次都要做准备和采购势必影响效率。
 - 几乎每个业务系统都遭遇过访问量激增，再创历史新高，后端资源无法支撑的情况。
 - 而不少企业领导认为IT部门就是成本中心，每天关心的核心问题不是推进业务，而是一直在解决问题，要不是系统不稳定，要不性能不足。
面对业务系统上云等一系列挑战，腾讯云云数据库通过多年的积累，能够为用户提供：
 - 安全、开放的数据库解决方案；
 - 提供高可用的方案，采用强同步复制技术和高可用（HA）架构实现高容灾；
 - 支持弹性伸缩；

__场景 3. 混合云__ 
云数据库TDSQL支持专有云部署方案，可以部署在用户自建机房。业务系统和数据通过专线（或VPN）进行安全同步，构建易扩展的混合云架构。

 __场景4.读写分离__ 
 云数据库所有实例的备机均默认支持读写分离策略——即支持备机开放只读；
 - 支持通过SQL语法或只读帐号实际只读
 - 如果您选择的配置有多个备机，将自动负载的只读策略
 - 可通过升级配置，增加更多备机

 __场景5.开发测试__ 
您可能需要维护多个软件版本环境进行测试，甚至需要大量资源进行压力测试。
传统方案是自建服务器和数据库来支撑该需求，然而这样就会浪费大量的硬件资源，因为开发人员不会时时刻刻的使用测试资源，因此测试资源往往是闲置的，而利用云服务器、云数据库的弹性伸缩，可以有效的解决基于测试资源不足或测试资源浪费的问题。

### MariaDB 中的帐号权限，能不能针对某个表的某个字段设置 设置成 只写不读？
MariaDB权限设置最小粒度为表，不是字段；此处与MySQL完全兼容。

### MariaDB 大量删除数据的有效方法是？
该方法类似于批量插入建议他清理的时候一次清理少一点，比如１万条，循环删除。

### MariaDB 开发要用 group_CONCAT 这个函数，但长度有限制，自己想设置，但没有权限？
group_concat_max_len在管理中心参数设置中修改。

### MariaDB 是什么？
腾讯云云数据库MariaDB（TDSQL）定位于OLTP场景下高安全性的企业级云数据库，十余年来一直应用于腾讯计费业务， [MariaDB(TDSQL)兼容MySQL语法](https://cloud.tencent.com/document/product/237/6988) ，拥有诸如线程池、审计、异地容灾等高级功能，同时具有云数据库的易扩展性、简单性和性价比。

### MariaDB 内核基于MariaDB 10.X？
MariaDB（TDSQL）内核基于MariaDB 10.X。
具体版本参见实例具体说明。

### MariaDB 分布式架构是什么样的？
请参见分布式云数据库DCDB详细说明。

### MariaDB 标准与认证？
MariaDB(TDSQL)现已代表腾讯云云数据库通过多项国家或国际认证，包括但不限于：
- 软件著作权
- ISO22301认证
- ISO27001认证
- ISO20000认证
- ISO9001认证
- 可信云服务认证
- 信息安全等级保护
- STAR认证
MariaDB(TDSQL)部分功能设计标准参考：
- GBT 20273-2006 信息安全技术 数据库管理系统安全技术要求
- JRT 0072-2012 金融行业信息系统信息安全等级保护测评指南

### MariaDB 参数设置，没有我需要修改的数据库参数或某些参数无法修改怎么办？
腾讯云数据库管理中心支持大多数常见数据库参数，并对其设置了安全阀值，如果您需要修改的参数不存在，或无法修改为指定值，请提交工单，我们会尽快为您处理。

### 如何使用mysqldump导入mariadb数据库数据？
使用 mysqldump 工具的优点是简单易用、容易上手，缺点是停机时间较长，因此它适用于数据量不大，或者允许停机的时间较长的情况。
1、使用 mysqldump 的数据导出工具，将本地数据库数据导出为数据文件。
说明： 导出期间请勿进行数据更新。本步骤仅仅导出数据，不包括存储过程、触发器及函数。
``` 
mysqldump -h localIp -u userName -p --opt --default-character-set=utf8 --hex-blob dbName --skip-triggers > /tmp/dbName.sql

参数说明：

localIp：本地数据库服务器 IP 地址
userName：本地数据库的迁移账号
dbName：需要迁移的数据库名
/tmp/dbName.sql：备份生成的文件名
``` 

2、 使用 mysqldump 导出存储过程、触发器和函数。
说明： 若数据库中没有使用存储过程、触发器和函数，可跳过此步骤。在导出存储过程、触发器和函数时，需要将 definer 去掉，以兼容 云数据库。
``` 
mysqldump -h localIp -u userName -p --opt --default-character-set=utf8 --hex-blob dbName -R | sed -e 's/DEFINER[ ]*=[ ]*[^*]*\*/\*/' > /tmp/triggerProcedure.sql
参数说明：

localIp：本地数据库服务器 IP 地址
userName：本地数据库的迁移账号
dbName：需要迁移的数据库名
/tmp/triggerProcedure.sql：备份生成的文件名
``` 
3、将数据文件和存储过程文件上传到 云服务器 CVM 上。
请确保CVM和云数据库CDB能正常连通，且CVM存储空间足够。

4、登录 CVM，将数据文件和存储过程文件导入到目标 云数据库 中。
请确保您拥有相应权限的数据库帐号，否则可能需要前往控制台生成帐号
``` 
mysql -h xxx.xxx.xxx.xxx:xxxx –u userName -p dbName < /tmp/dbName.sql
mysql -h xxx.xxx.xxx.xxx:xxxx -u userName -p dbName < /tmp/triggerProcedure.sql
参数说明：

xxx.xxx.xxx.xxx:xxxx  实例连接地址，本例以内网地址为例
userName：RDS 数据库的迁移账号
dbName：需要导入的数据库名
/tmp/dbName.sql：要导入的数据文件名
/tmp/triggerProcedure.sql：要导入的存储过程文件名
```


### mariadb数据库有哪些功能限制？
1.不能更改mysql、information_schema、performance_schema和sysdb库中的任何数据
2.无法直接通过SQL语句进行帐号和赋权操作，只能通过管理控制台进行
支持常见的19种权限，少量不常见权限不支持，具体支持的权限列表如下：
- SELECT、INSERT、UPDATE、DELETE、CREATE、DROP、REFERENCES、INDEX、ALTER
- CREATE TEMPORARY TABLES、LOCK TABLES、EXECUTE、CREATE VIEW、SHOW VIEW
- CREATE ROUTINE、ALTER ROUTINE、EVENT、TRIGGER、SHOW DATABASES
3.不提供超级管理员帐号
4.采用InnoDB存储引擎，暂不开放其他存储引擎

### 如何对mariadb数据库进行回档？
1.数据库回档说明
通过数据库回档能力，可以最大程度地减少系统损失；CDB for MariaDB(TDSQL)可以根据备份和日志保持情况，回档到30天内的任意时刻。
CDB for MariaDB(TDSQL)的回档功能不会影响现网生产实例，CDB for MariaDB(TDSQL)的回档可以直接回档到腾讯云创建的一个临时实例。临时实例可以支持读写，这样可以更灵活的对回档实例进行修改（如清理脏数据）；临时实例数据修正完毕后，可以通过“实例切换”将临时实例切换到现网生产实例。
回档过程中有以下限制条件：
- 在进行回档并创建临时实例的过程中，实例切换过程中，现网生产实例的部分管理功能将不可用，操作完成即可恢复数据库管理操作；
- 回档操作有可能会对二进制日志（BINLOG）进行强行分片，即未达到100M 也会被备份为一个独立文件；
- 回档后的临时实例具备现网生产实例的参数信息（比如账户、数据库参数等），但不能修改。
具体回档方法请见下：
![图片描述](//bot1024-1253841380.file.myqcloud.com/16afb4c2c5e611e79ca95254000ab150.png)

2.临时实
临时实例是CDB for MariaDB(TDSQL)基于备份生产的一个仅用于临时调整的实例，有效期仅有48小时。临时实例具备以下特性：
- 具备读写特性；
- 生命周期仅有48小时，48小时后删除；
- 一个实例同时只具备一个临时实例；
- 临时实例可以随意删除。
- 临时实例查看的位置：
![图片描述](//bot1024-1253841380.file.myqcloud.com/32432156c5e611e788145254000ab150.png)

3.实例切换
实例切换是将临时实例切换为现网生产环境。当用户检查临时实例数据回档OK，可以对临时实例进行切换，此时会更换源实例和临时实例的内网链接。
- 切换过程中，现网生产实例可能闪断1秒；
- 切换完成后，原生产实例会被删除；
- 切换完成后，临时实例被替换为现网生产实例，而原临时实例也会被删除。
切换操作见下图：
![图片描述](//bot1024-1253841380.file.myqcloud.com/51c19922c5e611e788145254000ab150.png)
