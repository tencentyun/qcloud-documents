云数据库 MariaDB 提供升级定时切换能力，可以支持您在业务低谷期自动升级切换，有如下优点：
- 精准控制升级时间和节奏，减少业务可能的中断时间。
- 提前规划升级方案，减少不可控的升级风险。
- 提供无需值守的数据库维护方案。

## 数据库升级原理
单击云数据库升级后，云运维管理系统通常按以下步骤执行：
1. 按需要升级的配置分配一个新的实例（以下简称“新实例”）。
2. 将需要升级的实例（以下简称“老实例”）的数据、配置等同步到新实例。
3. 同步完成后，在腾讯云网关做路由切换，切换到新实例继续使用。
![](https://mc.qcloudimg.com/static/img/b746129256a7115a5fd108cbf0baefcd/%7B9EA720D4-E227-4DCB-9E1C-A13B8110CBA5%7D.png)


## 升级定时切换
实例升级配置的最后一步是在腾讯云网关上做路由切换，因此我们提供一种在指定时间切换的能力，帮助业务方在指定时间（通常是业务低谷）将数据库切换到新配置上：
1. 登录 [MariaDB 控制台](https://console.cloud.tencent.com/tdsql)，在实例列表，选择操作列的【更多】>【升级】。
2. 在弹出的对话框，可设置切换时间。
>!
>- 切换时间通常有15分钟左右误差，因为切换过程中可能存在大事务大量写入请求，进而影响数据同步进度，此时系统会优先保障新老实例同步。
>- 最长可配切换时间≤72小时，请合理规划。
>- 请务必选择业务低谷期，避免影响业务稳定运行。
>- 请务必确保业务有重连数据库机制。
>
![](https://main.qcloudimg.com/raw/ff7364af1c8ba61847a236cdb00566a9.png)

