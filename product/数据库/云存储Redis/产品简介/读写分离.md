云数据库 Redis 支持开启和关闭读写分离功能，针对读多写少的业务场景，解决热点数据集中的读需求，最大支持1主5从模式，提供最大5倍的读性能扩展能力。

## 读写分离原理
#### Redis（社区版）
- **读写分离原理**: 兼容 Redis 4.0 及以上的标准版和集群版，通过 Proxy 层实现自动读写分离。
- **读写分离权重**: 开启读写分离 Proxy 将按照主节点只写，从节点平均分配读请求的方式来提供访问。
![](https://main.qcloudimg.com/raw/890f286cb28cf42ff180beddb9466a05.png)

#### Redis（CKV 版）
- **读写分离原理**: CKV 版本系统天生支持读写分离架构，所有请求通过负载均衡（CLB）网关分配到各个集群的各个节点，每个节点都有全局的 Slot 路由信息。开启读写分离后，如果读取的 Key 落在该节点将直接读取数据返回，否则将会根据路由信息将请求转发到对应的节点，由对应节点读取数据后返回该节点，然后返回客户端。
- **读写分离权重**: CKV 版本的请求靠 CLB 分发，所以读写权重是按照 TCP 连接的四元组（源 IP、源端口、目的 IP、目的端口）来平均分配的。
![](https://main.qcloudimg.com/raw/d3be5c6ab394a626446328f4c59472eb.png)
