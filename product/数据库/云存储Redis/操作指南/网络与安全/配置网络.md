## 网络简介

腾讯云网络环境分为 [私有网络 VPC](https://cloud.tencent.com/document/product/215) 和基础网络，推荐您使用私有网络。私有网络是一块您在腾讯云上自定义的逻辑隔离网络空间，与您在数据中心运行的传统网络相似，托管在腾讯云私有网络内的是您在腾讯云上的服务资源，包括 [云服务器](https://cloud.tencent.com/doc/product/213/495)、[负载均衡](https://cloud.tencent.com/doc/product/214/524)、[云数据库](https://cloud.tencent.com/document/product/236/5147) 等。
基础网络与私有网络区别如下：
- 基础网络是腾讯云上所有用户的公共网络资源池，所有云服务器的内网 IP 地址都由腾讯云统一分配，无法自定义网段划分、IP 地址。
- 私有网络是用户在腾讯云上建立的一块逻辑隔离的网络空间，在私有网络内，用户可以自由定义网段划分、IP 地址和路由策略。两者相比，私有网络较基础网络更适合有网络自定义配置需求的场景。
  - 子网是私有网络的一个网络空间，云资源部署在子网中。一个私有网络中至少有一个子网，因此在创建私有网络时，会同步创建一个初始子网。当您有多业务需要部署在不同子网，或已有子网不满足业务需求时，您可以在私有网络中继续创建新的子网。
  - 子网具有可用区属性，同一私有网络下可以创建不同可用区的子网，同一私有网络下不同可用区的子网默认可以内网互通。
![](https://qcloudimg.tencent-cloud.cn/raw/eadfeac00fadeb298413d42ef091e38d.png)

## 使用须知

- 支持基础网络切换为私有网络，不支持私有网络切换为基础网络。
- 支持私有网络切换其他私有网络，支持切换同一私有网络下不同的子网。
- 切换网络之后，新的网络地址立即生效，原地址上所有连接将断开。原网络地址保留时长最长为15天。

> !为保证服务可用性和业务不中断，请根据业务需要及时更新 IP 地址，谨慎释放旧 IP 地址。

## 前提条件

- 已创建数据库实例，且已配置基础网络或私有网络。具体操作，请参见 [创建实例](https://cloud.tencent.com/document/product/239/30871)。
- 已创建待切换的私有网络环境。具体操作，请参见 [创建私有网络](https://cloud.tencent.com/document/product/215/20121)。
- 数据库实例的状态为**运行中**，即无其他任务运行。

## 更换网络

1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)。
2. 在右侧实例列表页面上方，选择地域。
3. 在实例列表中，找到目标实例。
4. 单击目标实例 ID，进入**实例详情**页面。
5. 在**实例详情**的**网络信息**区域，可看到当前 Redis 实例所属网络和内网地址，单击**所属网络**后面的**更换网络**。
可从基础网络转换为私有网络或从当前私有网络更换到另一个私有网络。
![](https://qcloudimg.tencent-cloud.cn/raw/67e0121518876675ddf45b99ff330a52.png)
6. 在**更换网络**对话框，配置新网络信息，单击**确定**。
   - **网络**：在**网络**后面的下拉列表分别选择私有网络及其子网。
   - **新IP地址**：可选择**自动分配**或**指定地址**。选择指定地址，请在后面的输入框自定义 IP 地址。
   - **旧IP地址**：设置旧 IP 地址的释放时间，支持选择**立即释放**、**1天后释放**、**2天后释放**、**3天后释放**、**7天后释放**、**15天后释放**，以保证业务在更换网络时不中断。
![](https://qcloudimg.tencent-cloud.cn/raw/2142629b7c3c33d0e67bad9b0c1e9fbc.png)

## 更换子网

>!
> - 仅所属网络为私有网络时，提供更换子网功能。
> - 仅同可用区支持更换子网操作。

1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)。
2. 在右侧实例列表页面上方，选择地域。
3. 在实例列表中，找到目标实例。
4. 单击目标实例 ID，进入**实例详情**页面。
5. 在**网络信息**区域，可看到当前 Redis 实例所属网络和内网地址等，单击**更换子网**。
![](https://qcloudimg.tencent-cloud.cn/raw/b450659d9ecb72e5492267f6400a5094.png)
6. 在弹出的对话框，配置新的子网信息，单击**确定**。
![](https://qcloudimg.tencent-cloud.cn/raw/34283fd71808340a3ca7e9ddf9ed4a35.jpg)

## 相关 API

| API 接口                                                      | 接口含义         |
| ------------------------------------------------------------ | ---------------- |
| [ModifyNetworkConfig](https://cloud.tencent.com/document/api/239/34436) | 修改实例网络配置 |

