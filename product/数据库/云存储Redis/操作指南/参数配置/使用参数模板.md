云数据库 Redis 除了提供系统参数模板供您选择外，您也可以创建自定义参数模板，根据自己的业务场景，实现批量参数设置。

您可以使用数据库参数模板管理数据库引擎的参数配置。数据库参数组就像是引擎配置值的容器，这些值可应用于一个或多个数据库实例。

参数模板支持如下功能：
- 支持系统默认参数模板。
- 支持新建模板，以默认参数为基础，稍加修改就能生成自定义的参数优化方案。
- 支持从参数设置保存为模板。
- 单个或多个实例进行参数设置时，支持从模板导入。
>!
>- 已使用参数模板的数据库实例并不会随着参数模板更新而同步更新，需要手动批量更新数据库实例。
>- 如果您需要将新的参数应用到批量实例上，可通过批量参数设置时导入模板来重新应用。

## 新建自定义参数模板
当您想使用自己的数据库参数模板时，只需创建一个新的数据库参数模板，修改所需的参数并应用于您的数据库，就可以使用新的数据库参数模板。

1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)，在左侧导航选择**参数模板**页面，单击**创建模板**。
![](https://qcloudimg.tencent-cloud.cn/raw/28cec06803a9c93aa7b4ac592c285a2b.png)
2. 在弹出的对话框，配置如下参数，单击**创建并设置参数**。
 - **模板名称**：输入参数模板的名称，参数模板名称需具有唯一性。
 - **数据库版本**：选择需要的数据库版本。
 - **模板描述**：输入参数模板的简要说明。
![](https://main.qcloudimg.com/raw/86683bd247e3051f7af35c8c36b4b915.png)
3. 进入如下参数设置页面。确认信息无误，参数模板创建完成。
![](https://qcloudimg.tencent-cloud.cn/raw/aa4f7979badd183143f43e2cd58984e8.png)

## 系统默认模板
此模板展示了各个架构版本的系统默认模板，架构版本包含2.8标准架构、4.0标准架构、4.0集群架构、5.0标准架构和5.0集群架构。
![](https://qcloudimg.tencent-cloud.cn/raw/328d3450dc76fe1513d2ac20038cbc3d.png)

>!在系统默认模板页，单击模板列表的**查看详情**后，只能查看，不能进行其他操作。

## 应用参数模板于实例
### 实例使用阶段
1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)，在左侧导航选择**参数模板**页面。
2. 在参数模板列表，找到需要应用的模板，单击**操作**列的**应用到实例**，或单击**操作**列的**查看详情**进入详情页后，单击**应用到实例**。
![](https://qcloudimg.tencent-cloud.cn/raw/dfbba63f08be968761d96f01cc6d8daf.png)
3. 在弹出的对话框，选择参数的执行方式和实例，检查参数修改无误后，单击**提交**。
 - **Redis 实例**：选择对应地域下，需要应用参数模板的实例。
 - **参数对比**：可查看所选实例参数修改前、后的配置。
>!应用参数模板到多个实例上时，请确认参数是否适用这些实例，请您谨慎操作。
>
![](https://main.qcloudimg.com/raw/38eed91ac0494014dd1448762abbb14d.png)

### 实例购买阶段
您也可以在 [购买页](https://buy.cloud.tencent.com/redis) 购买实例时，为实例选择默认或自定义的参数模板。
- 参数模板已添加搜索框，单击**参数模板**，弹出的下拉菜单会加载控制台已有参数名称及参数 ID。
- 搜索框支持根据参数名称和参数 ID 搜索。

![](https://qcloudimg.tencent-cloud.cn/raw/956cf0f63e6eca6c43720827cf6a8aaf.png)

## 复制参数模板
当您已创建一个数据库参数模板，并且想在新的数据库参数模板中包含该组中的大部分自定义参数和值时，复制参数模板并进行修改，是一个有效的解决方案。

### 方式一：通过已有参数模板复制参数模板
1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)，在左侧导航选择**参数模板**页面，单击模板名或**操作**列的**查看详情**，进入模板详情页面。
2. 在模板详情页，单击**另存为模板**。
3. 在弹出的对话框，配置如下参数：
  - **模板名称**：输入参数模板的名称，参数模板名称需具有唯一性。
  - **模板描述**：输入参数模板的简要说明。
4. 确认无误后，单击**保存**即可将当前参数模板另存为新的参数模板，完成复制操作。

### 方式二：通过实例的参数设置功能复制参数模板
1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)，在左侧导航选择**实例列表**页面，单击实例 ID，进入实例管理页面。
2. 在实例管理页面，选择**参数设置**页，单击**另存为模板**。
3. 在弹出的对话框，配置如下参数：
 - **模板名称**：输入参数模板的名称，在参数模板名称需具有唯一性。
 - **模板描述**：输入参数模板的简要说明。
4. 确认无误后，单击**新建并保存**即可将当前参数模板另存为新的参数模板，完成复制操作。
>!在系统默认模板不提供**另存为模板**功能。

## 修改参数模板的参数值
1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)，在左侧导航选择**参数模板**页面，单击模板名或**操作**列的**查看详情**，进入模板详情页面。
2. 在模板详情页，单击**批量修改参数**，或在**参数当前值**列，单击<img src="https://main.qcloudimg.com/raw/788902e3f8c335cf17de420f7181c2a8.png"  style="margin:0;">修改参数值。
>!在系统默认模板，不提供**批量修改参数**功能，不能修改**参数当前值**。

## 删除参数模板
当您创建了多余的参数模板或者确定该参数模板已无使用价值，可通过删除参数模板功能删除不再使用的参数模板。
1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)，在左侧导航选择**参数模板**页面。
2. 在参数模板列表，在所需模板的**操作**列，单击**删除**。
3. 在弹出的对话框，单击**确定**即可删除参数模板。

 
## 相关 API

|  API 接口                                                     | 接口含义             |
| :----------------------------------------------------------- | :------------------- |
| [ApplyParamsTemplate](https://cloud.tencent.com/document/api/239/58753) | 应用参数模板         |
| [CreateParamTemplate](https://cloud.tencent.com/document/api/239/58752) | 创建参数模板         |
| [DeleteParamTemplate](https://cloud.tencent.com/document/api/239/58751) | 删除参数模板         |
| [DescribeInstanceParamRecords](https://cloud.tencent.com/document/api/239/34449) | 查询参数修改历史列表 |
| [DescribeInstanceParams](https://cloud.tencent.com/document/api/239/34448) | 查询实例的参数列表   |
| [DescribeParamTemplates](https://cloud.tencent.com/document/api/239/58750) | 查询参数模板列表     |
| [ModifyInstanceParams](https://cloud.tencent.com/document/api/239/34445) | 修改实例参数         |
| [ModifyParamTemplate](https://cloud.tencent.com/document/api/239/58749) | 修改参数模板         |



