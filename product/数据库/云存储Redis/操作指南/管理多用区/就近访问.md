在多可用区部署的情况下，为了降低业务访问 Redis 服务的时延，云数据库 Redis 提供就近访问的能力。就近访问原理如下：
- 业务需要开启副本只读，请注意业务要能接受副本数据延迟的情况。
- 通过参数配置开启副本就近访问功能。
- 负载均衡集群能够感知同可用区的 Proxy，并且在本可用区有 Proxy 节点可以访问的情况下，只访问本可用区的 Proxy。
- Redis 节点内置了可用区信息，Proxy 节点通过查询 Redis 节点的地理位置，将读请求路由到同可用区的节点。

## 开启就近访问
通过参数配置页面，您可以开启或者关闭就近访问功能，就近访问功能默认不开启，您可以手动开启或者通过参数模板配置，在创建实例时指定参数模板。

1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)，在实例列表，单击实例 ID，进入实例管理页面。
2. 在实例管理页面，选择**参数配置**页，通过 `read-local-node-only` 参数开启就近访问。
![](https://main.qcloudimg.com/raw/a19a0081a44b3b208ef90b9a34c56e13.png)

## 只读路由策略
副本只读的路由策略请参见 [只读路由策略](https://cloud.tencent.com/document/product/239/36710)。

云数据库 Redis 在开启副本只读时，可以指定只读路由策略，该策略可以控制账号是否要读主节点，当开启就近访问（read-local-node-only）功能后，就近访问的优先级要高于只读路由策略，因此在开启就近访问的情况下，只读路由策略的执行情况是优先读同可用区，然后再依照只读路由策略执行，示例如下：
1. 实例开启副本只读，并且设置了只读副本策略（不读主节点）。
2. 实例开启就近访问（read-local-node-only = yes）。
3. 实例在主可用区只有1个主节点。
4. 当主可用区的业务访问到主可用区的 Proxy 时，Proxy 会忽略只读副本策略（不读主节点），策略退化到读取主节点，优先保障不跨区访问。

