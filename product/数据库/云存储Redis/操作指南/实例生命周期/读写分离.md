云数据库 Redis 支持开启和关闭读写分离功能，针对读多写少的业务场景，解决热点数据集中的读需求，最大支持1主5从模式，提供最大5倍的读性能扩展能力。

## 读写分离原理

#### 社区 Redis 集群版
- **读写分离原理**: Redis 集群版通过 Proxy 层实现自动读写分离。
- **读写分离权重**: 开启读写分离 Proxy 将按照主节点只写，从节点平均分配读请求的方式来提供访问。
![](https://main.qcloudimg.com/raw/c6965cce2e652177ad04696df57b9456.jpg)

#### CKV 集群版
- **读写分离原理**: CKV 集群版系统天生支持读写分离架构，所有请求通过 LB（负载均衡网关）分配到各个集群的各个节点，每个节点都有全局的 Slot 路由信息。开启读写分离后，如果读取的 Key 落在该节点将直接读取数据返回，否则将会根据路由信息将请求转发到对应的节点，由对应节点读取数据后返回该节点，然后返回客户端。
- **读写分离权重**: CKV 集群版的流量全靠 LB 来路由，所以读写权重是按照 TCP 连接的四元组（源 IP、源端口、目的 IP、目的端口）来平均分配的。
![](https://main.qcloudimg.com/raw/1f07c6b9437fbcb2fbff10bffca2f29d.jpg)

## 读写分离计费
开启读写分离，将对只读副本收取一定的费用，具体费用请参见 [产品定价](https://cloud.tencent.com/document/product/239/9894)。

## 开启读写分离
1. 登录 [Redis 控制台](https://console.cloud.tencent.com/redis)。
2. 在实例列表页中，选择需要创建只读实例的云数据库，单击实例名称，进入实例详情页。
3. 在【节点管理】页，单击副本只读按钮，开启读写分离。
![](https://main.qcloudimg.com/raw/bc8c10e7481cf81ef4d97ce615870b4f.png)


