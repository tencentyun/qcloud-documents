## 计费模式
游戏数据库 TcaplusDB 仅支持按量计费模式，提供如下两种版本：

| 版本   | 计费模式   | 适用场景                                                     |
| ---------- | ---------- | ------------------------------------------------------------ |
| 标准集群版 | [按量计费模式](https://cloud.tencent.com/document/product/555/9617) | 针对测试业务、审核服务和开发业务而设计的根据每日使用峰值流量进行计费；当没有请求访问数据库时，只需要结算最低预留资源的费用即可。 |
| 独立集群版 | 按量计费模式 | 一般用于线上正式业务，主要是根据接入层和存储层数量来按日计费，当线上业务需要做活动时，提前预估业务峰值，提前对集群进行扩容；活动完成后将集群进行缩容，可灵活配置降低资费。 |

## 结算周期
按天结算，次日自动对前一天服务产生的费用进行扣费。

## 标准集群模式计费规则
标准集群版是按量计费模式，根据每天对数据库的读写峰值以及磁盘占用量来计算每日费用。

**TcaplusDB 每日费用 = 容量每日最高空间占用费用 + 每日读 CU 峰值费用 + 每日写 CU 峰值费用**

**名词解释**
- **容量**：主键列列名及属性列列名会在每行记录中计算入数据大小。
- **读 CU**：以每秒1次4KB单行读操作为1个预留读 CU（Read Capacity Unit，RCU，[读能力单元](https://cloud.tencent.com/document/product/596/44404)）。
- **写 CU**：以每秒1次4KB单行写操作为1个预留写 CU（Write Capacity Unit，WCU，[写能力单元](https://cloud.tencent.com/document/product/596/44404)）。
- **CU 计算规则**：每个请求响应完成后独立算 CU，然后再累加，按请求、响应中大的数值进行结算。不足4KB的按4KB算，超过4KB的以倍数算，多出部分按4KB算。例如，1秒内，1KB的请求操作带来9KB的响应。由于响应的大小大于请求的大小，所以按响应的值进行估算。9KB是4KB的2倍，算2个CU，另外多出1KB，按1CU算，合计3个CU。
- **CU 统计规则**：根据每日对数据库访问的峰值来决定本日结算时的费用，如当日中午12:00:00达到最高的数据库读峰值，那么就以此刻所产生的 RCU 作为今日的结算 RCU；如当日中午15:01:00达到最高的数据库写峰值，那么就以此刻所产生的 WCU 作为今日的结算 WCU。

### 价格表

| 地区         | 容量（元/GB/天） | 预留读（元/CU/天） | 预留写（元/CU/天） |
| ------------ | ---------------- | ------------------ | ------------------ |
| 中国大陆     | 0.036            | 0.013              | 0.030              |
| 中国香港     | 0.038            | 0.013              | 0.038              |
| 硅谷     | 0.040            | 0.014              | 0.038              |
| 弗吉尼亚 | 0.038            | 0.014              | 0.038              |
| 法兰克福 | 0.041            | 0.015              | 0.039              |
| 新加坡       | 0.042            | 0.017              | 0.040              |
| 东京         | 0.038            | 0.013              | 0.038              |
| 首尔         | 0.038            | 0.01756            | 0.04133            |

>?
>- 集群当创建完成后即产生费用，集群每日最低消耗为1GB磁盘空间，读 CU 80 ，写 CU 26，即使不创建任何表格也将产生费用：
>- 对于标准集群最低预留1GB磁盘空间。
>- 对于标准集群最低预留80RCU。
>- 对于标准集群最低预留20WCU。
>- 标准集群将提供最高 10W QPS 的弹性能力，超过此范围内的请求将会受到限制，如果业务量高于此访问量，建议使用独立集群版，独立集群版提供更稳定，更高的弹性能力。

### 计费示例
例如，您在上海地域新创建一个集群，每日访问量为80次/s读访问，26次/s写访问，共0.5GB磁盘容量。
则当日的费用应该为：

| 容量（GB） | 读请求（CU） | 写请求（CU） | 费用计算                                                     |
| ---------- | ------------ | ------------ | ------------------------------------------------------------ |
| 1          | 80           | 26           | (1GB × 0.036元/GB/天 + 80 RCU × 0.013元/RCU/天 + 26 WCU × 0.030元/WCU/天) × 1天 = 1.856元 |

例如由于业务推广访问量增长，应用程序与该集群交互增多，读写访问频率上涨，当日峰值达到了1000 RCU/s、300 WCU/s，数据总量达到1.5GB。那么当日的费用应该为：

| 容量（GB） | 读请求（CU） | 写请求（CU） | 费用计算                                                     |
| ---------- | ------------ | ------------ | ------------------------------------------------------------ |
| 1.5        | 1000         | 300          | (1.5GB × 0.036元/GB/天 + 1000 RCU × 0.013元/RCU/天 + 300 WCU × 0.030元/WCU/天) × 1天 = 22.054元 |


## 独立集群模式计费规则
独立集群版是按量计费模式，根据每天对实际使用的存储层和接入层资源来计算每日费用。

**TcaplusDB 每日费用 = 接入层每日单价 × 接入层数量 + 存储层机型每日单价 × 存储层数量**

### 价格表

| 地区         | 接入层（元/个/天） | 存储层-标准实例T1（元/组/天） |
| ------------ | ------------------ | ----------------------------- |
| 中国大陆     | 3.50                | 450                           |
| 中国香港     | 5.50                | 623.24713626                  |
| 弗吉尼亚 | 4.62               | 567.53872621                  |
| 硅谷     | 4.62               | 617.27929097                  |
| 法兰克福 | 6.04               | 670.52352793                  |
| 新加坡       | 5.30                | 659.16728607                  |
| 东京         | 6.04               | 642.28441920                  |
| 首尔         | 6.04               | 607.38296859                  |

### 计费示例
例如，您在上海地域新创建一个独立集群，申请了两组标准T1机型作为存储层，4个接入层。
则当日的费用应该为：

接入层当日费用 = 3.5 × 4 = 14元
存储层当日费用 = 450 × 2 = 900元

当日总费用为：14元 + 800元 = 814元
