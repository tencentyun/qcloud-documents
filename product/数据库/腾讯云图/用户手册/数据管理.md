
目前腾讯云图支持接入静态数据、上传 CSV 文件、数据库和 API 四类数据源。
- 静态数据：可在网页上直接编辑，无需创建数据源。
- CSV 文件：需要用户上传。
- 数据库：MySQL、SQL Server、MariaDB（TDSQL）、PostgreSQL、Oracle 数据库类型。支持腾讯云数据库和公网自建数据库来源，公网数据库需提供公网 IP 进行连接。
- API：腾讯云 API、公网 API。

不同的数据源的新建和配置方式有所区别。

## 新建数据源[](id:create)
新建数据源（CSV 文件、数据库、API）有以下三种方式：
- 登录 [腾讯云图控制台](https://console.cloud.tencent.com/yuntu)，单击左侧菜单栏**数据源管理**，进入数据源管理页面，单击**新建**，在弹出框内选择需要新建的数据源类型。
- 登录 [腾讯云图控制台](https://console.cloud.tencent.com/yuntu)，单击左侧菜单栏**数据源管理**，进入数据源管理页面，在右上角下拉框中选择需要新建的数据源类型，然后单击**新建**。
- 登录 [腾讯云图控制台](https://console.cloud.tencent.com/yuntu)，选择左侧菜单栏**可视化管理** > **全部大屏**，鼠标悬停在对应的项目，出现可选操作，单击**编辑**进入项目编辑页面。
![](https://main.qcloudimg.com/raw/78772ae037f251e712fd907ce072f69b.png)
选择需接入数据源的图层，在右侧工具栏区，选择**数据** > **数据编辑**。
![](https://main.qcloudimg.com/raw/524f625a7f14f02c589dd02b515a0cff.png)
在跳转页面中，选择需要新建的数据源类型。

## 上传 CSV 文件
1. 参见 [新建数据源](#create)。
2. 在弹出的创建数据源页面中，【**数据源类型**】选择【**表格文件 (CSV/Excel)**】，即可添加 CSV 文件类型的数据。**CSV 文件大小不能超过1MB。**

## 接入数据库
1. 参见 [新建数据源](#create)。
2. 以 MySQL 数据库为例：
在弹出的新建数据源页面中，**数据源类型**选择**数据库**，**类型**选择 **MySQL** 数据库，支持腾讯云数据库和公网自建数据库来源。
 - **腾讯云来源**
	 类型中选择**腾讯云**，首先需要填写数据库信息包括如下内容：
     - 可用区：该 MySQL 数据库所在腾讯云的可用区。
     - 实例：该可用区下对应 MySQL 数据库实例。
     - 名称：在腾讯云图中数据源的名称，可自由命名。
     - 数据库：当前所选的数据库 DB 名称。
     - 用户名：数据库登录的用户名称。
     - 密码：数据库登录的密码。
 - **公网来源**
  类型中选择**公网**，首先需要填写数据库信息包括如下内容：
       - 名称：在腾讯云图中数据源的名称，可自由命名。
       - 主机名：所连服务器的主机名（服务器 IP 或者服务器地址）。
       - 端口：所连接的数据库设置的端口。
       - 数据库：当前所选的数据库 DB 名称。
       - 用户名：数据库登录的用户名称。
       - 密码：数据库登录的密码。      
 如果用户的物理机配有系统防火墙，网络上的防火墙则需要在您的数据库白名单中都加入如下 IP 地址：
     139.199.230.18
     119.29.28.45
     129.204.102.77
     134.175.205.61
3. 填写好信息后，单击**连通测试**验证数据库是否能连通正常。如果连接超时请检查端口是否正确或者 IP 输入是否有误。
4. 连通成功，单击**创建**，即完成数据源创建。
	
## 接入 API
### 腾讯云 API 
1. 参见 [新建数据源](#create)。
2. 在弹出的新建数据源页面中，**数据源类型**选择**腾讯云 API 密钥**。通过云 API 您可以直接把腾讯云中云监控的实时数据接入到腾讯云图中进行展示。首先需要填写数据库信息，包括如下内容：
 - 名称：在腾讯云图中数据源的名称，可自由命名。
 - SecretID：所选择的云 API 的 SecretID（可在 [访问管理控制台](https://console.cloud.tencent.com/cam/capi) 获取）。
 - SecretKey：所选择的云监控的 SecretKey（可在 [访问管理控制台](https://console.cloud.tencent.com/cam/capi) 获取）。
3. 信息填写完成后，单击**保存**，即完成数据源创建。


### 公网 API
1. 登录 [腾讯云图控制台](https://console.cloud.tencent.com/yuntu)，选择左侧菜单栏**可视化管理** > **全部大屏**，鼠标悬停在对应的项目，出现可选操作，单击**编辑**进入项目编辑页面。
![](https://main.qcloudimg.com/raw/78772ae037f251e712fd907ce072f69b.png)
2. 选择需接入数据源的图层，在右侧工具栏区，选择**数据** > **数据编辑**。
![](https://main.qcloudimg.com/raw/524f625a7f14f02c589dd02b515a0cff.png)
3. 在跳转页面中，选择**数据类型**为 **API**。
![](https://main.qcloudimg.com/raw/83ebed3faff5a9dfc4318a0709a139a7.png)
 - 数据源配置说明：
     - URL：输入您需要连接的 API URL 地址（例如：`http://www.qq.com/api/apiname`）。
     - 由服务器发起请求（HTTP 代理）：由腾讯云图服务器发起对 API 的 HTTP 请求，建议勾选，可解决跨域问题。
 - 映射和更新说明：
     - 字段映射：返回数据的 Key 和 Value 字段分别对应图表坐标系中的 X 轴和 Y 轴。
     - 自动更新：自动更新可以控制接口数据为每隔一段时间请求一次最新数据，并同步给图表展示。
