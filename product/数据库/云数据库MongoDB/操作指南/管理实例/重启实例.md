当实例出现连接数满或性能问题时，您需要手动重启实例。 本文介绍副本集与分片集群实例重启的具体操作。

## 背景信息
当系统因为高负载完全不可用时，您可以通过重启功能恢复节点的运行。由云数据库 MongoDB 的架构所决定，重启 MongoDB 实例分为重启 Mongos 和重启  Mongod 两部分。

- **Mongos** ：一个针对 MongoDB 分片配置的路由服务，该服务处理来自应用层的查询请求，确定数据在分片集群中的位置。
- **Mongod**：MongoDB 系统的主要后台进程，处理数据请求，管理数据访问，执行后台管理操作 。

## 版本说明
- 当前 MongoDB 4.2、4.0、3.6和3.2版本均支持重启实例。
- 副本集**4.0**版本版本简化了架构，去掉了 Mongos 组件，重启实例不涉及重启 Mongos 组件。

## 注意事项
- 重启期间，可能出现 1 - 2次闪断现象，每次约10秒，建议程序有自动重连功能。 
- 重启期间，无法取消本次重启操作，请谨慎操作。

## 前提条件
- 已 [申请云数据库 MongoDB 实例](https://cloud.tencent.com/document/product/240/3551)。
- 云数据库 MongoDB 实例状态为**运行中**。

## 操作步骤 
**重启单个实例**
1. 登录 [MongoDB 控制台](https://console.cloud.tencent.com/mongodb)。
2. 在左侧导航栏 **MongoDB** 的下拉列表中，选择**副本集实例**或者**分片实例**。副本集实例与分片实例操作类似。
3. 在右侧实例列表页面上方，选择地域。
4. 在实例列表中，找到目标实例。
5. 在目标实例所在行，单击其**操作**列的**重启**。
![](https://main.qcloudimg.com/raw/e0420002ff62a7c48852cf0cd49e6902.png)
6. 在**重启MongoDB**的对话框，单击**查看详情**，确认需重启的实例信息。
7. 勾选需要重启的组件，单击**确定**。
8. 在实例列表中，您可以看到实例进入**重启中**，等待任务完成即可。

**批量重启实例**
1. 在实例列表中，勾选需要重启的实例。
2. 在整个实例列表上方，单击**重启**。
3. 在**重启MongoDB**的对话框，单击**查看详情**，确认需重启的所有实例信息。
4. 勾选需要重启的组件，单击**确定**，等待任务完成即可。
