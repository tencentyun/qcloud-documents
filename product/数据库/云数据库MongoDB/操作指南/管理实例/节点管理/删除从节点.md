## 操作场景

删除从节点会降低集群的高可用性，业务量低时，可适当减少从节点的数量，避免资源浪费。

## 使用须知

- 删除从节点会降低集群的高可用性，请谨慎操作。请务必保证删除从节点的之后，集群节点总数量满足3个、5个或7个。即满足1主2从的3节点、1主4从的5节点、1主6从的7节点。
- 隐藏节点不支持删除，用于某个从节点故障时，系统会自动将其与隐藏节点切换，保障集群的高可用。
- 被删除的从节点的 IP 地址将不再保留，会导致访问从节点的链接断开。

## 版本说明

- MongoDB 4.2 版本副本集实例不支持变更实例的节点数。
- MongoDB 4.2 版本分片实例不支持调整实例的单分片节点数。

## 前提条件

- 已 [创建云数据库 MongoDB 实例](https://cloud.tencent.com/document/product/240/3551)。
- 如果为按量计费实例，请确保您的腾讯云账号余额充足。
- 实例及其所关联的实例处于正常状态下（运行中），并且当前没有任何任务执行。

## 删除从节点（副本集）

1. 登录 [MongoDB 控制台](https://console.cloud.tencent.com/mongodb)。
2. 在左侧导航栏 **MongoDB** 的下拉列表中，选择**副本集实例**。
3. 在右侧实例列表页面上方，选择地域。
4. 在实例列表中，找到目标实例。
5. 单击实例 ID，进入**实例详情**页面，单击**节点管理**页签。
6. 在**节点管理**页面的 **Mongod 节点**页签，在实例列表，选中需删除的从节点信息，选择**节点操作 > 删除从节点**。
> ?节点管理列表中，节点的 **Hidden** 列对应为 **true**，无法删除，即隐藏节点不支持删除。
7. 在**删除从节点**对话框，了解调整节点数的注意事项，确认调整节点数的实例名称、到期时间等。
![](https://qcloudimg.tencent-cloud.cn/raw/f78d323194cd18320bda7daabfebd0bc.png)
<table class="table-striped">
<tbody>
<thead><tr><th>参数名称</th><th>参数解释</th></tr></thead>
   <tr>
   <td>实例 ID /名称</td>
   <td>当前待调整节点数的实例名称。</td></tr>	
   <tr>
   <td>到期时间</td>
   <td>实例的到期时间，针对包年包月计费提醒实例到期时间。</td></tr>
   <tr>
   <td>实例配置</td>
   <td>请了解实例当前的配置规格，包括 CPU 核数、内存、磁盘容量、节点数量。节点数量包含主从节点的总节点数。单分片的节点数量，按照分片数量均分，例如是2分片，8节点，则单个分片节点数量为4。请根据当前配置评估需新增的节点数。</td>    </tr>	
   <tr>
   <td>删除从节点信息</td>
   <td>请确认预删除节点的信息，包括：节点 ID、可用区、节点的角色、节点标签。</td>   </tr>
   <tr>
   <td>配置变更费用</td>
   <td>配置变更之后费用。按量计费：每小时新规格的费用。计费分为三个阶梯。包年包月为：新规格剩余可使用时长的总费用。</td>   </tr>
   <tr>
   <td>对比</td>
   <td>可对比 Mongod 从节点变更前后的配置规格及其所满足的最大连接数，以评估新规格是否满足要求。</td>    </tr>
</tbody></table>  
8. 确认费用信息，单击**确定**，完成操作。
9. 在左侧导航栏，选择**任务管理**，可查看到正在进行的任务，等待**任务执行进度**为**100%**，**任务执行状态**为**完成**。

## 相关 API

| 接口名称                                                 | 接口功能描述     |
| ------------------------------------------------------------ | -------------------- |
| [ModifyDBInstanceSpec](https://cloud.tencent.com/document/product/240/38565) | 调整云数据库实例配置 |


