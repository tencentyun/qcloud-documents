使用主账号操作，或者使用被赋予对应 CAM 权限后的子用户操作时，您可使用自定义密码强度功能。本文为您介绍如何开启和关闭自定义密码强度。

## 版本限制
自定义密码强度功能支持版本为：
- MySQL 5.7 内核版本 2.0.21 及以上或 2.1.7 及以上。
- MySQL 8.0 内核版本 3.1.7 及以上。

需升级至以上内核版本后使用此功能，升级操作请参见 [升级内核小版本](https://cloud.tencent.com/document/product/1003/61541)。

## 开启自定义密码强度
1. 登录 [TDSQL-C MySQL 版控制台](https://console.cloud.tencent.com/cynosdb)。
2. 在上方选择地域，在集群列表中，找到目标集群，单击集群 ID，进入集群管理页面。
3. 在集群管理页选择**账号管理**，在右侧开启“自定义密码强度”功能按钮。
![](https://qcloudimg.tencent-cloud.cn/raw/28f060e17d4c2a3716f92fffcad69569.png)
4. 在弹出的窗口下，单击**下一步**进入功能初始设置。
![](https://qcloudimg.tencent-cloud.cn/raw/658e74090115248b5c6038ad79448b56.png)
5. 完成如下设置后，单击**确定**。
自定义密码强度初始设置中，随密码检查强度等级的不同，呈现两种场景。
场景一：密码检查强度等级为 MEDIUM。
![](https://qcloudimg.tencent-cloud.cn/raw/5091e8e4255ea670503a10e602d214f2.png)
<table>
<thead><tr><th>参数</th><th>说明</th></tr></thead>
<tbody><tr>
<td>密码检查强度等级</td>
<td>支持选择检查强度为 MEDIUM 或 STRONG。<ul><li>MEDIUM：该设置下此功能检查长度、数字、大小写、特殊符号。</li><li>STRONG：该设置下此功能检查长度、数字、大小写、特殊符号及违规词字典。</li></ul></td></tr>
<tr>
<td>密码最少包含英文大小写对数</td>
<td>密码最少要包含的大写字母个数和小写字母个数，此参数值代表一对大小写字母，如设定为2时，密码至少需要包含2个大写字母与2个小写字母，默认值为1，取值范围1 - 50。</td></tr>
<tr>
<td>密码最少包含数字数</td>
<td>密码最少要包含的阿拉伯数字个数，默认值为1，取值范围1 - 50。</td></tr>
<tr>
<td>密码最少包含特殊字符数</td>
<td>密码最少要包含的特殊字符个数，默认值为1，取值范围1 - 50。</td></tr>
<tr>
<td>密码最小长度</td>
<td>密码最少需要设定的长度，默认值为8，取值范围8 - 256，密码最小长度 = 数字个数参数 + 特殊字符参数 + 2 * 大小写字母数参数，但为保证您密码的安全，密码最小长度需大于等于8，若其余参数设置导致最小长度大于8，则按最新取值范围显示为主。</td></tr>
</tbody></table>
场景二：密码检查强度等级为 STRONG。
<img src="https://qcloudimg.tencent-cloud.cn/raw/01b7953eb9bd516a0edfecbca2392000.png">
<table>
<thead><tr><th>参数</th><th>说明</th></tr></thead>
<tbody><tr>
<td>密码检查强度等级</td>
<td>支持选择检查强度为 MEDIUM 或 STRONG。<ul><li>MEDIUM：该设置下此功能检查长度、数字、大小写、特殊符号。</li><li>STRONG：该设置下此功能检查长度、数字、大小写、特殊符号及违规词字典。</li></ul></td></tr>
<tr>
<td>密码最少包含英文大小写对数</td>
<td>密码最少要包含的大写字母个数和小写字母个数，此参数值代表一对大小写字母，如设定为2时，密码至少需要包含2个大写字母与2个小写字母，默认值为1，取值范围1 - 50。</td></tr>
<tr>
<td>密码最少包含数字数</td>
<td>密码最少要包含的阿拉伯数字个数，默认值为1，取值范围1 - 50。</td>
</tr>
<tr>
<td>密码最少包含特殊字符数</td>
<td>密码最少要包含的特殊字符个数，默认值为1，取值范围1 - 50。</td></tr>
<tr>
<td>密码最小长度</td>
<td>密码最少需要设定的长度，默认值为8，取值范围8 - 256，密码最小长度 = 数字个数参数 + 特殊字符参数 + 2 * 大小写字母数参数，但为保证您密码的安全，密码最小长度需大于等于8，若其余参数设置导致最小长度大于8，则按最新取值范围显示为主。</td></tr>
<tr>
<td>违规词字典</td>
<td>当密码检查强度等级为 STRONG 时，此选项可以设置，可单击<strong>字典设置</strong>跳转操作。违规词内容输入要求：单词长度4 - 100，须为英文大小写字母。设置完成后，密码设置校验时将对密码中是否有完整的违禁词进行检查，若存在违禁词，无论大小写，将不予通过。</td></tr>
</tbody></table>

## 关闭自定义密码强度
1. 登录 [TDSQL-C MySQL 版控制台](https://console.cloud.tencent.com/cynosdb)。
2. 在上方选择地域，在集群列表中，找到目标集群，单击集群 ID，进入集群管理页面。
3. 在集群管理页选择**账号管理**，在右侧关闭“自定义密码强度”功能按钮。
![](https://qcloudimg.tencent-cloud.cn/raw/1eeb299c86495a4da432abeaa100c420.png)
4. 在弹出的对话框内单击**确定**，将关闭当前集群的自定义密码强度功能。
![](https://qcloudimg.tencent-cloud.cn/raw/0835634bcff0a07716c76feb18498499.png)
5. 在弹出的对话框内单击**批量关闭**，可以跳转批量选择关闭开启自定义密码强度功能的其他集群。
![](https://qcloudimg.tencent-cloud.cn/raw/7b6de8388d7dbfb6465d478e7baebd09.png)
>?
>- 关闭后您所设置的参数将自动恢复至默认值，再次开启需重新设置参数。
>- 批量关闭操作最多支持选中20个集群。

