本文为您介绍如何通过控制台扩容 TDSQL PostgreSQL版 实例规格。

## 操作场景
TDSQL PostgreSQL版实例支持通过控制台快捷调整实例规格，提供灵活的扩缩容操作。您可根据业务所处的实际情况（业务初期、业务快速发展期、业务高峰期、业务低谷期等）灵活的调整TDSQL PostgreSQL实例的规格，从而更好地满足资源充分利用和成本实时优化等需求。

## 功能说明

**增加节点**

 该功能针对CN，DN。节点是按组添加，一组是一主一备。增加节点默认1组，最大支持10组（增加后总数）。机器规格和原实例规格保持一致。默认调整规格后立即进行备份。

**调整节点配置**

该功能针对CN，DN。可修改单节点规格以及单节点硬盘，硬盘范围100GB～6000GB。只能翻倍增加规格，假设原节点是1核4GB，只能选择2核8GB，4核16GB等。

**添加备机**

该功能仅支持DN，可增加备机个数，最大支持10个备机。

**减少备机**

该功能仅支持DN，可减少备机个数，最少保留1个备机。

## 注意事项
- 调整配置完成时会有闪断，建议及时做好容灾处理并选择业务低峰时调整。
- 调整配置之后将按照新规格进行计费。
- 实例负载高或大量数据写入时，将延长调整配置时间，优先保障实例稳定运行。
- 增加节点前请检查所有表都已设置主键或设置表级别参数 REPLICA IDENTITY为FULL，否则数据无法完成迁移导致新增节点失败。
- 增加节点后将会导致实例拓扑结构变更，无法使用之前备份数据进行恢复，因此在增加节点之后会主动发起一次备份。
- 调整节点规格将把一种类型的节点所有主备都进行调整。
- 调整配置时，请确认好实例的自动备份时间，请勿在自动备份的时间里发起调整配置操作。


## 操作步骤
1. 登录 [TDSQL PostgreSQL版 控制台](https://console.cloud.tencent.com/tbase)，在实例列表，单击实例 ID，进入实例详情页。
2. 在实例详情页的**配置信息**处，选择**增加节点/调整节点配置/添加备机**，在弹出的对话框，选择调整后的配置，确认提交即可。
<img src="/Users/hellenzhang/Library/Application Support/typora-user-images/image-20211213173457827.png" alt="image-20211213173457827" style="zoom:67%;" />
