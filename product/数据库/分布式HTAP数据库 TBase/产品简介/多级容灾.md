TBase 在多个维度保证集群的容灾能力：
## 强同步复制
TBase 支持强同步复制，在节点级保证每个节点的主从数据完全一致，是整个容灾体系的基础，在主节点（Master）故障发生时，数据库可切换到从节点（Slave）提供服务且无任何数据丢失。强同步机制要求用户请求发生，从节点写入日志成功后，才给用户返回成功，保证主从节点的数据时刻一致。

## 主从高可用
TBase 主从高可用方案主要通过每组节点的多副本冗余来实现服务不中断或中断时间很短，当一组节点的主节点出现故障不可恢复，将自动从对应的备节点中选出新的主节点工作。在主从高可用基础上 TBase 支持：
- 故障自动转移：集群中主节点故障时，系统自动从对应的从节点中选出新的主节点，故障节点自动被集群隔离，基于强同步复制策略，主从切换保证主从数据完全一致，可满足金融级数据一致性要求。
- 故障恢复：备节点因磁盘故障导致数据丢失时，数据库管理员（DBA）可以通过重做备机来恢复备机，可选择在新的物理节点上添加备机来恢复主从备份关系，保证系统可靠性。
- 副本切换：每组主从节点（可以是1主 N 从）的每个节点都包含完整的数据副本，DBA 可根据需求进行切换。
- 设置禁止切换：即可设置在某一特殊时期，不处理故障转移。
- 跨可用区部署：主节点和从节点分处于不同机房，数据之间通过专线网络进行实时的数据复制。本地为主节点，远程为从节点，首先访问本地节点，若本地主节点发生故障或访问不可达，则远程的从节点升为主节点提供服务。

TBase 支持基于强同步的高可用方案，主节点故障时将自动选出最优从节点立即顶替工作，切换过程对用户透明，且不改变访问 IP。TBase 对系统组件支持7 * 24小时持续监控，发生故障时，TBase 将自动重启节点或者隔离节点，从从节点选出新主节点提供服务。

## 基于时间点的恢复能力
TBase 支持基于备份在事务一致性的时间点恢复数据，防止误操作带来的数据丢失。备份分为全量备份（冷备）和增量备份（xlog 备份）：
- 全量备份：指备份数据库的全部数据（除了运行日志和 xlog 之外），全量备份通常是周期性（一天、一周或 N 天)。
- 增量备份：指增量数据的备份，一般通过 xlog 文件实现，当数据库系统产生新的 xlog 文件后，系统将 xlog 文件备份到备份服务器上，增量备份通常是实时的行为。
当发生事故或灾难后，用户可以利用备份数据来恢复系统。TBase 是一个全局分布式事务的数据库系统，各节点之间数据是关联的，因此恢复系统需要通过一个全局时间点来恢复。
