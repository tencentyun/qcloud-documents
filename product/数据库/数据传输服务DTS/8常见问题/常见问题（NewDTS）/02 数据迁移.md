## 通用问题
### 使用 DTS 进行数据迁移，源数据库的数据会不会在迁移后被删除掉？
不会，DTS 进行数据迁移时，其实是复制了源数据库的一份数据，并不会对源数据库的数据有任何影响。

### 使用 DTS 进行数据迁移，对目标库有什么影响？
数据迁移到目标库时，系统会校验源库和目标库是否有同名的库表，如果有则会校验不通过，提示用户修改后再进行迁移任务。

### DTS 是否支持两端都是线下库的迁移？
不支持，DTS 仅支持迁移上云，目标端必须是腾讯云数据库，源端可以是自建、第三方云厂商或腾讯云数据库。

### DTS 是否支持两个不同腾讯云账号下的 TencentDB 实例之间的数据迁移？
支持，进行跨腾讯云账号下 TencentDB 实例间的迁移，需要以目标 TencentDB 实例所属的腾讯云账号登录 DTS，同时源实例类型选择有公网 IP 的自建数据库。具体操作请参见 [云数据库跨账号实例间迁移 ](https://cloud.tencent.com/document/product/571/54117)。

### DTS 是否支持定时自动迁移？
支持，您可以创建 DTS 后，在修改配置时将选择定时执行的选项，并配置定时迁移时间。

### 迁移过程中可以监控任务的进度吗？
可以，您可以在腾讯云 [DTS 控制台](https://console.cloud.tencent.com/dtsnew/migrate/page) 数据迁移页面查看迁移任务进度。

### 为什么数据增量迁移服务会有15天设置?
数据增量迁移服务目前使用的是就近代理服务器接入，通过内网专线降低了走公网的抖动问题，确保了数据传输的质量，15天的设置是为了能有效降低代理的服务器的连接压力，如果超过15天，现有阶段并不会进行强制断开，只是从合理使用迁移资源出发做了时间设置规定。

### 在迁移数据过程中，如何保障数据准确性？
DTS 内部采用腾讯云自研数据迁移架构，对传输链路进行实时的数据准确性校验，快速发现并纠正传输数据，保障传输数据可靠性。

### 数据校验为什么需要源数据库实例不为只读？
数据校验需要在源实例中创建新库 `__tencentdb__`，并在该库下写入 CheckSum 表，在该实例只读时将会跳过数据校验阶段。

### DTS 数据迁移能指定库表进行迁移么？
可以，迁移对象可以选择整个实例，也可以选择指定库表对象。

### 数据迁移什么时候结束？
用户选择增量迁移时，任务长时间没有结束，有可能需要用户自己进行结束操作。
- 如果迁移类型选择**结构迁移**或者**全量迁移**，则任务完成后会自动结束，不需要用户手动结束。
- 如果迁移类型选择**全量 + 增量迁移**，则全量迁移完成后会自动进入增量数据同步阶段，增量数据同步不会自动结束，需要您手动单击完成结束增量数据同步。
  - 请选择合适时间手动完成增量数据同步，并完成业务切换。
  - 观察迁移阶段为增量同步，并显示无延迟状态，将源库停写几分钟。
  - 目标与源库数据差距为0MB及目标与源库时间延迟为0秒时，手动完成增量同步。

### 为什么全量迁移前后数据的大小不一致？
因为源库和目标库的碎片空间不一样，源库可能存在一些空洞数据，因此全量迁移完成后目标库的表存储空间很可能会比源库的表存储空间小。建议用户迁移完成后使用 [数据一致性校验](https://cloud.tencent.com/document/product/571/62564) 来核对源库和目标库内容是否一致。

### 数据迁移过程中是否支持双写？
不支持，迁移过程中同时向源库和目标库进行写入可能会导致数据不一致。

### DTS 数据传输服务，是否支持跨国数据库迁移？
支持，接入方式选择公网可以实现跨国数据传输。

## MySQL 常见问题
### MySQL 迁移过程中是否会加锁？
MySQL/MariaDB/TDSQL-C 之间的数据迁移，以及 TDSQL MySQL > TDSQL MySQL/MySQL/MariaDB 的数据迁移，默认使用无锁迁移，无锁迁移并非是完全没有锁，只是不加全局锁（FTWRL）。

MySQL/MariaDB > TDSQL MySQL 默认使用有锁迁移。
- 无锁迁移：仅对无主键表会加表锁，其他不加锁。
- 有锁迁移：会加短暂的（秒级）全局锁（FTWRL），获取到一致性位点后释放锁。

### 是否支持腾讯云 MySQL 单节点（原基础版）实例的迁移？
- 腾讯云 MySQL 单节点（原基础版）作为源可以使用公网模式迁移，不能使用内网模式。
- 暂不支持将腾讯云 MySQL 单节点（原基础版）作为迁移的目标实例。

### 对源库设置 binlog_format 为 row 之后，如何确保源库 binlog_format 格式立刻生效？
设置 binlog_format 为 row 后，需重置当前数据库上的所有业务连接（当源库在从机时，还需重置主从同步 SQL 线程），避免当前业务连接继续使用老格式写入。

在上述操作未结束之前，请不要创建或者启动迁移任务，避免产生数据不一致。

### 如果迁移的源实例里面有 Toku 引擎，迁移会有什么需要注意的？
如果源实例涉及了 Toku 引擎，我们会在迁移时默认转成 InnoDB，然后 Cluster Index 和 TokuDB 的压缩特性的表需要提前做处理，目前迁移不支持，另外对 Toku 引擎的 DDL 操作也是迁移不支持。

### MySQL 数据迁移可以迁移用户权限吗？
支持，新版本 DTS 支持对用户的权限进行迁移，具体操作请参考 [账号迁移](https://cloud.tencent.com/document/product/571/65702)。

