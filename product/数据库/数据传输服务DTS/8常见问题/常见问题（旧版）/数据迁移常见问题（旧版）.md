## 通用问题
### 使用 DTS 进行数据迁移，源数据库的数据会不会在迁移后被删除掉？
不会，DTS 进行数据迁移时，其实是复制了源数据库的一份数据，并不会对源数据库的数据有任何影响。

### DTS 是否支持定时自动迁移？
支持，您可以创建 DTS 后，在修改配置时将选择定时执行的选项，并配置定时迁移时间。

### 为什么数据增量迁移服务会有15天设置?
数据增量迁移服务目前使用的是就近代理服务器接入，通过内网专线降低了走公网的抖动问题，确保了数据传输的质量，15天的设置是为了能有效降低代理的服务器的连接压力，如果超过15天，现有阶段并不会进行强制断开，只是从合理使用迁移资源出发做了时间设置规定。

### 为何开启了订阅的目标实例进行迁移会有内容缺少？
因为迁移过程会有导入冷备阶段，我们会关闭 binlog 来提升写入性能，所以会有部分内容缺少，如果要实现内容不缺失，需要首先建立迁移，确保目标实例已经进入同步中后，然后再对目标实例设置订阅功能。

### 数据校验为什么需要源数据库实例不为只读？
数据校验需要在源实例中创建新库 `__tencentdb__`，并在该库下写入 CheckSum 表，在该实例只读时将会跳过数据校验阶段。

## MySQL 常见问题
### MySQL 迁移过程中什么时候会重启实例？ 
- 整实例迁移时会同步参数，参数生效需要一次重启。
- 部分库表迁移会设置 replicate_do_table，会重启一次。

### MySQL 迁移过程中是否会锁表？
- 对于 InnoDB 是获取一致性位点，锁的时间较短，需等待用户长事务结束后方可获取一致性位点。
- 对于 MyISAM 是锁全表，直到冷备完成。

### 是否支持腾讯云 MySQL 单节点（原基础版）实例的迁移？
 - 腾讯云 MySQL 基础版作为源可以使用公网模式迁移，不能使用内网模式。
 - 暂不支持将腾讯云 MySQL 基础版作为迁移的目标实例。

### 对源库设置 binlog_format 为 row 之后，如何确保源库 binlog_format 格式立刻生效？
设置 binlog_format 为 row 后，需重置当前数据库上的所有业务连接（当源库在从机时，还需重置主从同步 SQL 线程），避免当前业务连接继续使用老格式写入。

在上述操作未结束之前，请不要创建或者启动迁移任务，避免产生数据不一致。

### 如果迁移的源实例里面有 Toku 引擎，迁移会有什么需要注意的？
如果源实例涉及了 Toku 引擎，我们会在迁移时默认转成 InnoDB，然后 Cluster Index 和 TokuDB 的压缩特性的表需要提前做处理，目前迁移不支持，另外对 Toku 引擎的 DDL 操作也是迁移不支持。

### 为何迁移时候选了全量检测会报缺少 super 权限的错误？
因为我们的全量检测是需要对 session 进行 binlog 格式的设置，这个是需要 super 权限的，需要对迁移账号增加 super 权限授权。

### TokuDB 表在 DTS 迁移校验时校验出错可能是什么原因？
TokuDB 有两种情况不支持转换到 InnoDB：源实例存在 TokuDB 压缩特性的表，或者存在 cluster index 特性的表。
![](https://main.qcloudimg.com/raw/a63b99c2481aa691af2abe52ef540ddf.png)

## Redis常见问题
### Redis 迁移适用于什么版本？
- DTS 迁移服务支持的实例版本包括 Redis 2.8、3.0、3.2、4.0、5.0。
- 支持的架构包括单节点、redis cluster、codis、twemproxy。

