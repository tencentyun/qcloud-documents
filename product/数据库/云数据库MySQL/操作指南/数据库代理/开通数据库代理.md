
本文为您介绍如何通过云数据库 MySQL 控制台开启数据库代理。

[数据库代理](https://cloud.tencent.com/document/product/236/54652) 是位于云数据库服务和应用服务之间的网络代理服务，用于代理应用服务访问数据库时的所有请求。数据库代理提供自动读写分离、连接池、连接保持等高级功能，具有高可用、高性能、可运维、简单易用等特点。

>?如需使用数据库代理功能，请 [联系我们](https://cloud.tencent.com/act/event/connect-service) 获取体验服务。

## 注意事项
- 数据库代理目前支持的地域：北京、上海、广州、成都。
- 数据库代理目前支持的版本：双节点、三节点 MySQL 5.7（内核小版本须20201230及以上），升级主实例内核小版本会同时升级所关联的只读实例和灾备实例，请参见 [升级内核小版本](https://cloud.tencent.com/document/product/236/45522)。

## 操作步骤
1. 登录 [MySQL 控制台](https://console.cloud.tencent.com/cdb)，在实例列表，选择需要开启代理的主实例，单击实例名或“操作”列的【管理】，进入实例管理页面。
2. 在实例管理页面，选择【数据库代理】页，单击【立即开启】。
![](https://main.qcloudimg.com/raw/9ba629a02b689fcd3edba09b8578635d.png)
3. 在弹出的对话框，选择规格节点，单击【确定】。
 - 网络类型：仅支持私有网络 VPC，默认与主实例保持一致。
 - 代理规格：目前仅支持一个规格。
 - 节点个数：代理节点个数，推荐代理个数为：主实例和只读实例 CPU 核数之和的 1/8（向上取整），例如主实例为4核 CPU，只读实例为8核 CPU，则推荐代理数量 = (4 + 8 ) / 8 ≈ 2
![](https://main.qcloudimg.com/raw/f7aa9d2d40f73a70d4bd4f4687d4fe0b.png)
4. 开通成功后，可在数据库代理页查看基本信息和管理代理节点。
>?
>- 您可通过查看代理节点列表的“连接数”或查看各代理节点的性能监控，来判断各节点是否出现访问不均衡现象。若出现各代理节点连接数不均衡的现象，可单击【重新负载均衡】打散连接。
>- 重新负载均衡会触发代理节点重启，重启过程中会有短暂服务不可用现象，建议在低峰期重启服务，请确保业务具备重连机制。
>
![](https://main.qcloudimg.com/raw/60d89b886542289daa8cc989c668fbee.png)

