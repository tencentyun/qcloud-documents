## 操作场景
云数据库 MySQL 支持用户创建一个或多个只读实例，以支持用户的读写分离和一主多从应用场景，可显著提高用户数据库的读负载能力。
目前暂不支持统一读写分离地址，即自动分离读请求与写请求。只读实例需要通过单独的 IP、PORT 来访问。
>?只读实例费用请参见 [产品定价](https://buy.cloud.tencent.com/price/cdb)。
>

**基本概念**
- RO 组：带有负载均衡功能的只读实例组。若 RO 组内有多个只读实例，可将用户读请求量均匀分配到组内的每个只读实例上。且 RO 组会对外提供 IP、PORT 供访问数据库。
- 只读实例：可以支持读请求的单节点（无从机）实例。只读实例无法单独存在，每个只读实例都属于某个 RO 组。

**基础架构**
只读实例采用 MySQL binlog 主从同步功能，将主实例（源数据库）的更改同步到所有只读实例中。只读实例均采用单节点（不含备机）架构，若只读实例宕机，我们将不断的尝试恢复，若需要更高的可用性，您可以选择 RO 组。
![](https://main.qcloudimg.com/raw/bf2ef3ecfc232f6e69a99ead319a5cb2.png)


## 功能限制
- 仅支持**1GB内存、50GB硬盘及以上规格，且 MySQL 5.6 及以上版本、InnoDB 引擎的高可用版**主实例购买只读实例，若主实例低于此规格，请先升级主实例规格。
- 只读实例最低规格要求为1GB内存、50GB硬盘，且必须大于或等于主实例已使用存储规格的1.1倍。
- 一个主实例最多可以创建5个只读实例。
- 不支持备份以及回档功能。
- 不支持数据迁移至只读实例。
- 不支持创建/删除数据库，不支持  phpMyAdmin（PMA）。
- 不支持创建/删除帐号，不支持为帐号授权以及修改帐号及密码。

## 注意事项
- 只读实例无需维护帐号与数据库，均从主实例同步。
- 若 MySQL 版本为 5.6 但未开启 GTID，可通过控制台开启 GTID，再添加只读实例。
开启 GTID 过程耗时较长，且实例将会有几秒钟的闪断，建议在业务低谷期操作，并在访问数据库的程序中添加重连机制。
- 只读实例仅支持 InnoDB 引擎。
- 由于数据同步有延迟，多个只读实例之间可能存在少量数据不一致的情况。各只读实例与主实例之间的同步时延可在控制台查看。
- 只读实例的实例规格可以与主实例不一致，方便用户根据负载情况升级。建议同一 RO 组内的只读实例的实例规格保持一致。

## 操作步骤
1. 登录 [MySQL 控制台](https://console.cloud.tencent.com/cdb/ )，在实例列表，单击实例名或“操作”列的【管理】，进入实例详情页。
2. 在实例详情页，单击实例架构图中的【添加只读实例】，进入只读实例管理页。
![](https://main.qcloudimg.com/raw/91bde52130ced8dd443adb978c9d7c14.png)
3. 在只读实例页，单击【新建】，创建只读实例。
4. 进入购买页，选择只读实例的相应配置，确认无误后单击【立即购买】购买只读实例。
>?如需统一只读实例与主实例的到期时间，可在 [续费管理控制台](https://console.cloud.tencent.com/account/renewal) 设置统一到期日，具体操作步骤请参见 [统一到期日](https://cloud.tencent.com/document/product/555/7454#.E7.BB.9F.E4.B8.80.E5.88.B0.E6.9C.9F.E6.97.A5)。
>
![](https://main.qcloudimg.com/raw/62055b1d99d1b02fca54e26b43de9af0.png)
5. 返回实例列表，待实例状态变为“运行中”，即可正常使用。

## 热点问题
#### 只读实例剔除规则是什么？
启用延迟超限剔除后，RO 组会根据延迟阈值和最少保留实例数来判断剔除实例，被剔除的实例权重自动设置为0。若只读实例延迟超过阈值被剔除会向用户发出告警，且实例状态为停服同步中、权重为0，当只读实例延迟时间小于阈值时会重新加入到 RO 组。
- 延迟阈值：为只读实例设置延迟超限阈值，超过阈值的只读实例会被剔除 RO 组。
- 最少保留实例数：组内需要保证的实例下限数，若现有只读实例数小于等于此下限且延迟时间超过阈值，现有只读实例均不被剔除。

#### 若只读实例销毁/退货，对主实例有什么影响？
只读实例销毁/退货，对主实例没有影响。
