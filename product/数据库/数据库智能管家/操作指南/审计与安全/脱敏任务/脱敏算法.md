DBbrain 数据脱敏功能支持 AES 加密、K 匿名、加星、屏蔽、洗牌、全保留、格式保留、令牌化等多种内置高级脱敏算法，满足数据可用性与隐私保护要求，用户可根据需求对敏感数据进行不同的脱敏处理。同时，DBbrain 还支持自定义脱敏算法，满足用户个性化的数据保护需求。

## 内置脱敏算法
内置脱敏算法包括 AES 加密、K 匿名、加星、屏蔽、洗牌、全保留、格式保留、令牌化等，算法及其主要用途介绍如下：

| 算法     | 主要用途                                                     |
| -------- | ------------------------------------------------------------ |
| K 匿名    | 通过如 K-匿名的算法对原始数据加入扰动和范化，使得脱敏后的数据无法唯一对应回原数据，用于保留部分统计信息 |
| 加星     | 最基础的脱敏方法，保留字段一部分信息的同时通过加星遮蔽局部信息 |
| 屏蔽     | 用特殊字符如星号 * 作为掩码来将字段信息屏蔽掉                |
| 洗牌     | 将目标字段在样本中洗牌，使得脱敏后的信息无法唯一对应回原始样本，常用于脱敏后作为测试样例或保留部分统计信息 |
| 全保留   | 字段全保留，不脱敏，常用于字段无需脱敏的场景，如对主键不脱敏 |
| 格式保留 | 保留字段的原格式的前提下将其中一部分信息进行随机化，达到脱敏的同时仍然可以提供一部分该类型的信息，常用于脱敏后作为测试样例 |
| 令牌化   | 通过不可逆的算法将目标字段脱敏，但保留一份令牌使得可以在必要时还原 |
| AES 加密  | 一种对称加密算法，必要时可通过 AESKey 对脱敏结果进行还原   |

## 自定义脱敏算法
自定义脱敏算法为用户根据自己的业务需求，自行定义的脱敏算法。
1. 在 [添加脱敏任务](https://console.cloud.tencent.com/dbbrain/desensitization/add) 的【选择库表和规则】步骤页面中，单击“预定义规则”后的【规则管理】，进入脱敏规则管理页面。
2. 在规则管理页面，单击左上角的【添加规则】。
3. 在弹出的对话框的“非主外键脱敏算法”列的下拉框中，选择【新增】，然后单击【新增】。
![](https://main.qcloudimg.com/raw/c22587593777a9efb1692d5b98f8b17f.png)
4. 在弹出的对话框，填写算法名称、匹配内容、替换后的内容后，单击【保存】，即可完成自定义脱敏算法。
![](https://main.qcloudimg.com/raw/8bf895ce1aabc035daf81d8e92e4af4f.png)

