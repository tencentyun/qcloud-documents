当需要为已创建 TDSQL-H LibraDB 实例的 LibraSQL 分析引擎各节点分配 VIP（Virtual IP Address）时，可通过**分析引擎**页签打开**开启节点IP**开关。

## 背景信息

分析引擎节点数量计算公式：**分析引擎节点数** **=** **分片数 × 副本数** 

## 前提条件

- 已 [创建 TDSQL-H LibraDB 实例](https://cloud.tencent.com/document/product/1488/63546) 且实例状态为运行中。
- 待开启节点 IP 分析引擎对应的实例所在子网 IP 数量不小于节点数量。

## 操作步骤

1. 登录 [TDSQL-H LibraDB 控制台](https://console.cloud.tencent.com/libradb/instance)。
2. 在实例列表找到待查看的实例，单击实例 ID 或在**操作**列单击**详情**，进入管理页。
3. 在管理页面上方单击**分析引擎**页签。
4. 在**基本信息**栏的**连接信息**区域，打开**开启节点IP**开关。
   **开启节点IP**开关默认关闭，打开后，系统为各节点分配可访问的 VIP，分配成功后**开启节点IP**下方显示各节点 VIP，并在**引擎架构图**区域展示各节点 VIP。
>?
>- 如果子网 IP 数量小于节点数量，开启节点 IP 操作将会失败。请修改实例所属子网后重新开启节点 IP。如果所属网络无满足要求的子网，请新建子网。
>  修改实例所属子网请参见 [设置网络](https://cloud.tencent.com/document/product/1488/63607)，新建子网请参见 [创建子网](https://cloud.tencent.com/document/product/215/36517)。
>- **开启节点IP**开关默认关闭，打开**开启节点IP**开关后，不支持修改分析引擎所属网络。
>- 打开**开启节点IP**开关后，如果实例状态变更为**隔离中**后再恢复实例，恢复后系统为各节点分配的 VIP 保持不变。
>
![](https://qcloudimg.tencent-cloud.cn/raw/472167653716b37d997e07c5283716ed.png)

## 后续操作

当需要释放分析引擎各节点 VIP 时，可关闭**开启节点IP**开关。

关闭后，各节点 IP 和引擎架构图中节点 VIP 将不再展示。
