本文为您介绍通过数据传输服务 DTS，迁移其他 SQL Server 数据库至腾讯云数据库 SQL Server 的过程。

使用 DTS 迁移数据，只需打通源实例到目标实例网络即可，无需停机。

## 迁移说明
- **支持版本**
DTS 迁移支持的目标 SQL Server 版本：SQL Server 2008R2、2012、2014、2016、2017、2019。
- **支持网络**
DTS 迁移支持的网络迁移：公网、云服务器自建、专线接入、VPN 接入场景下的数据迁移与数据同步。

## 迁移场景
- **上云迁移**：支持将您在传统 IDC 的 SQL Server 数据迁移至腾讯云数据库 SQL Server，帮助您高效、便捷地完成上云迁移。
- **云上自建迁移**：支持将您在腾讯云或者其他云上，通过虚拟机自建的 SQL Server 数据迁移至腾讯云数据库 SQL Server。
- **其他云厂商 SQL Server 迁移**：支持将其他云厂商提供的 SQL Server 数据迁移至腾讯云数据库 SQL Server。
- **云实例间迁移**：支持在腾讯云实例间进行数据迁移，不支持高可用/集群版迁移至基础版。

## 注意事项
- 使用 DTS 进行迁移时，需保证目标云 SQL Server 的版本不低于源 SQL Server 的版本。
- 同一源实例同一时间只能发起一个迁移任务。
- 当源实例非云 SQL Server 实例时（公网/云服务器自建实例、其他云厂商实例），需使用具有 sysadmin 权限的账号进行迁移。
- 当进行全量迁移时，迁移任务不支持撤销。
- 当进行全量+增量迁移，撤销迁移任务将会回滚目标实例到未发起迁移时的状态。
- 中国大陆之外的地域暂不支持跨地域迁移。

## 迁移步骤
### 1. 新建迁移任务
1）登录 [DTS 控制台](https://console.cloud.tencent.com/dts)，在数据迁移页，单击【新建迁移任务】。
2）在“链路地域”选择对应地域，单击【0元购买】。
>?DTS 任务新建地域为目标实例所处地域。
 
### 2. 设置迁移任务
设置任务、源库和目标库，网络连通性测试成功后，单击【新建】。

#### a. 任务设置
- 任务名称：为任务指定名称。
- 定时执行：为迁移任务指定开始时间。
>?
>- 修改定时任务，校验通过后，需要重新单击【定时启动】，任务才会定时启动。
>- 如果任务过了定时启动的时间，定时启动会变为立即启动，单击【立即启动】，会立刻启动任务。

#### b. 源库设置
- 源库类型：选择 SQL Server。
- 接入类型：支持有公网、云服务器自建、专线接入、VPN 接入等多种 SQL Server 源库类型。

#### c. 目标库设置
- 目标库类型：选择 SQL Server。
- 数据库实例：选择目标数据库实例，并输入目标库上的帐号及密码。

![](https://main.qcloudimg.com/raw/3b875206dab5338cb9007cab96f39c71.png) 

### 3. 选择迁移选项和迁移对象
设置要迁移的数据类型和对象，迁移类型支持全量迁移、全量+增量迁移，确认无误后，单击【保存】。
![](https://main.qcloudimg.com/raw/0169bfdd91dda3ed5800450d7435081b.png) 

### 4. 校验迁移任务
校验任务页面将会显示 DTS 对迁移任务的预检查结果。
- 如果校验通过，单击【启动任务】。
![](https://main.qcloudimg.com/raw/f31cd3c26af554c5cab657590f1a017b.png)
- 如果校验失败，请根据出错的校验项，单击【查看详情】，并根据提示采取对应调整，然后重试校验。

### 5. 启动迁移任务
1）校验通过后，在校验任务页面单击【启动任务】立即开始迁移数据。
>!
>- 如果没有设置定时任务，则迁移任务会立即执行。
>- 如果您设定了迁移任务的定时时间，则迁移任务会在设定的时间开始排队并执行，您也可在迁移任务列表中单击【立即启动】手动启动迁移任务。
>
2）迁移启动后，返回迁移任务列表，可查看对应的迁移进度信息。
![](https://main.qcloudimg.com/raw/aa61109964d4c5a74128ba5785f51778.png)

### 6. 完成迁移任务
断开同步前，可在目标实例上验证数据，如果验证无误，即可完成迁移任务。
