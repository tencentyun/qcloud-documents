### 云数据库 SQL Server 购买了错误的区域，需要退款如何处理？
退款前请先阅读退款说明和注意事项，请参见 [退费说明]()。
1. 进入 [提交工单](https://console.cloud.tencent.com/workorder/category) 页面，在【工单全部问题分类】选择云数据库 SQL Server。
2. 在问题类别选择【云数据库退还】，填写各项必填信息，确认无误后，单击【提交工单】。
腾讯云将会根据您提交的申请在两个工作日内进行处理，退款成功后会有退款的订单产生，请注意查看。

### 需要自己购买 SQL Server 许可声明吗？
腾讯云为您提供“附带许可”模型的云数据库，在“附带许可”定价中，已经包含SQL Server软件许可，底层硬件资源，以及腾讯云CDB管理功能，您无需再单独购买您无Microsoft SQL Server许可。
使用附带许可模型的数据库，您可以直接根据实例规格和使用时间支付费用，而无需考虑硬件成本和许可费用，高额的固定成本转换为较小的可变成本，降低您的IT成本。
>!
- 您购买了腾讯云数据库 SQL Server 并不意味着您采购了 Microsoft SQL Server 许可的长期合约，因此不得将腾讯云数据库的许可使用在非授权位置和非授权时间，规定请参考 [微软批量许可服务提供商使用权利](http://www.microsoftvolumelicensing.com/error.aspx?aspxerrorpath=/userights/DocumentSearch.aspx)。
- 腾讯云数据库 SQL Server 的基本定价并不包括微软原厂服务和腾讯云原厂服务。

### SQL Server 升级流程是怎样的？
升级操作指将现有 CDB FOR SQL SERVER 实例的规格升级到更高规格。
1.在【管理中心】—【云数据库】—【SQL Server】中选择选择相应的实例，单击【升级】，弹出升级弹窗。

2.根据需要选择目标规格，并支付响应费用，成功后系统将自动升级实例规格。
![图片描述](//bot1024-1253841380.file.myqcloud.com/92762874b2eb11e7a283525400a3183e.png)

 __升级费用__ 
升级费用=（目标规格单价-原规格单价）x剩余到期时间
说明:
- 只能向更大规格实例进行升级，不支持降级。
- 升级过程中，不能取消本次升级操作。

### SQL Server 到期说明？
- 云服务资源到期前七天，系统会开始给用户发送续费提醒通知。
- 到期后，七天内，云数据库还可以继续使用，需要尽快续费，系统将发送云数据库到期提醒。
- 到期超过七天的云数据库资源将被系统回收，数据将会被清除，不可恢复。

### 创建 SQL Server 数据库后，还没有写入数据或写入极少量数据，为什么存储空间监控显示是已经占用500MB数据？
腾讯云每个 SQL Server 数据库，会自动分配500MB的初始化空间，数据写入时，会优先写入到初始化空间中。
因此您没有写入数据或写入极少量数据，存储监控也会显示500MB。

### SQL Server 写入数据删掉后，存储空间监控仍显示占用了相当数量的存储空间，空间不会释放吗？
SQL Server 删除数据后，已经扩展的数据文件不会收缩，文件内部空闲的空间可以支撑后续插入、更新等操作。
例如您申请50GB的实例，某一个数据库写入50GB数据后再全部删除，这时候存储空间监控您已经使用了50GB，但您仍可以继续写入大量文件。

### 通过 Microsoft SQL Server Management 管理数据库，系统提示 “Login failed. The login is from an untrusted domain and cannot be used with Windows authentication”，是为什么？
请将身份认证方式改为“SQL Server 身份验证”。

### SQL Server 使用 SSH 端口映射外网连接管理实例？
考虑到数据的安全，目前 CDB for SQL Server 尚未开放实例的外网 IP，但有需求的用户可以利用 SSH2 的端口映射在外网连接实例，并对其进行配置和管理，操作步骤非常简单，可按照以下步骤操作：
1.准备一台具有外网 IP 的 Linux 云主机。
2.在本地使用 SSH 工具（如 SecureCRT 或 Putty 等）配置端口映射，在本地启动一个服务端口，然后使用 SSH 工具与linux服务器建立连接，即可使用 SSMS 连接本地的服务端口。
![图片描述](//bot1024-1253841380.file.myqcloud.com/e2c717eeb30311e7a520525400a3183e.png)
以 SecureCRT 为例：
1.进入会话属性设置，并单击添加。
![图片描述](//bot1024-1253841380.file.myqcloud.com/f1f46ddeb30311e7a520525400a3183e.png)
2.进入会话属性设置页面，配置相应的参数。
![图片描述](//bot1024-1253841380.file.myqcloud.com/03427d24b30411e7a794525400a3183e.png)
3.登录该 Linux 云主机，建立连接。
4.使用 SSMS 连接 SQLServer 实例。
![图片描述](//bot1024-1253841380.file.myqcloud.com/19e020b8b30411e79c86525400a3183e.png)



### SQL Server 数据库实例账号如管理？
云数据库（SQL Server）禁止通过 Microsoft SQL Server Management 执行创建、删除数据库、创建、删除或修改账号操作，目前提供通过“管理中心>云数据库>SQL Server>管理>账号管理”，赋予创建、删除账号或修改账号权限。
 __权限管理入口__ 
![图片描述](//bot1024-1253841380.file.myqcloud.com/9dc181e4b30711e7a794525400a3183e.png)

 __创建账号界面__ 
![图片描述](//bot1024-1253841380.file.myqcloud.com/a7c90932b30711e7a794525400a3183e.png)
目前控制中心仅支持用户使用“读写”、“只读”权限，如果需要更高级别的权限，请提交工单处理。（不提供sa账号）

### sql server数据库数据迁移是怎样的？
>注：
1、在迁移之前请保证源实例的版本和目的实例的SQL Server版本一致
2、迁移的bak文件请保证每个bak文件只包含一个库
3、迁移库不能与云SQL Server库有库名重复的情况

为提高迁移效率，现网业务大数据量迁移建议采用离线迁移+在线热迁移两种方式；
离线迁移可以把99%的数据快速安全的迁移到腾讯云内网。另外，出于安全考虑，云数据库服务器通常不建议直接暴露在公网（即使开启外网IP也会存在限速），所以也需要通过离线迁移+在线热迁移两种方式。

 __迁移前准备__ 
1、“管理中心>云数据库>SQL Server”创建需要导入的数据库，并赋与账号“读写”权限；
2、 [前往](https://cloud.tencent.com/document/product/238/7519#.E8.BF.81.E7.A7.BB.E5.89.8D.E5.87.86.E5.A4.87) 下载“Windows客户端上传工具”；
3、准备需要离线迁移至腾讯云的数据备份文件；

 __迁移步骤__ 
1、将已准备好的数据备份文件通过【Windows客户端上传工具】上传至腾讯云提供的免费中转存储中（ [如何使用上传工具](https://cloud.tencent.com/document/product/238/6412) ）；
2、数据库实例页面左侧导航栏中选择【SQLServer】-【数据传输】-【创建任务】；
![图片描述](//bot1024-1253841380.file.myqcloud.com/90ca2cacc4f511e7a79e5254000ab150.png)
3、创建新的离线迁移任务。任务名称由用户自定义，源实例类型选择“SQLServer备份还原”，源库地域请选择在使用“Windows客户端上传工具”上传备份文件时所指定的地域（通常与目标库地域保持一致），目标库类型和目标库地域会根据源库的配置由系统自动生成，最后在实例ID下拉列表中选择需要迁入的实例；
![图片描述](//bot1024-1253841380.file.myqcloud.com/a31672dac4f511e7acc85254000ab150.png)
4、任务创建完毕后，页面跳转到任务列表，选择并启动任务；
![图片描述](//bot1024-1253841380.file.myqcloud.com/b45c79ccc4f511e7a79e5254000ab150.png)
5、查看同步状态，当状态变为“同步成功”时，整个离线迁移过程结束，数据迁移成功。若状态变为“同步失败”，请查看失败信息，并根据失败信息修正后重新迁移；













