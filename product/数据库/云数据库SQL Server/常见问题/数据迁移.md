### 如何将数据迁移到腾讯云数据库 SQL Server？
腾讯云数据库 SQL Server 支持本地 IDC 自建、腾讯云 CVM 服务器自建、其他云厂商云服务器自建、其他云厂商的云数据库、腾讯云云数据库迁移至腾讯云数据库 SQL Server。支持 [冷备迁移](https://cloud.tencent.com/document/product/238/50267)、[使用 DTS 迁移数据](https://cloud.tencent.com/document/product/238/50268) 这两种迁移方式，您可根据业务场景选择适合业务的迁移方式。
- 如果您的业务允许停机进行备份，可采用 [冷备迁移](https://cloud.tencent.com/document/product/238/50267)，即通过 bak 备份文件进行数据恢复来将源数据库迁移到腾讯云数据库 SQL Server，支持用户通过 COS 文件或本地上传文件，来迁移数据至云数据库 SQL Server，支持全量备份文件、全量备份文件 + 日志备份、全量备份文件 + 差异备份3种恢复方式。
- 如果您的业务不允许停机，需要不停机平滑迁移，可 [使用 DTS 迁移数据](https://cloud.tencent.com/document/product/238/50268)，支持全量迁移、全量 + 增量迁移这两种迁移类型，支持公网、云主机自建、专线接入、VPN 接入、云联网接入、云数据库等多种接入类型。

### 本地 IDC 自建 SQL Server 如何迁移到腾讯云数据库 SQL Server？
- 如果您的业务允许停机进行备份,可采用 [冷备迁移](https://cloud.tencent.com/document/product/238/50267)，即通过 bak 备份文件进行数据恢复来将源数据库迁移到腾讯云数据库 SQL Server，支持用户通过 COS 文件或本地上传文件，来迁移数据至云数据库 SQL Server，支持全量备份文件、全量备份文件 + 日志备份、全量备份文件 + 差异备份3种恢复方式。
- 如果您的业务不允许停机，需要不停机平滑迁移，可 [使用 DTS 迁移数据](https://cloud.tencent.com/document/product/238/50268)，支持全量迁移、全量 + 增量迁移这两种迁移类型，支持公网、云主机自建、专线接入、VPN 接入、云联网接入等多种接入类型。

### 如何将本地自建数据库备份恢复到云数据库 SQL Server 上呢 ？
在云数据库 SQL Server 控制台中，您可以采用直接上传备份文件或从 COS 下载备份文件的方式，上传备份文件，通过冷备迁移功能，将自建数据库备份恢复到云数据库 SQL Server 上，详情请参见 [冷备迁移](https://cloud.tencent.com/document/product/238/50267)。

[](id:BAKHF)
### 已购买腾讯云 SQL Server 数据库，我怎么把自已的本地备份 bak 恢复上云？
在云数据库 SQL Server 控制台中，您可以采用直接上传备份文件或从 COS 下载备份文件的方式，将本地 bak 恢复上云，详情请参见 [冷备迁移](https://cloud.tencent.com/document/product/238/50267)。

### 腾讯云 CVM 服务器自建 SQL Server 如何迁移到腾讯云数据库 SQL Server？
- 如果您的业务不允许停机，需要不停机平滑迁移，可 [使用 DTS 迁移数据](https://cloud.tencent.com/document/product/238/50268)，支持全量迁移、全量+增量迁移这两种迁移类型，支持公网、云主机自建、专线接入、VPN 接入、云联网接入等多种接入类型。
- 如果您的业务允许停机进行备份,可采用 [冷备迁移](https://cloud.tencent.com/document/product/238/50267)，即通过 bak 备份文件进行数据恢复来将源数据库迁移到腾讯云数据库 SQLServer，支持用户通过 COS文件或本地上传文件，来迁移数据至云数据库 SQL Server，支持全量备份文件、全量备份文件 + 日志备份、全量备份文件 + 差异备份3种恢复方式。

### 其他云厂商云服务器自建 SQL Server 如何迁移到腾讯云数据库 SQL Server？
- 如果您的业务不允许停机，需要不停机平滑迁移，可 [使用 DTS 迁移数据](https://cloud.tencent.com/document/product/238/50268)，支持全量迁移、全量+增量迁移这两种迁移类型，支持公网、云主机自建、专线接入、VPN接入、云联网接入等多种接入类型。
- 如果您的业务允许停机进行备份,可采用 [冷备迁移](https://cloud.tencent.com/document/product/238/50267)，即通过 bak 备份文件进行数据恢复来将源数据库迁移到腾讯云数据库 SQL Server，支持用户通过 COS 文件或本地上传文件，来迁移数据至云数据库 SQL Server，支持全量备份文件、全量备份文件 + 日志备份、全量备份文件 + 差异备份3种恢复方式。

### 其他云厂商的云数据库 SQL Server 实例如何迁移到腾讯云数据库 SQL Server？
- 如果您的业务不允许停机，需要不停机平滑迁移，可 [使用 DTS 迁移数据](https://cloud.tencent.com/document/product/238/50268)，支持全量迁移、全量+增量迁移这两种迁移类型，支持公网、云主机自建、专线接入、VPN接入、云联网接入等多种接入类型。
- 如果您的业务允许停机进行备份,可采用 [冷备迁移](https://cloud.tencent.com/document/product/238/50267)，即通过 bak 备份文件进行数据恢复来将源数据库迁移到腾讯云数据库 SQL Server，支持用户通过 COS 文件或本地上传文件，来迁移数据至云数据库 SQL Server，支持全量备份文件、全量备份文件 + 日志备份、全量备份文件 + 差异备份3种恢复方式。

### 腾讯云数据库 SQL Server 双节点（原高可用版/集群版）实例如何迁移到腾讯云数据库 SQL Server 单节点（原基础版）实例？
当源实例为腾讯云双节点（原高可用版/集群版）实例时，不能通过 DTS 迁移到腾讯云单节点（原基础版）实例，您可采用 [冷备迁移](https://cloud.tencent.com/document/product/238/50267)，即通过 bak 备份文件进行数据恢复来将源数据库迁移到腾讯云数据库 SQL Server。

[](id:SJGKYBJQSL)
### 腾讯云数据库 SQL Server 单节点（原基础版）实例如何迁移到腾讯云数据库 SQL Server 双节点（原高可用版/集群版）实例？
当源实例为腾讯云单节点（原基础版）实例时，您可 [使用 DTS 迁移数据](https://cloud.tencent.com/document/product/238/50268)，来将数据迁移到腾讯云双节点（原高可用版/集群版）实例。

### 腾讯云数据库 SQL Server 双节点（原高可用版/集群版）实例如何迁移到腾讯云数据库 SQL Server 其他版本的双节点（原高可用版/集群版）实例？
当源实例为腾讯云低版本的双节点（原高可用版/集群版）实例时，可 [使用 DTS 迁移数据](https://cloud.tencent.com/document/product/238/50268)，来将数据迁移到高版本，但不推荐。您可直接 [调整实例版本](https://cloud.tencent.com/document/product/238/67862)，来将低版本升级到高版本，无需进行数据迁移。

### 云数据库 SQL Server 是否支持跨账号迁移？
云数据库 SQL Server 支持使用 DTS 数据迁移功能跨账号（腾讯云账号）进行实例间的数据迁移操作，详细注意事项和操作方法请参见 [使用 DTS 跨账号迁移数据](https://cloud.tencent.com/document/product/238/85807)。

### 云数据库 SQL Server 是否支持异构迁移？
云数据库 SQL Server 不支持异构迁移。

### 云数据库 SQL Server 是否支持自建数据库与云上进行数据同步？
云数据库 SQL Server 不支持数据同步。

### 金蝶 K/3 WISE 如何接入云数据库 SQL Server？
金蝶 K/3 WISE 接入云数据库 SQL Server 分为以下几步，首先需要迁移数据至云数据库 SQL Server，并实现在云数据库 SQL Server 实例和 Windows 云服务器之间执行分布式事务，之后初始化帐套管理，全部设置完成后，云服务器 CVM 和云数据库 SQL Server 之间就能够支持分布式事务，您也可以正常登录并使用金蝶 K/3 WISE，详见 [金蝶 K/3 WISE 如何接入云数据库 SQL Server](https://cloud.tencent.com/document/product/238/43335)。

[](id:ZYSX1)
### 使用 DTS 迁移上云进行前，都有哪些注意事项？
使用 DTS 迁移上云进行前，建议您对源数据库和目标数据库做如下检查：
- 需要检查源及目标数据库版本号。目标数据库的版本号需要大于或等于源数据库的版本号，例如源库为2016版，则迁移的目标库只能为2016、2017、2019版本。
- 需要检查源及目标数据库架构版本。当源实例为本地 IDC 自建、腾讯云 CVM 服务器自建、其他云厂商的云服务器自建、其他云厂商的云数据库 SQLServer 实例时，可以迁移到腾讯云单节点（原基础版）和双节点（原高可用版/集群版）任意架构版本的 SQL Server 实例；当源实例为腾讯云双节点（原高可用版/集群版）实例时，不能通过 DTS 迁移到腾讯云单节点（原基础版）实例；当源实例为腾讯云单节点（原基础版）实例时，可以通过 DTS 迁移到腾讯云双节点（原高可用版/集群版）实例。
- 需要检查源及目标数据库网络连通性。源库和目标库数据库网络要能够连通。且源库所在服务器需具备足够的出口带宽，否则将影响迁移效率。
- 需要检查源及目标端数据库命名。目标端不能和源端有重名的数据库。
- 需要检查源端数据库实例账号权限。迁移源端的 SQL 服务启动需要改为 local，源端迁移的数据库账号无限制，但是需要有 sysadmin 权限。
- 需要检查目标端数据库实例账号权限。目标端需使用具有管理员权限的账号进行迁移。
- 需要检查源端数据库端口开放。源数据库需要开放1433端口，且因 Windows Server 共享问题，源数据库所在的服务要开放文件共享端口445。
- 需要检查源端数据库恢复模式。源数据库必须得设置为“完全恢复模式”，且在迁移前建议用户自己做下全量备份。
- 需要检查源端数据库本地盘空间。源数据库所在本地磁盘空间需要足够大，剩余空闲空间能放下要迁移库的大小。
- 需要检查目标数据库的磁盘空间。目标库所在的磁盘空间要大于源库大小，尽量为源库大小的1.5倍。
- 需要检查目标端数据库状态。目标端不能有访问，不能有负载业务进行，否则会导致迁移失败。

[](id:ZYSX2)
### 使用 DTS 迁移上云过程中，都有哪些注意事项？
使用 DTS 迁移过程中，有以下操作限制需要注意：
- 同一源实例同一时间只能发起一个迁移任务。
- 只支持库粒度迁移，即在迁移过程中，只支持将库的所有对象一起迁移，不支持单个表的迁移。
- 不支持迁移实例级别的 login、job、触发器、db link （link server）。
- 迁移过程中，请勿修改、删除源数据库和目标数据库中用户信息（包括用户名、密码和权限）和端口号，否则会导致迁移任务失败。
- 增量同步的过程中，不能进行事务日志备份，否则会截断事务日志，导致事务日志不能连续。
- 如果仅执行全量数据迁移，请勿在迁移过程中向源实例中写入新的数据，否则会导致源和目标数据不一致。针对有数据写入的场景，为实时保持数据一致性，建议选择全量 + 增量数据迁移。
- 针对全量 + 增量数据迁移，当单击完成，任务状态为完成中时，请勿向源数据库中写入新的数据，建议在单击完成后，停写两分钟，否则可能会导致源和目标库的数据不一致。

### 使用 DTS 迁移上云完成后，都有哪些注意事项？
使用 DTS 迁移完成后，建议您对目标数据库做如下检查：
- 需要检查权限完整性。权限会影响对于数据库的方案，迁移仅会完成数据恢复。数据库用户恢复，登录名等其他服务级权限需要重新创建，并且关联数据库账户。
- 需要对索引进行重建。由于迁移完成后数据文件的物理环境发生了改变，数据库索引会失效，需要对索引进行重建，否则可能会导致数据库性能有明显下降。
- 需要检查实例级别的对象。例如 login、job、触发器、db link （link server）等，迁移完成后，需要用户自己去重建。
