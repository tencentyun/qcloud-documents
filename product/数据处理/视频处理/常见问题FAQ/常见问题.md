### int(-5984) ["message"]=> string(13) "sha1 不匹配
上传文件，是说您上传的文件内容 算出来的 sha1 值 和您传入的 sha1 值，不一致。

### 为什么我设置了水印功能，但是没效果？
设置水印后，需要启用转码功能才能打上水印，以及 设置水印后，2-5分钟之后才会生效。

### 视频处理的接口完全兼容 COS 吗？
是。视频处理是在 COS 上面的一个扩展，底层与 COS 接口一致。
 
### 在 iOS 是不是无法同时使用 COS 和视频处理？
可以 ，视频处理跟 COS 用的是相同的 SDK。

### 视频处理的上传大小限制是多少？
 上传大小没有限制。

### 为什么没有视频时长？为什么没有封面？
视频计算时、截取封面、打水印都是在视频转码的时候做的，所以至少要选择一个视频转码格式。
没有视频封面还有一个可能的原因是，没有自动生成存放封面的 systemcover Bucket，这时候，可以单击视频处理控制台的密钥配置的按钮：
确保生成了 systemcover 这个 Bucket 后，再尝试上传视频，截取封面的功能。
>!systemcover 这个 Bucket 不能修改任何属性。也不要往里面上传、删除文件。

### 为什么修改了空间权限、refer、cname 没有生效？
视频处理虽然存储基于 COS，但是下载和 CDN 没有解耦。如果设置没有报错误，下发到 CDN 也需要一点时间，请耐心待定10分钟到半小时，再试试。记得刷新缓存。

### 视频名字、描述为什么是乱码？
COS 的文件名都是 utf8 编码，如果不是就会显示乱码，并且无法在控制台删除。请使用 utf8 编码的文件名。

### 为什么视频转码后被旋转了90度？
有些手机拍摄的视频会带有 rotation 属性，转码的时候，会根据 rotation 属性对视频进行旋转。

### 为什么视频没有一直在转码中？
视频只会对如下后缀的视频格式，进行转码：
flv，m4v，mov，mp4，m4a，3gp，3g2，mpegts，rm，wav，avi，rmvb，mpeg，mjpeg
如果，视频后缀在这个列表里，且等待了足够长的时间（一般视频转码时间可以大致认为和视频时长相当），还是处于转码中。可能是转码系统繁忙或者故障，可以在工单中提供 appid、Bucket、视频文件路径 path，提交问题。

### 视频处理是否支持 HTTPS？
上传支持，下载不支持。下载安全请使用私有 Bucket、refer 来保证。

### 设置了自定义视频封面，为什么在控制台看不到视频封面？
自定义视频封面只是一个 URL，请保证设置的 URL 可以公网访问。常见的问题是用户想要设置本地的一个图片作为封面，传入的是本地路径，当然无法看到视频封面了。需要把图片传到某个地方，比如万象、COS，获取了公网可以下载的 URL，然后设置到视频封面，才能看到。

### 设置了回调，为什么上传完视频，没有收到回调请求？
视频回调是转码完成才会回调。并且请业务保证自己的接受回调的 server 的端口，没有被防火墙拦截，是可以访问的。
如果视频后缀，不在第10条列出的转码格式中，则不会发起视频转码，自然也不会发起回调。

### 视频处理支持什么格式？
- 输入：转码平台用的是 ffmpeg 框架，ffpmeg 支持的格式都支持，除了 rmvb、flv。
- 输出：只有 mp4/H264 (mp4 是容器格式，H264 是编码格式)。
![](https://mc.qcloudimg.com/static/img/4a5ae03bd12eefa7471905581bccad47/1471401038_78_w1335_h139.png)
>!封面格式 ： PNG 

