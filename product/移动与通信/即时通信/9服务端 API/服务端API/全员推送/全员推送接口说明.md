## 全员推送服务简介
全员推送服务是基于即时通信 IM 通信架构实现的一组 REST API，用以支持 App 应用的全员推送、标签推送、属性推送等消息推送需求，客户端可通过 SDK 在线推送、离线推送（Android 后台通知和 APNs）接收推送的消息。同时全员推送支持消息的离线存储，帮助运营人员更高效地实现运营目标。

>!
>- 帐号必须曾经登录过或者手动导入过该帐号，才可以接收到全员推送的消息。
>- 本功能**仅针对旗舰版客户开放申请（如您降级为专业版将无法使用），您可通过 [工单](https://cloud.tencent.com/document/product/269/3916#.E5.BC.80.E9.80.9A.E5.85.A8.E5.91.98.E6.8E.A8.E9.80.81) 申请开通该功能，申请后我们将对您的需求进行评估，需求评估合理后您方可使用该功能**。

## 全员推送服务提供的基础能力

- 支持 App 内用户全员推送消息。
- 支持指定用户标签推送消息。
- 支持指定用户属性推送消息。

## 产品优势

全员推送服务基于客户端 IM SDK 和即时通信 IM 后台，在消息能力和系统可用性上有可靠保证：

- 基于 IM SDK，保证消息可达，可简单为应用提供消息广播能力。
- 支持为每个用户设置最多10个推送属性，各属性可分别设置，互不影响。
- 属性推送支持选择多个属性的 and/or 逻辑进行推送。
- 标签推送同样支持选择多个标签的 and/or 逻辑进行推送。
- 支持只推在线用户，同时支持最长7天的消息离线存储。
- 支持自定义消息。
- 支持指定发送方帐号。

## 应用场景示例
### 全员推送场景示例
1. 例如，某款游戏计划在圣诞节推出优惠活动，为了达到运营效果，需要推送给全部用户。这时候就可以采用全员推送服务。此外，为了让更多的用户知道这个活动，可以设置消息离线存储时间。这样即便推送时某些用户不在线，但在离线存储时间范围内，这些用户上线时也能收到消息，从而提升活动质量效果。
2. 例如，某款直播 App 计划举行一场大型的直播带货活动，需要推送通知给全部用户，这时候就可以在活动开始前7天进行全员推送，同时设置消息离线存储时间为7天。到了活动开始的时间，也可以进行全员推送，不设置消息离线存储时间，这样在线的用户都可以收到活动开始的通知，从而进入直播间，提高直播间人气。

### 按用户标签推送场景示例
例如，某金融产品计划给那些关注“股票 A”或者“股票 B”的用户推送某一理财服务。这时就可以使用标签推送：

1. 当有用户关注“股票 A”或者“股票 B”时，调用添加标签接口，给该用户加上对应的标签。
2. 当有用户取消关注“股票 A”或者“股票 B”时，调用删除标签接口，删除该用户的对应标签。
3. 在推送接口中设置推送标签条件为“股票 A”或“股票 B”（即 TagsOr 功能），于是所有关注“股票 A”或者“股票 B”的用户都可以收到消息。


### 按用户属性推送场景示例
例如，某款游戏的用户会员级别有：非会员、普通会员、黄金会员、超白金会员。现在运营人员计划给在深圳的超白金会员用户推送某一活动。此时就可以使用按属性推送：

1. 设置应用属性名称。该示例中的游戏用户有两个属性：会员等级和所在城市。因此可以设置属性0为会员等级，属性1为所在城市。
2. 当用户会员级别改变时（例如会员到期或者用户充值买会员时），调用设置用户属性接口，更改用户的会员等级属性。如充值买黄金会员时，设置用户的会员等级属性为“黄金会员”即可。
3. 当用户更改所在城市时，同样调用设置用户属性接口，更改用户的所在城市属性。如从北京改为上海时，设置用户的所在城市属性为“上海”即可。
4. 运营活动时，即可调用推送接口，将推送属性条件设为：会员等级为超白金用户并且所在城市为深圳，则所有在深圳的超白金会员用户就能收到消息。

>!上述场景属性推送比标签推送更适合。因为使用标签推送的话，当用户所在城市从深圳变为广州，那么应用得先删除用户的"深圳"标签，然后再给用户添加上"广州"的标签，需要调用两次接口。而属性推送的话，直接修改用户所在城市属性即可，只需一次接口调用。

## 相关API
- [全员推送](https://cloud.tencent.com/document/product/269/45934) 
- [设置应用属性名称](https://cloud.tencent.com/document/product/269/45935) 
- [获取应用属性名称](https://cloud.tencent.com/document/product/269/45936) 
- [设置用户属性](https://cloud.tencent.com/document/product/269/45938)  
- [删除用户属性](https://cloud.tencent.com/document/product/269/45939)  
- [获取用户属性](https://cloud.tencent.com/document/product/269/45937)  
- [添加用户标签](https://cloud.tencent.com/document/product/269/45941)  
- [获取用户标签](https://cloud.tencent.com/document/product/269/45940)  
- [删除用户标签](https://cloud.tencent.com/document/product/269/45942)  
- [删除用户所有标签](https://cloud.tencent.com/document/product/269/45943)  
