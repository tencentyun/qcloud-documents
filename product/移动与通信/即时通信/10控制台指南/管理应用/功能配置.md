## 登录与消息
登录 [即时通信 IM 控制台](https://console.cloud.tencent.com/im) ，单击目标应用卡片，在左侧导航栏选择**功能配置**>**登录与消息**，您可以根据实际业务需求管理登录与消息相关配置。

### 登录设置
1. 在**登录与消息**页面，单击**登录设置**右侧的**编辑**。
2. 在弹出的登录设置对话框中，选择多端登录类型，设置 Web 端以及其他平台实例同时在线数量。
 ![](https://main.qcloudimg.com/raw/48f12fc48304a788f56637ff4dbd46af.png)
3. 单击**确定**保存设置。

### 历史消息存储时长配置
历史消息默认存储7天，**延长历史消息存储时长为增值服务**，具体计费说明请参见 [价格说明](https://cloud.tencent.com/document/product/269/11673)。每个自然月仅支持更改一次配置。

1. 在**登录与消息**页面，单击**历史消息存储时长配置**右侧的**编辑**。
2. 在弹出的历史消息存储时长配置对话框中，设置延长历史消息存储时长。
3. 单击**确定**保存配置，该配置即刻生效。

### 消息撤回设置
1. 在**登录与消息**页面，单击**消息撤回设置**右侧的**编辑**。
2. 在弹出的**消息撤回设置**对话框中，设置消息可撤回时长。
3. 单击**确定**保存配置。

### 黑名单检查
在**登录与消息**页面，在**黑名单检查**区域可以选择开启或关闭发送消息后展示发送成功：
- 启用：若对方已将您的帐号加入黑名单，您向对方发送单聊消息时将提示消息发送成功，实际对方不会收到消息。默认为启用。
- 关闭：若对方已将您的帐号加入黑名单，您向对方发送单聊消息时将提示消息发送失败。

### 好友关系检查
在**登录与消息**页面，在**好友关系检查**区域可以选择开启或关闭发送单聊消息检查关系链：
- 开启：发起单聊时会先检查好友关系，仅允许好友之间发送单聊消息，陌生人发送单聊消息时 SDK 会收到 [错误码 20009](https://cloud.tencent.com/document/product/269/1671#.E6.B6.88.E6.81.AF.E9.94.99.E8.AF.AF.E7.A0.812)。
- 关闭：发起单聊时无需检查好友关系，允许用户和好友、陌生人之间发送单聊消息。默认为关闭。

## 好友与关系链
设置添加好友的验证方式、好友自定义字段。
### 设置添加好友验证方式
1. 登录 [即时通信 IM 控制台](https://console.cloud.tencent.com/im) ，单击目标应用卡片。
2. 在左侧导航栏选择**功能配置**>**好友与关系链**，在**默认加好友验证方式设置**功能卡片右侧单击**编辑**。
![](https://main.qcloudimg.com/raw/924d9dd65d0815d1e5906c72d26328a5.png)
3. 选择合适的方式单击**确定**进行保存。

### 好友自定义字段
>?最多可添加20个好友自定义字段，该字段不支持修改字段名与字段类型且不支持删除，请根据业务需求合理规划该字段。

1. 登录 [即时通信 IM 控制台](https://console.cloud.tencent.com/im) ，单击目标应用卡片。
2. 在左侧导航栏选择**功能配置**>**好友与关系链**。
3. 单击**好友自定义字段**功能卡片右侧的**新增**。
4. 在弹出的好友自定义字段对话框中，输入自定义字段名，设置字段类型。

<dx-alert infotype="explain" title="">
字段名必须是英文字母，且长度不能超过8个字符。
</dx-alert>

## 用户自定义字段
登录 [即时通信 IM 控制台](https://console.cloud.tencent.com/im) ，单击目标应用卡片，在左侧导航栏选择**功能配置**>**用户自定义字段**，您可以根据实际业务需求管理用户自定义字段。
>!最多可添加20个用户自定义字段，该字段不支持修改字段名与字段类型且不支持删除，请根据业务需求合理规划该字段。

### 添加用户自定义字段

1. 在**用户自定义字段**页面，单击右侧**新增**按键。
2. 在弹出的用户自定义字段对话框中，输入自定义字段名，设置字段类型，设置读写权限。
<dx-alert infotype="explain" title="">
 - 字段名必须是英文字母，且长度不能超过8个字符。
 - 需至少设置一种读权限和一种写权限。
</dx-alert>

![](https://main.qcloudimg.com/raw/7f1fd57c8d0fbe80196afd3ce3890c28.png)
3. 单击**确定**保存配置。

### 修改用户自定义字段权限
1. 在**用户自定义字段**页面，单击目标自定义字段所在行的**修改权限**。
2. 在弹出的用户自定义字段对话框中，修改读写权限。
![](https://main.qcloudimg.com/raw/4407714c0cdd6eed155118cc992f12c4.png)
3. 单击**确认**保存配置。

 ![](https://main.qcloudimg.com/raw/bd55eeabe7b1418b5c734fd3d0bf8fb5.png)
5. 单击**确定**保存配置。

## 群成员自定义字段
登录 [即时通信 IM 控制台](https://console.cloud.tencent.com/im) ，单击目标应用卡片，在左侧导航栏选择**功能配置**>**群成员自定义字段**，您可以根据实际业务需求管理群成员自定义字段。
>!最多可添加5个群成员自定义字段，该字段仅支持修改群组类型及其对应的读写权限且不支持删除，请根据业务需求合理规划该字段。

### 添加群成员自定义字段
1. 在**群成员自定义字段**页面，右侧单击**新增**按键。
2. 在弹出的群成员维度自定义字段对话框中，输入字段名称，设置群组类型及其对应的读写权限。

<dx-alert infotype="explain" title="">
- 字段名称只能由字母、数字以及下划线（\_）组成，不能以数字开头，且长度不能超过16个字符。
- 群成员自定义字段名称不允许与群自定义字段名称一致。
</dx-alert>


 - 单击**添加群组类型**可新增一组群组类型参数，群组类型不可重复。
 - 单击目标群组类型参数组所在行的**删除**可删除该组群组类型参数，需至少保留一组群组类型参数。
 ![](https://main.qcloudimg.com/raw/3d9fbc608697328c9a2aa885e28a20c4.png)
3. 勾选**我已知道“群成员自定义字段”添加后，仅可修改已添加群组类型的读写权限；无法删除该字段，无法重新选择也无法删除已添加的群组类型。**
4. 单击**确定**保存设置。

### 编辑群成员自定义字段
1. 在**群成员自定义字段**页面，单击目标群成员自定义字段所在行的**编辑**。
2. 在弹出的群成员维度自定义字段对话框中，修改已选群组类型的读写权限，或单击**添加群组类型**新增群组类型并设置其参数，群组类型不可重复。
 ![](https://main.qcloudimg.com/raw/607dddbf4fd87f9472e57533e339d8a2.png)
3. 勾选**我已知道“群成员自定义字段”添加后，仅可修改已添加群组类型的读写权限；无法删除该字段，无法重新选择也无法删除已添加的群组类型。**
4. 单击**确定**保存设置。


## 群自定义字段
登录 [即时通信 IM 控制台](https://console.cloud.tencent.com/im) ，单击目标应用卡片，在左侧导航栏选择功能配置>群自定义字段，您可以根据实际业务需求管理群自定义字段。
>!最多可添加5个群自定义字段，该字段仅支持修改群组类型及其对应的读写权限且不支持删除，请根据业务需求合理规划该字段。

### 添加群自定义字段
1. 在群自定义字段页面，单击添加群维度自定义字段。
2. 在弹出的群维度自定义字段对话框中，输入字段名称，设置群组类型及其对应的读写权限。

>?
>- 字段名称只能由字母、数字以及下划线（\_）组成，不能以数字开头，且长度不能超过16个字符。
>- 群自定义字段名称不允许与群成员自定义字段名称一致。

 - 单击添加群组类型可新增一组群组类型参数，群组类型不可重复。
 - 单击目标群组类型参数组所在行的删除可删除该组群组类型参数，需至少保留一组群组类型参数。
 ![](https://main.qcloudimg.com/raw/7ddc5a731e980e7e41039ab76c6e19c1.png)
3. 勾选**我已知道“群成员自定义字段”添加后，仅可修改已添加群组类型的读写权限；无法删除该字段，无法重新选择也无法删除已添加的群组类型。**
4. 单击确定保存设置。

### 编辑群自定义字段
1. 在群自定义字段页面，单击目标群自定义字段所在行的编辑。
2. 在弹出的群维度自定义字段对话框中，修改已选群组类型的读写权限，或单击添加群组类型新增群组类型并设置其参数，群组类型不可重复。
 ![](https://main.qcloudimg.com/raw/6d20c9939169c194786d8ab7a339ec06.png)
3. 勾选**我已知道“群成员自定义字段”添加后，仅可修改已添加群组类型的读写权限；无法删除该字段，无法重新选择也无法删除已添加的群组类型。**
4. 单击确定保存设置。
 

