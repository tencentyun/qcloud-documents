本文主要介绍微搭编辑器自带的平台方法以及使用方式,若存在自定义方法的使用需求可参见 [API 接口文档](https://cloud.tencent.com/document/product/1301/56700)。

## 调用数据源方法 callDataSource
调用数据源中已配置完成的方法，对数据源进行增删改查的操作。

### 方法参数

| 参数名称   | 参数说明                                                 |
| ---------- | -------------------------------------------------------- |
| 数据源名称 | 从当前环境中所有已创建的数据源进行选择                   |
| 方法名     | 对数据源方法进行选择                                     |
| 传入参数   | 若数据源方法需要入参，则在此处可以传入对应参数（非必填） |
| 显示加载   | 在数据源请求过程中显示加载提示                           |
| 显示提示   | 数据源请求完成后显示成功或失败的消息提示                 |

## 变量赋值 setState
为当前页面或全局变量进行赋值操作。

### 方法参数

| 参数名称 | 参数说明                                         |
| -------- | ------------------------------------------------ |
| 变量名   | 支持下拉选择当前页面或者是全局中已创建的全部变量 |
| 变量值   | 输入需要赋予所选变量的值                         |

## 打开页面 openPage
控制应用的页面跳转，页面跳转后支持使用 navigateBack 方法进行页面返回操作。

### 方法参数

| 参数名称 | 参数说明                                                                                                  |
| -------- | --------------------------------------------------------------------------------------------------------- |
| 模式     | 微搭：跳转至当前应用编辑器的其他页面<br>Web：跳转至外部页面（当构建平台为小程序时不可用）                 |
| 链接     | 模式选择微搭时：选择应用编辑器的内部页面<br>模式选择 Web 时：输入外部页面链接（当构建平台为小程序时不可用）|

## 返回上一页 navigateBack

当应用通过 navigate To 方法进行跳转后，可通过该触发该方法返回上级页面。

## 打开弹窗提示 showModal
触发后在当前页面弹出弹窗，弹窗内容与样式可自由调整。

### 方法参数

| 参数名称           | 参数说明                                  |
| ------------------ | ----------------------------------------- |
| 标题               | 弹窗展示的标题内容                        |
| 内容               | 弹窗展示的详情内容                        |
| 是否展示取消按钮   | 控制取消按钮的显示与隐藏                  |
| 取消按钮的文字     | 取消按钮的展示文本内容，最多支持 4 个字符 |
| 取消按钮的文字颜色 | 取消按钮的展示文字颜色                    |
| 确定按钮的文字     | 确定按钮的展示文本内容，最多支持 4 个字符 |
| 确定按钮的文字颜色 | 确定按钮的展示文字颜色                    |

### 使用示例
![](https://qcloudimg.tencent-cloud.cn/raw/3ed01feedaab0923f5fd7b0fbfba2309.png)

## 扫码 scanCode

触发后调出手机扫码功能，支持对条形码、二维码进行识别。

### 方法参数

| 参数名称                                 | 参数说明                                                                                      |
| ---------------------------------------- | --------------------------------------------------------------------------------------------- |
| 是否只能从手机扫码，不允许从相册选择图片 | 扫码时是否支持选择手机相册图片                                                                |
| 是否开启默认管理                         | 在 Web 环境下若扫码内容为链接则自动弹窗打开，否则展示扫码内容。在小程序环境下自动弹窗显示内容 |
| 扫码类型                                 | 选择可识别的扫码类型，目前支持条形码、二维码                                                  |

### 使用示例
#### 如何把扫码后获取的值填写到表单中？
新建一个普通变量（AAA），页面中添加一个按钮和一个单行输入组件，单行输入组件的输入值绑定新建的普通变量。
![](https://qcloudimg.tencent-cloud.cn/raw/f21df8b4a43e3e39f34ce6409bd65f07.png)
选择按钮，为按钮配置事件 > 点击时进行扫码，扫码成功时给变量赋值（event.detail.result为获取二维码对应的链接值）。
![](https://qcloudimg.tencent-cloud.cn/raw/8946178bb81032c30f669413ebadb202.png)
应用发布后，使用手机扫码预览，点击按钮扫描任意二维码可查看结果。

## 显示消息提示 showToast

触发后在当前页面弹出消息提示，常用于表单提交场景。

### 方法参数

| 参数名称 | 参数说明                                                       |
| -------- | -------------------------------------------------------------- |
| 标题     | 消息提示的标题内容                                             |
| 图标     | 消息提示对应的图标，目前支持成功、加载中、失败、无图标四种状态 |

### 使用示例
![](https://qcloudimg.tencent-cloud.cn/raw/2390eb7c88c316ffa4508375f7fb7cef.png)
