
## 步骤1：新建流程
进入微搭低代码控制台，进入 [**工作流**](https://console.cloud.tencent.com/lowcode/flow/index) 页面，单击**新建流程**。
![](https://qcloudimg.tencent-cloud.cn/raw/d5db681a49874c9e0d3794334ce47f17.png)

## 步骤2：选择触发类型并配置
选择**触发类型**并配置**触发节点** 。
<img src = "https://qcloudimg.tencent-cloud.cn/raw/cb5c3500ecd12e7ecab9c4c24951ab49.png" style="width: 100%">
<table>
<tr>
<th>触发类型</th>
<th>功能说明</th>
<th>场景举例</th>
</tr>
<tr>
<td >定时触发</td>
<td>您可以基于一个固定的时间点，设定一个循环周期时间（例如每周一早8点），当时间每到达该周期时间，都可以执行一次计划的动作。</td>
<td >公司每周一下午3点开周例会，通过循环流程，设置每周一下午2点，就短信提醒大家准备开会；合同到期前一天9点短信提醒合同责任人，合同即将到期。</td>
</tr>
<tr>
<td >数据触发</td>
<td>当数据满足某种条件时，用户操作某功能时，即可触发流程的执行。</td>
<td >用户新建请假数据，并单击<b>提交表单</b>时触发<b>请假审批</b>流程。</td>
</tr>
</table>


## 步骤3：设置功能节点
设置流程中需要执行的功能节点，下列提供**审批、发送通知、数据表操作和分支**四种功能节点的介绍。
![](https://qcloudimg.tencent-cloud.cn/raw/16009d052141ad94d7c142d109a8ab49.png)

### 审批
在审批场景下，需要用到“审批节点”，并在审批通过或者驳回后进行相应的数据状态变更，或发送通知给相关业务执行人。单击**审批**，添加并配置审批节点。
![](https://qcloudimg.tencent-cloud.cn/raw/378f31e860228f84dfb2f282e83a0d60.png)

#### 参数说明
<table>
    <tr>
        <th colspan="2">参数项</th>
        <th>描述</th>
    </tr>
    <tr>
        <td colspan="2">关联数据源</td>
        <td>选择要审批的数据源。</td>
    </tr>
    <tr>
        <td colspan="2">节点名称</td>
        <td>根据实际情况创建节点名称。</td>
    </tr>
    <tr>
        <td rowspan="2">审批类型</td>
        <td>单人审批</td>
        <td>该节点只需要一个人审批通过即为审批通过，该节点审批人在设置时可以设置为一个或多个，当该节点审批人设置为多人时，含义为审批人中只需要其中任何一个人审批通过即为通过。</td>
    </tr>
    <tr>
        <td>多人会签</td>
        <td>该节点需要多个人同时审批通过即为审批通过，该节点审批人在设置时可以设置为多个用户，或者包含多个用户的用户组，部门、角色等。</td>
    </tr>
    <tr>
        <td rowspan="2">审批人</td>
        <td>固定审批人</td>
        <td>在流程定义时已知审批人是谁，需要设定该节点的审批人。</td>
    </tr>
    <tr>
        <td>上一节点的审批人</td>
        <td>在流程执行时，流程节点执行人都是由前一个节点的审批人来指定。</td>
    </tr>
    <tr>
        <td colspan="2">通过</td>
        <td>勾选通过选项后，当流程执行时，审批人操作通过时可以编辑的字段，通过之后可发送通知给到其他相关用户，或者配置操作数据表更新来按照审批结果自动化更新数据表。</td>
    </tr>
    <tr>
        <td colspan="2">驳回</td>
        <td>勾选驳回选项后，当流程执行时，设置驳回后的流程走向，审批人操作驳回时可以编辑的字段，驳回之后可发送通知给到其他相关用户，或者配置操作数据表来按照审批结果自动化更新数据表。</td>
    </tr>
		    <tr>
        <td colspan="2">加签</td>
        <td>该节点勾选“加签”时，流程运行时，该节点审批人可在该节点审批前（前加签）或者审批后（后加签）增加其他人进行审批。</td>
    </tr>
		    <tr>
        <td colspan="2">转签</td>
        <td>该节点勾选“转签”时，流程运行时，该节点审批人可在该节点审批前将该节点审批权转给其他人进行审批。</td>
    </tr>
</table>

单击**审批页面**，可查看运行态时审批的页面样式，该页面暂时不支持用户自定义配置。
![](https://qcloudimg.tencent-cloud.cn/raw/d7af7f7c193ec63af62324b4c1c287bc.png)

>?需按照业务需求设置不同的审批操作时的参数。
根据业务需求，设置不同的分支流程。审批节点后增加分支节点，根据数据条件决定不同数据的流程走向。场景举例：请假1天只需要直属领导审批，请假大于1天需要直属领导审批后部门经理审批。


### 发送通知
通知节点是自动化执行不同类型系统通知的动作的集合，可通过配置“通知节点”实现当数据满足某种条件时或者某个定时条件下自动发送不同类型的通知触达用户。
![](https://qcloudimg.tencent-cloud.cn/raw/589d09b320fe89a9465d10890087ebbc.png)

#### 参数说明

| 参数项| 描述 |
|---------|---------|
| 消息模板| 选择该通知节点要发送的**消息模板**，**消息模板**支持用户配置。 | 
| 通知人| 选择通知对象，可选择通知的用户、角色或者数据模型中用户变量（如数据的创建人、负责人等）。 | 

[](id:msg)
#### 消息模板
进入工作流 > [消息模板](https://console.cloud.tencent.com/lowcode/flow/index?envId=lowcode-1gldzuizdbda41be) 页面。
![](https://qcloudimg.tencent-cloud.cn/raw/0671151db755816b7d19070c71634d19.png)
单击**新建消息**模板，配置通知模板。


#### 参数说明
| 参数项| 描述 |
|---------|---------|
| 通知标题| 该标题配置后会作为消息通知的标题展示。 | 
| 模板内容| 消息内容除了支持文本外，支持嵌入数据源变量字段，例如“张三”提交了一笔请假申请。其中“张三”为“请假人”字段，在流程运行时，该字段为变量值，不同的数据请假人不一样。 | 

<dx-alert infotype="explain" title="消息接收方式：">
<li>站内通知可发送至微搭预置的企业工作台的消息通知中。</li>
<li>待办可发送至微搭预置企业工作台的消息待办中。</li>
</dx-alert>




### 数据表操作
单击**操作数据表**，选择操作数据表类型。
![](https://qcloudimg.tencent-cloud.cn/raw/91ff614d883687a92bed3d30bd2fb23b.png)

#### 参数说明

| 参数项| 描述 |
|---------|---------|
| 关联数据源| 该节点要操作的数据模型。 | 
| 操作类型| ● 新建：新增该数据行记录<br>● 更新：更新某条记录中的一个或多个字段的值，可更新成常量或者变量<br>● 删除：删除该数据源记录<br>● 锁定：锁定该数据源记录，被锁定的行记录除了解锁，不能再进行任何操作<br>● 解锁：解锁该数据源记录，是锁定的反向操作| 

### 分支
单击**分支节点**，通过分支节点的条件设置，使满足不同数据条件的数据走不同的分支流程。
场景举例：请假1天只需要直属领导审批，请假大于1天需要直属领导审批后部门经理审批。
![](https://qcloudimg.tencent-cloud.cn/raw/4c778ded9186e490b164c97c2065eb6f.png)

#### 参数说明
| 参数项| 描述 |
|---------|---------|
| 关联数据源| 该节点要操作的数据模型。 | 
| 操作类型| 根据实际情况创建节点名称。| 
| 分支条件| 根据业务需求设置流程运行的条件判断，设置的条件需要互斥，如果一条数据同时满足两条分支，流程将无法判断按照哪条分支运行，运行将会报错。| 


## 步骤4：流程全局设置
流程中属于流程全局的而非流程节点的属性配置会放到流程**全局配置**中进行设置，如流程是否允许撤回，可按照业务需求进行配置。
![](https://qcloudimg.tencent-cloud.cn/raw/1a618d0bf07831ad6cf32c40a2abdb3f.png)

## 步骤5：保存流程
当业务流程比较复杂时，避免流程设置过程中容易出错，可以一边配置流程节点，一边检查配置是否有误，如配置有误，节点会红框选中预警提示用户，可提前检查并发现问题。保存流程后，流程可在企业工作台体验环境中进行运行测试。
![](https://qcloudimg.tencent-cloud.cn/raw/9fd4de417263155b371f158a4465f6db.png)


## 步骤6：发布流程
流程在体验环境测试无误后，可在流程列表单击**更多** > **发布**，将流程发布至线上环境，只有发布的流程才可以在正式环境正常运行。
![](https://qcloudimg.tencent-cloud.cn/raw/03eec8f2bbbb9e48b9359764d9af3d16.png)
发布后的流程运行态操作可在 [企业工作台](https://cloud.tencent.com/document/product/1301/59395) 的**流程中心**进行操作。
![](https://qcloudimg.tencent-cloud.cn/raw/f99d4fe7f4ee216c9795bcc76ae50f0d.png)
>?
> - **发布状态**：发布状态分为**未发布**和**已发布**两个状态。
> - **上线版本**：当流程发布时系统会自动生成流程版本，更新后重新发布会在正式环境产生新的流程版本，同一个流程有且只能是一个版本在线上运行，用户可根据需求随时切换线上运行的流程版本。

