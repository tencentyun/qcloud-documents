 标准数据模型是一种最简单、方便的业务数据模型。开发者只需要关注业务模型即可在应用中展示或操作数据，无需关心数据的读写方式、存储过程以及权限控制。

## 创建方式
标准数据模型目前支持两种创建方式：
- 空白创建：新建一个只包含系统字段的数据模型，开发者可以后续新增模型字段。
- 从 Excel 导入：通过上传 Excel 文件, 平台将对文件进行解析，完成模型字段和数据值的初始化。

更多详情请参见 [新建标准数据模型](https://cloud.tencent.com/document/product/1301/68452)。

## 模型字段
数据模型的模型字段描述了一个模型的数据结构，包括但不限于数据的类型、内容以及与其他模型的关系等。标准数据模型的模型字段由系统字段和自定义字段构成。开发者无法编辑、删除系统字段。
标准数据模型支持的字段类型，可以参见 [数据模型字段](https://cloud.tencent.com/document/product/1301/70519)。

## 模型方法
标准数据模型支持以下模型方法：

### 新增 wedaCreate
新增一条记录。

#### 入参说明
新增方法的入参为数据模型全部的非系统字段，例如：name、age 等。
```JSON
{
    "name": "张三",
    "age": 15
}
```


#### 出参说明
| 字段名称 | 字段标识 | 数据类型 | 说明 |
|---------|---------|---------|------|
| 新记录的ID | _id | 文本 | 创建成功的数据标识 |

```JSON
{
    "_id": "16db756f62d7c0870b8caa2a39d33dcb"
}
```



### 新增多条 wedaBatchCreate
新增多条记录。

#### 入参说明
| 字段名称 | 字段标识 | 数据类型 | 是否必填 | 说明 |
|---------|---------|---------|------|------|
| 数据内容 | records | 对象数组 |  是 |  待新增的多条数据 |

```JSON
{
    "records": [
      {
          "name": "张三",
          "age": 15
       }
	]
}
```

#### 出参说明
| 字段名称 | 字段标识 | 数据类型 | 说明 |
|---------|---------|---------|------|
| 新记录的ID数组 | ids | 文本数组 | 创建成功的数据标识 |

```JSON
{
    "ids": ["16db756f62d7c0870b8caa2a39d33dcb"]
}
```

### 删除 wedaDelete
删除一条指定数据标识的记录。

#### 入参说明
| 字段名称 | 字段标识 | 数据类型 | 是否必填 | 说明 |
|---------|---------|---------|------|------|
| 数据标识 | _id | 文本 |  是 |  待删除的记录数据标识 |

```JSON
{
    "_id": "16db756f62d7c0870b8caa2a39d33dcb"
}
```


#### 出参说明
| 字段名称 | 字段标识 | 数据类型 | 说明 |
|---------|---------|---------|------|
| 删除的记录条数 | deleted | 数字 | 成功删除的记录条数 |

```JSON
{
    "deleted": 1
}
```

### 批量删除 wedaBatchDelete
根据条件删除多条记录。

#### 入参说明
| 字段名称 | 字段标识 | 数据类型 | 是否必填 | 说明 |
|---------|---------|---------|------|------|
| 查询条件 | where | 对象数组 |  否 |  匹配的查询条件  |
| 字段名称 | where[].key | 文本 |  是 |  模型字段标识  |
| 关系 | where[].rel | 文本 |  是 |  判断关系。可选值： "eq"表示相等，"neq"表示不相等，"lt"表示小于，"lte"表示小于或等于，"gt"表示大于，"gte"表示大于或等于，"search"表示包含文字内容 |
| 值 | where[].val | - |  是 |  判断值。根据字段类型写入不同的值  |

```JSON
{
    "where": [
      {
          "key": "name",
          "rel": "eq",
          "val": "张三"
       }
	]
}
```

#### 出参说明
| 字段名称 | 字段标识 | 数据类型 | 说明 |
|---------|---------|---------|------|
| 删除的记录条数 | deleted | 数字 | 成功删除的记录条数 |

### 更新 wedaUpdate
更新一条指定数据标识的记录。

#### 入参说明
| 字段名称 | 字段标识 | 数据类型 | 是否必填 | 说明 |
|---------|---------|---------|------|------|
| 数据标识 | _id | 文本 |  是 |  待更新记录的数据标识 |

```
{
    "_id": "16db756f62d7c0870b8caa2a39d33dcb",
    "name": "张三",
    "age": 15
}
```

#### 出参说明
| 字段名称 | 字段标识 | 数据类型 | 说明 |
|---------|---------|---------|------|
| 新记录的ID数组 | ids | 文本数组 | 创建成功的数据标识 |

```JSON
{
    "ids": ["16db756f62d7c0870b8caa2a39d33dcb"]
}
```

### 批量更新 wedaBatchUpdate
根据条件更新多条记录。

#### 入参说明
| 字段名称 | 字段标识 | 数据类型 | 是否必填 | 说明 |
|---------|---------|---------|------|------|
| 查询条件 | where | 对象数组 | 是 |  匹配的查询条件  |
| 字段名称 | where[].key | 文本 |  是 |  模型字段标识  |
| 关系 | where[].rel | 文本 |  是 |  判断关系。可选值： "eq"表示相等，"neq"表示不相等，"lt"表示小于，"lte"表示小于或等于，"gt"表示大于，"gte"表示大于或等于，"search"表示包含文字内容 |
| 值 | where[].val | - |  是 |  判断值。根据字段类型写入不同的值  |
| 更新数据 | record | 对象 |  是 |  使用该数据，更新全部匹配条件的记录  |

```JSON
{
    "where": [
      {
          "key": "name",
          "rel": "eq",
          "val": "张三"
       }
    ],
    "record": {
        "name": "张三",
        "age": 12
    }
}
```

#### 出参说明
| 字段名称 | 字段标识 | 数据类型 | 说明 |
|---------|---------|---------|------|
| 更新的记录条数 | updated | 数字 | 更新成功的数据标识 |

```JSON
{
    "updated": 1
}
```


### 查询 wedaGetItem
查询一条指定数据标识的记录。

#### 入参说明
| 字段名称 | 字段标识 | 数据类型 | 是否必填 | 说明 |
|---------|---------|---------|------|------|
| 查询条件 | where | 对象数组 |  否 |  匹配的查询条件  |
| 字段名称 | where[].key | 文本 |  是 |  模型字段标识  |
| 关系 | where[].rel | 文本 |  是 |  判断关系。可选值： "eq"表示相等，"neq"表示不相等，"lt"表示小于，"lte"表示小于或等于，"gt"表示大于，"gte"表示大于或等于，"search"表示包含文字内容 |
| 值 | where[].val | - |  是 |  判断值。根据字段类型写入不同的值  |

```JSON
{
    "where": [
      {
          "key": "name",
          "rel": "eq",
          "val": "张三"
       }
	]
}
```


#### 出参说明
出参为数据模型字段，例如：name、age 等。
```JSON
{
    "_id": "16db756f62d7c0870b8caa2a39d33dcb",
    "name": "张三",
    "age": 15
}
```

### 查询列表 wedaGetRecords
根据条件以分页列表格式返回多条记录。

#### 入参说明
| 字段名称 | 字段标识 | 数据类型 | 是否必填 | 说明 |
|---------|---------|---------|------|------|
| 查询条件 | where | 对象数组 |  否 |  匹配的查询条件  |
| 字段名称 | where[].key | 文本 |  是 |  模型字段标识  |
| 关系 | where[].rel | 文本 |  是 |  判断关系。可选值： "eq"表示相等，"neq"表示不相等，"lt"表示小于，"lte"表示小于或等于，"gt"表示大于，"gte"表示大于或等于，"search"表示包含文字内容 |
| 值 | where[].val | - |  是 |  判断值。根据字段类型写入不同的值  |
| 页码 | pageNo | 数字 |  否 |  从1开始  |
| 每页记录数 | pageSize | 数字 |  否 |  每次查询的最大记录数  |
| 排序字段名称 | orderBy | 文本 |  否 |  按某个字段进行排序  |
| 排序方式 | orderType | 文本 |  否 |  "desc" 表示降序，"asc"表示升序  |

```JSON
{
    "where": [
      {
          "key": "name",
          "rel": "eq",
          "val": "张三"
       }
    ],
    "pageNo": 1,
    "pageSize": 20,
    "orderBy": "age",
    "orderType": "desc",
}
```

#### 出参说明
| 字段名称 | 字段标识 | 数据类型 | 说明 |
|---------|---------|---------|------|
| 记录总条数 | total | 数字 | 所有匹配条件的总条数  |
| 页码 | pageNo | 数字 | 当前页码  |
| 每页记录数 | pageSize | 数字 |  每次查询的最大记录数  |
| 记录列表 | records | 对象数组 | 查询的结果列表  |

```JSON
{
    "records": [
      {
          "name": "张三",
          "age": 2
       }
    ],
    "total": 100,
    "pageNo": 1,
    "pageSize": 20
}
```


<dx-alert infotype="notice" title="注意">
原自建数据源已升级为标准数据模型，原自定义方法保留至模型方法中，开发者可以继续编辑、删除自定义方法，但不再支持新增。若开发者想要自定义业务逻辑，请参见 [自定义 API ](https://cloud.tencent.com/document/product/1301/68439)。
</dx-alert>

## 数据存储与管理
目前标准数据模型的数据存储于腾讯云云开发数据库中。开发者可以通过以下方式对数据进行管理：
- 数据管理后台：微搭提供了数据管理后台来查看管理存储在微搭的数据，具体请参见 [管理数据](https://cloud.tencent.com/document/product/1301/66271)。
- 模型应用：具体请参见 [创建模型应用](https://cloud.tencent.com/document/product/1301/67252)。
