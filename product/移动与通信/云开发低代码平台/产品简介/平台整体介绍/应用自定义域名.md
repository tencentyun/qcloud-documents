腾讯云微搭低代码为 Web 应用提供了自定义域名和应用路径的能力，统称为访问管理。

## 默认域名
腾讯云微搭低代码提供了可供开发、测试使用的默认域名，在开发期间，您可以通过默认域名访问网站应用。一个微搭账号/环境对应一个默认域名，若未进行自定义域名和应用地址设置，则应用地址默认由默认域名、应用 ID 和页面 ID 组成。
默认域名有一定的**访问频率限制**，超过访问频率限制，默认域名将不可访问。

>?对于生产环境的应用，我们推荐您使用自定义域名来避免限频，以加速用户的访问。


## 自定义域名操作指引
您可以在微搭绑定**已备案**的自定义域名，操作指引如下。

>!我们推荐使用腾讯云进行域名备案，若非腾讯云的备案域名，需要在腾讯云上完成**接入备案**后，才能在微搭绑定和使用自定义域名，更多详情可参见 [腾讯云网站备案](https://cloud.tencent.com/document/product/243) 相关帮助文档。

### 添加自定义域名

1. 登录 [腾讯云微搭控制台](https://console.cloud.tencent.com/lowcode)，进入 [自定义域名](https://console.cloud.tencent.com/lowcode/custom/index) 页面。
![](https://qcloudimg.tencent-cloud.cn/raw/45341a0db54446e0676b1e5d25b41865.png)
2. 单击**立即新建**，进行域名添加，如下图所示：
![](https://qcloudimg.tencent-cloud.cn/raw/00e32d595d94576e3b67e081c2f8aeb7.png)
3. 添加后，系统会为您自动分配一个以 `.cdn.dnsv1.com` 为后缀的 CNAME 域名，CNAME 域名不能直接访问，您需要在域名服务提供商处完成 CNAME 配置，配置生效后，您的托管服务方可对自定义域名生效，如何配置 CNAME 请参见 [下文](#cname)。

[](id:cname)
### CNAME 配置

#### 腾讯云设置方法
若您的 DNS 服务商为腾讯云，您可通过如下步骤添加 CNAME 记录。
1. 登录 [域名服务](https://console.cloud.tencent.com/domain) 控制台，在列表中，找到需要添加 CNAME 记录的域名所在行，单击操作栏的**解析**。
   ![CNAME配置](https://main.qcloudimg.com/raw/12eba66e1d073aade459318d6e9c53ef.png)
2. 在跳转到的页面中，单击**添加记录**。
   ![](https://main.qcloudimg.com/raw/88a0cda619aeaf1a88120ad5294250fa.png)
3. 在 **主机记录** 处填写域名前缀（例如：www），将 **记录类型** 设置为 CNAME，在 **记录值** 处填写 CNAME 域名，单击**保存**，即可添加 CNAME 记录。
   ![](https://main.qcloudimg.com/raw/24ee35e7bba9d181abbdaf65fe7fc3cb.png)
>? 域名解析各种记录类型之间是有优先级差异的，在主机记录相同的情况下，同一条线路有几种不同的记录类型不能共存，否则将会提示冲突。CNAME 记录与除 CNAME 记录以外的任何记录类型都冲突，需要先删除掉其他记录，再进行配置。详情请参见 [常见问题 ](https://cloud.tencent.com/document/product/302/3468#.E4.B8.BA.E4.BB.80.E4.B9.88.E6.B7.BB.E5.8A.A0.E8.A7.A3.E6.9E.90.E8.AE.B0.E5.BD.95.E7.9A.84.E6.97.B6.E5.80.99.E6.8F.90.E7.A4.BA-.26quot.3B.E8.AE.B0.E5.BD.95.E6.9C.89.E5.86.B2.E7.AA.81.26quot.3B-.EF.BC.9F)。

#### DNSPod 设置方法
若您的 DNS 服务商为 DNSPod，登录 [DNSPod 域名服务控制台](https://console.dnspod.cn/dns/list)，在列表中，找到需要添加 CNAME 记录的域名所在行，单击对应域名名称，跳转至“添加记录”界面，通过如下步骤添加 CNAME 记录。
![](https://qcloudimg.tencent-cloud.cn/raw/c43ac8882ab4da56217a96afdc0b59f3.png)

1：主机记录处填子域名（例如需要添加 `www.123.com` 的解析，只需要在主机记录处填写 `www` 即可。如果只是想添加 `123.com` 的解析，主机记录直接留空，系统会自动填一个“@”到输入框内，@的 CNAME 会影响到 MX 记录的正常解析，添加时慎重考虑）。
2：记录类型为 CNAME。
3：线路类型（默认为必填项，否则会导致部分用户无法解析。在上图中，默认的作用为：除了联通用户之外的所有用户，都会指向 1.com）。
4：记录值为 CNAME 指向的域名，只可以填写域名，记录生成后会自动在域名后面补一个“.”，这是正常现象。
5：MX 优先级不需要填写。
6：TTL 不需要填写，添加时系统会自动生成，默认为 600 秒（TTL 为缓存时间，数值越小，修改记录各地生效时间越快）。

#### 万网设置方法

若您的 DNS 服务商为万网，您可通过如下步骤添加 CNAME 记录。

1. 登录万网会员中心。
2. 单击会员中心左侧导航栏中的**产品管理** > **我的云解析**进入万维网云解析列表页。
3. 单击要解析的域名，进入解析记录页。
4. 进入解析记录页后，单击新增解析按钮，开始设置解析记录。
![](https://qcloudimg.tencent-cloud.cn/raw/139460b6a53b6bc839c5240cd9fc82d0.png)
5. 若要设置 CNAME 解析记录，将记录类型选择为 CNAME。主机记录即域名前缀，可任意填写（如：`www`）。记录值填写为当前域名指向的另一个域名。解析线路，TTL 默认即可。
![](https://qcloudimg.tencent-cloud.cn/raw/ae66846f471b3e870349231cd91024c8.png)
6. 填写完成后，单击**保存**，完成解析设置。

#### 新网设置方法

若您的 DNS 服务商为新网，您可通过如下步骤添加 CNAME 记录。
**设置别名（CNAME 记录）**
即：别名记录。这种记录允许您将多个名字映射到同一台计算机。通常用于同时提供 WWW 和 MAIL 服务的计算机。例如，有一台计算机名为`host.mydomain.com`（A 记录）。它同时提供 WWW 和 MAIL 服务，为了便于用户访问服务。可以为该计算机设置两个别名（CNAME）：WWW 和 MAIL 。如下图：
![](https://qcloudimg.tencent-cloud.cn/raw/6d64ca37d62f4e28b63c2dd061820a1f.png)

### 验证 CNAME 是否生效

不同的 DNS 服务商，CNAME 生效的时间略有不同，一般会在半个小时之内生效。您也可以通过 dig 的方式来查询 CNAME 是否生效，如果 dig 到后缀为 `.cdn.dnsv1.com` 的域名，表示域名 CNAME 已生效。


## 应用地址设置指引
对于 Web 应用，访问地址由“域名”和“路径”两部分组成。您可以在应用详情中查看应用的正式访问地址并进行设置。
>?目前支持自定义应用的地址设置，数据模型应用的地址设置将在后续支持。
>
1. 选择含 Web 端的应用，进入**应用详情**，可查看应用访问地址。访问地址需发布应用后才生效。
![](https://qcloudimg.tencent-cloud.cn/raw/5ffaace0fc4301d4f907e2a06d3099e6.png)
2. 单击地址后的**设置**，打开地址设置弹窗。您可以选择已绑定的自定义域名，并填写路径。相关设置规则和校验见下图。
<img style="width:978px; max-width: inherit;" src="https://qcloudimg.tencent-cloud.cn/raw/f977fb33138b9cf7ea7157209c0a1980.png" />
3. 设置完成后，需进入应用编辑器进行应用发布，新的访问地址才会生效。新地址生效的同时，旧地址会立即失效。

## 相关说明
### 强制 HTTPS

所有对于自定义域名的 HTTP 请求，默认开启强制 HTTPS，会被转换为 HTTPS 请求。

>?强制 HTTPS 可以提高您的网站安全性，如有特殊需求，可联系我们调整。

### 数量上限
一个微搭环境中的自定义域名上限为5个，路径上限为200个。

### 删除环境时域名解绑
在删除环境时，自定义域名会与微搭账号/环境进行绑定，并删除相关路径配置信息。自定义域名解绑后，您可以在其他微搭账号/环境绑定该域名。
