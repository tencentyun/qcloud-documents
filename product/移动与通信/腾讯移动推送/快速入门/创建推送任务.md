## 操作场景
本文档指导您如何在移动推送 TPNS 控制台创建推送任务。

## 前提条件
已购买移动推送服务，详情请参见 [购买推送服务](https://cloud.tencent.com/document/product/548/37242) 文档。

## 操作步骤
### SDK 下载
1. 登录 [移动推送 TPNS 控制台](https://console.cloud.tencent.com/tpns)，单击左侧菜单栏改成【工具箱】>【[SDK 下载](https://console.cloud.tencent.com/tpns/sdkdownload)】。
2. 进入 SDK 下载页面，选择需要下载的版本，单击【下载】，并按照配置指引进行相关配置。

### 推送参数设置
1. 登录 [移动推送 TPNS 控制台](https://console.cloud.tencent.com/tpns)，选择左侧菜单【推送管理】>【推送任务】。
2. 进入推送任务页面，选择【新建推送】，单击【通知消息】，在界面中输入通知标题和通知内容，页面右侧会显示通知的预览形式。其他推送设置如下：
 -  推送计划：推送任务较多时推荐按推送任务的目标进行任务的归类与统计。
 -  推送时间设置：支持立即、定时、循环三种时间模式。
 -  推送目标设置：支持所有设备、标签组合、批量账号、账号、Token 推送。
 -  高级设置：移动推送 TPNS 还支持其他高级设置，包括以下内容：
    -  分组折叠：可控制通知在设备通知中心是否折叠以及折叠方式。
	  - 角标数字：已到达但未被点击的消息的数量，仅 TPNS、华为、小米通道支持自动加1。
	  -  附加参数：可选择附加参数 - 值的键值对，丰富推送内容。
    -  通知图片：填写图片 URL 后，部分通道下发的通知会展示图片。
	  -  通知音频：填写音频 URL 后，TPNS 通道下发的通知可携带音频。
    -  离线保存：设定离线保存时间，可设置有效期为0 - 72小时，默认保存24小时，最多可以保存最新的3条。
    -  点击打开：设定推送点击打开动作，动作包含应用、客户端自定义、URL 以及应用内 Activity。
    -  提醒方式：设定提醒方式、自定义铃声等。
    -  多包名推送：支持多包名推送。
    -  通道策略：选择该条推送可以通过哪些通道下发，支持智能分配策略和自定义策略。
![](https://main.qcloudimg.com/raw/f08fe25ffa6f98dbfc8284210e51771c.png)
3. 完成推送内容的选择后，可在正式推送前选取测试设备进行测试，以便验证推送效果。
	1. 单击【测试预览】。
	![](https://main.qcloudimg.com/raw/52f3e001387d609b02ca516ade9de4b8.png)
	2. 在测试预览界面选择测试设备。
	![](https://main.qcloudimg.com/raw/487d9a262a16b53a6ecfe4b3a9c7fd03.png)
	3. 单击【确定】，即可完成测试设备推送，并在当前界面返回测试设备的推送状态。
	![](https://main.qcloudimg.com/raw/ee089f432f0a2c176eec4f529746d2d2.png)
4. 单击【确认】，如果测试设备成功完成推送，单击【发送确认】>【确认推送】即可完成正式推送，并在当前界面返回正式推送的推送状态。
![](https://main.qcloudimg.com/raw/8f4167558b7f12c8ee3643013e8828aa.png)
![](https://main.qcloudimg.com/raw/12fbc836860e4e5356ff3856a26aa84c.png)
推送状态如下图所示：
![](https://main.qcloudimg.com/raw/6303c38e09baca92358f8ff12c9a416d.png)
5. 单击【确认】即可直接跳转到推送记录页面，推送页面会分别显示测试和正式推送的推送记录，如下图：
![](https://main.qcloudimg.com/raw/6fa760f9d074b8cfda960b0fcf3a64d2.png)

