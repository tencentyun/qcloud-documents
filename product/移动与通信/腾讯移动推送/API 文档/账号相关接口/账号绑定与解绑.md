

## 接口说明
**请求方式**：POST。

接口请求地址与服务接入点一一对应，请选择与您的应用服务接入点对应的请求地址。

广州服务接入点：
```shell
https://api.tpns.tencent.com/v3/device/account/batchoperate
```
中国香港服务接入点:
```shell
https://api.tpns.hk.tencent.com/v3/device/account/batchoperate
```
新加坡服务接入点:
```shell
https://api.tpns.sgp.tencent.com/v3/device/account/batchoperate
```

**接口功能**：异步接口。本接口只负责任务下发，当前不支持实时操作。




## 参数说明
#### 请求参数

| 参数名 | 类型 | 是否必需 | 参数说明 |
| -------------- | ------- | ---- | ---------------------------------------- |
| operator_type | Integer | 是 | 操作类型参数，取值范围为[1,5]；值对应功能说明如下：<li>1：Token 追加设置 account。</li><li>2：Token 覆盖设置 account。</li><li>3：Token 删除绑定的多个 account。</li><li>4：Token 删除绑定的所有 account。</li><li>5： account 删除绑定的所有 Token。</li> |
| platform | String | 是 | 客户端平台类型<li>Android：安卓 </li><li>iOS：苹果 </li>|
| account_list | Array  | 否 | 账号标识集合，当 operator_type = 5 时有效，且必填每个元素包含 account，以及 account_type 字段。 <br> 示例如下：<br>`[{"account":"926@126.com"},{"account":"1527000000"}]`|
| token_list | Array  | 否 | 设备标识集合， operator_type = 4 时有效，且必填|
| token_accounts | Array  | 否 | 当 operator_type = 1、2 、3 时有效且必须每次调用最多允许设置20个 Token。每个 Token_account 由1个 Token 和1个 account_list 组成。 具体示例如下：<br>`[{"token":"token1","account_list":[{"account":"926@126.com"},{"account":"1527000000"}],`<br>`{"token":"token2","account_list":[{"account":"926@163.com",{"account":"1527000001"}]}]` |


#### 响应参数

| 参数名 | 类型 | 参数说明 |
| -------------- | ------- | ---------------------------------------- |
| ret_code | Integer | 返回码 |
| err_msg | String | 错误信息|
| result | Array  | 每一个 Token 或账号对应的操作状态码["0","1008006"] |


## 示例说明
#### 请求示例

- Token 追加设置 Account
```json
{
    "operator_type": 1,
    "platform": "android",
    "token_accounts": [
        {
            "token": "token1",
            "account_list": [
                {
                    "account": "926@126.com"
                },
                {
                    "account": "1527000000"
                }
            ]
        },
        {
            "token": "token2",
            "account_list": [
                {
                    "account": "926@163.com"
                },
                {
                    "account": "1527000001"
                }
            ]
        }
    ]
}
```
- Token 覆盖绑定 Account
```json
{
    "operator_type": 2,
    "platform": "android",
    "token_accounts": [
        {
            "token": "token1",
            "account_list": [
                {
                    "account": "926@126.com"
                },
                {
                    "account": "1527000000"
                }
            ]
        },
        {
            "token": "token2",
            "account_list": [
                {
                    "account": "926@163.com"
                },
                {
                    "account": "1527000001"
                }
            ]
        }
    ]
}
```
- Token 删除绑定 Account
```json
{
    "operator_type": 3,
    "platform": "android",
    "token_accounts": [
        {
            "token": "token1",
            "account_list": [
                {
                    "account": "926@126.com"
                },
                {
                    "account": "1527000000"
                }
            ]
        },
        {
            "token": "token2",
            "account_list": [
                {
                    "account": "926@163.com"
                },
                {
                    "account": "1527000001"
                }
            ]
        }
    ]
}
```
- Token 删除所有绑定 Account
```json
{
    "operator_type": 4,
    "platform": "android",
    "token_list": [
        "token1",
        "token2",
        "token3"
    ]
}
```
- Account 删除所有绑定 Token
```json
{
    "operator_type": 5,
    "platform": "android",
    "account_list": [
        {
            "account": "926@126.com"
        },
        {
            "account": "1527000000"
        }
    ]
}
```



#### 返回示例

Token 追加设置 Account
``` json
{
    "result": [
        "ok",
        "ok"
    ],
    "ret_code": 0,
    "err_msg": "ok"
}
```

