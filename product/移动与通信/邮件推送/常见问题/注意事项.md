[](id:warmup)
### warm up 发件预热（至关重要）

warm up 是每个新的发件域或者 IP 的必经过程。邮件发送量必须是每日递增式的，不能一步到位达到理想的量级。发件量以（天）为单位，逐级递增。良好的 warm up 可以在电子邮件服务提供商 (ISP) 取得良好的信誉度。每一个新的域名或者 IP 发件都应该遵循下面的 warm up 计划：

| 时间   | 发送量/天  | 出信频率     |
| --------- | ------------ | ---------------- |
| 第1天   | 1000     | 200封/小时    |
| 第2天   | 1500     | 200封/小时    |
| 第3天   | 2000     | 400封/小时    |
| 第4天   | 3000     | 400封/小时    |
| 第5天   | 4500     | 500封/小时    |
| 第6天 - 10天 | 6000-8000  | 500-1000封/小时 |
| 第11天 - 15天 | 8000-10000  | 800-2000封/小时 |
| 第16天 - 20天 | 10000-15000 | 1000-3000封/小时 |
| 第21天 - 30天 | 15000-25000 | 3000-5000封/小时 |
| 第N天   | 每日增长一倍 | - |

- 此表中的发信量与出信频率为建议值，仅供参考。
- 发信预热是用来增加 IP 信誉度的，不能抱着探测 ISP 对 IP 的限制额度进行预热。
- 当单个域的邮箱地址较多时，要适当的减少发信量进行预热。
- 一个优质的 IP 或者域名，每天应有稳定的出信量，建议每周至少存在3天以上的发送。
- 前期建议从地址库中随机选择地址，当发信量上升到一定量之后，再根据各个域的具体发送情况，针对性的预热。
- 以上为单个 IP 的建议发件量上限，多个 IP 可以适量多发，单日建议最多不超出以上计划的5倍。
- 正常的验证类邮件业务按目前的业务比例灰度即可，不一定严格遵循上述绝对数量，不超过上限即可。
- 如果业务特性实在不满足 warm up，可以转用已经 warm up 好的公共域名和共享 IP 去发送，但是信誉度不能独立控制。
- 如果业务特性实在不满足 warm up，且业务量级小，且邮件为用户打开率高的注册邮件，每日发件不超过1万封，可以考虑跳过 warm up 直接使用，但不推荐此方式。

[](id:dns)
### DNS 有效性验证

DNS 配置问题客户可以使用工具验证自己的 DNS 是否配置有效，请参见 [全球 DNS 同步检测工具](https://www.whatsmydns.net/)。

[](id:test)
### 发件测试

正式发件之前，可以使用 [mail-tester 工具](https://www.mail-tester.com/) 进行邮件评测。该工具可以检查 DNS/IP 配置完整性和 IP 有效性，以及邮件内容的质量。DNS 配置完整的情况下，评分主要看邮件内容，一般来说，需要优化至评分不低于8分。

>? 如果是开发自测，尽量不要在一天内对单个邮箱发送太多次邮件（建议每日不超过24次）。如果是正式上线，每天尽量不要给同一个用户发件超过10次。

 
[](id:add)
### 邮箱地址有效性
bounce（邮件退回）率是 ISP 进行评分的一个硬性指标，被 bounce 的发件中，原可能的原因是邮箱地址无效，即发送到错误的目标地址，如果持续发送的 bounce 率过高，ISP 会判断为恶意的发件人，从而将邮件送到垃圾箱，或者封禁发件 IP。良好的邮件发送 bounce 率不应超过5%。如果业务方的邮箱地址质量太差，需要先进行预处理过滤。

[](id:garbage)
### 垃圾箱
任何发送者都无法保证邮件不进入用户的垃圾箱，特别是新域名初始状态下，在 ISP 处无任何信誉度。进入用户垃圾箱是正常现象，需要靠良好的 Warmup 和用户参与来提高域名信誉度，ISP 会根据信誉度动态调节，最终将邮件送至用户收件箱。因此建议所有业务侧增加"如果没有收到邮件，请检查垃圾箱"的用户提示。

[](id:use)
### 用户打开率
用户打开率也是衡量邮件是否会进入收件箱的重要指标。用户参与度越高，ISP 会相应提高域名的信誉度。一般来说，注册邮件的打开率在80%以上为正常。通知类视业务场景而定，营销类邮件需要业务侧不断去优化标题和内容，达到用户主动参与的效果。该指标低于50%视为进入垃圾箱的危险信号。
