## 登录为何返回6018错误码，如何解决？

登录返回6018的错误码是对于Windows imsdk来说是登录失败的几种情况的归纳。当设置路径没有写权限，或者打开数据库文件失败都会造成错误。

发生6018返回码时，通常检查一下所设置的路径（对于没有调用TIMSetLogPath 就是工作路径）下有无日志生成，有无imsdk的配置文件等。以排除路径没有写权限的问题。

如果路径有写权限登录仍然返回6018，则是数据库文件损毁造成的。应用遇到此等情况，应考虑备份后删除原数据库文件（*.msgstore）后继续登录。并考虑是否提示用户数据库已损毁。

造成数据文件损毁的原因有很多种，异常断电或者篡改数据都会造成这种情况。删除数据库文件后，用户无法获取之前存于本地的消息，但不影响新消息的接收。

