## 规避运营商 Local DNS 接入异常
移动解析 HTTPDNS 是通过将移动 App 及桌面应用的默认域名解析方式，替换为通过 HTTP 协议进行域名解析，以规避由运营商 Local DNS 服务异常所导致的用户网络接入异常。
主要应用在以下几类移动 App 开发中：
- **资讯、游戏类 App**
希望降低访问延迟、减少跨网访问，注重快速响应体验。目前已接入服务的此类 App 有腾讯游戏、汽车之家等。
- **电商类 App**
希望降低连接失败率，提高业务工作率，注重访问请求稳定性。目前已接入服务的此类 App 有聚美优品、饿了么等 。
- **社交类 App**
域名屡次被劫持，希望用户访问顺畅无阻，目前已接入服务的此类 App 有手机 QQ 等。
- **音视频类 App**
对流畅度要求高，提升音乐、视频播放的连接成功率，目前已接入服务的此类 App 有 bilibili、QQ 音乐等。

## 降低解析延迟与域名劫持风险
**当前移动解析 HTTPDNS 服务已覆盖超过4亿+用户，接入移动解析 HTTPDNS 的业务减少了超过60%的由于域名劫持导致的用户访问失败，减少了22%的用户平均延迟。**
- 腾讯游戏通过接入移动解析 HTTPDNS，用户解析时延下降13%，用户跨网访问现象大大减少。
- 腾讯新闻客户端通过接入移动解析 HTTPDNS，用户连接失败率下降22%，提升了业务成功率。
- QQ 音乐通过接入移动解析 HTTPDNS，用户整体访问时延降低13%。
- 手机 QQ 接入移动解析 HTTPDNS 之后，用户因域名劫持的失败率下降99%。


## 自定义解析
### 根据客户端所在地区，判断是否应该修改解析结果
- **客户案例**：某国际券商客户的域名在马来西亚被污染，无法解析到正确的 IP。
- **客户诉求**：对于马来西亚的客户端，无论是否递归解析成功，客户均要求再指定新的 IP，用于马来西亚用户的业务。
- **解决方案**：通过自定义解析 `BEFORE_WRITE_RESPONSE` 函数，可以根据用户所在地域，实现对业务 IP 的兜底策略。

### 递归解析结束之后，根据客户定义的参数进行修改HTTPDNS的指定记录缓存 
- **客户案例**：某会议应用域名在权威解析、递归过程中被攻击，解析到错误的 IP。
- **客户诉求**：希望定时刷新 HTTPDNS 缓存，以规避类似的安全问题。
- **解决方案**：通过自定义解析 `BEFORE_WRITE_CACHE` 函数，在写入缓存前，支持客户对 HTTPDNS 缓存进行异步修正。
