### 持续部署支持哪些制品类型？
持续部署支持 Docker 镜像、Generic 文件、War 包。

### 持续部署支持哪些集群类型？
持续部署支持 CVM（Linux 操作系统）、TKE、SCF。

### 如何在配置持续部署过程的时候保护敏感信息？
对于 Token、SSH 私钥、Kubernetes 证书等保密信息，可以在 CODING DevOps 网页端的任一项目选择 **项目设置** > **开发者选项** > **凭证管理**，进入**凭证管理**页面中设置，并可以在此设定哪些持续部署发布流程可用。

### 如何发布源代码？
很多常见的动态语言是没有编译和构建过程的，可以直接在应用的制品设置中配置 Git 代码仓库指明文件路径后发布。

### 如何配置审批流程？
审批流程的配置：
1. 进入 CODING DevOps 网页端，选择任一项目，在项目中选择 **设置** > **属性与流程** > **审批流程设置**，进入**审批流程设置**页面，可以给本项目添加若干个审批流程。
2. 在 **持续部署** > **发布流程** > **关联审批** 中可以设置发布流程与审批流程的关系。设置完毕后，在提发布单进行发布的时候，系统会自动判别出来具体要预先执行哪一个审批流程。

### 发布单可以不审批执行么？
可以，在发布流程的关联审批页面，不进行任何设置，则此发布流程就不需要审批，对应的发布单将在提单后直接开始执行。

### Pod 镜像未更新怎么办？
部署 K8s 成功，但 Pod 镜像未更新。此问题通常由于 yaml 文件中配置的镜像 tag 没有变更导致，例如所填写的值始终为 latest。
**解决办法：**在此处查看 Yaml 内容并变更镜像 tag 值。
![](https://qcloudimg.tencent-cloud.cn/raw/7e54e732c084d7385e497bea678b9ce1.png)

### 部署流程启动失败怎么办？
你可以通过以下方法进行排查：
- 查看流程的基础配置是否勾选了禁止本流程并行执行选项，即同一时间只能执行一个部署。
![](https://qcloudimg.tencent-cloud.cn/raw/0acc85e28f9d516522150b67897431e9.png)
- 查看该流程是否有其他流程正在执行，你可以增加**任务数量**以便看到更多任务。
![](https://qcloudimg.tencent-cloud.cn/raw/fbb5e3cbf66869c120c6dca2329f60fa.png)

### Git 仓库触发器未生效怎么办？
若在部署流程中设置 Git 仓库触发器但仍然无法触发流程，请确认分支名前是否添加了前缀 `^refs/heads/`，例如下图所示：
![](https://qcloudimg.tencent-cloud.cn/raw/5d422109b8159e8682674e5079748c67.png)
此前缀所定义的标签规则决定了只有特定分支名发生了代码更新，才能触发部署流程。

### 如何将字符串转为整数？
当 nodePort 需要以 k8s yaml 文件中的启动参数（整数）来指定启动时，而此时启动参数的类型为字符串，那么就需要将启动参数类型转为整数。例如，此时的启动参数 `source_port` 为字符串类型。
![](https://qcloudimg.tencent-cloud.cn/raw/6844308d52411bbbf59c9be696d3e173.png)
那么需要以 `${#toInt(parameters.source_port)}` 格式进行转换。
![](https://qcloudimg.tencent-cloud.cn/raw/e1c8d8d28cc0703f70668c81f60e1dda.png)

### 提示 TCR 仓库触发器失效怎么办？
若直接复制其他流程，那么被复制流程的触发器将会被取代，有可能会导致副本流程的 TCR 触发机制失效。你可以前往 [腾讯云控制台](https://console.cloud.tencent.com/tke2) 查看**触发规则**与**触发日志**。
![](https://qcloudimg.tencent-cloud.cn/raw/fa5c0a887f0ecb92a2c024e4329e7ca1.png)
在复制带有 TCR 触发器的部署流程时，建议将副本的触发器删除后重新进行设置。
![](https://qcloudimg.tencent-cloud.cn/raw/f4d102ae511bf8059d50f9bd7fb273d5.png)
