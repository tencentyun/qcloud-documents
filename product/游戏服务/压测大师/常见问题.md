### 包年包月套餐的基础版和高级版有什么区别？
基础版和高级版的主要区别如下： 

|      | 基础版 | 高级版 | 
|----------|------|------|
|最大并发数 | 2000/5000/10000 |  10万 |
|最大可执行时长 | 1小时 | 3小时 | 
|文件大小（.csv） | 300MB | 600MB | 
|最大IP数 | 30 |  可定制  | 
|自定义函数 | 不支持 | 支持 | 
|定制地域压测 | 不支持 | 支持 |
|私有集群压测  | 不支持 | 支持 | 
|VUM使用上限（每月） | 80万/200万/400万VUM | 1500万VUM |

<dx-alert infotype="explain" title="附加费用说明：">
- 平台会根据所需并发数自动分配出口IP，购买高级版包年服务，如需扩展IP数，需要单独收费，请联系客服人员。
- 定制地域压测: 购买高级版包年服务，可开通指定地域(仅限国内)来模拟流量进行压测，需要单独收费，请联系客服人员。
- 私有集群：购买高级版包年服务，如需部署私有集群作为压测机，需要单独收费，请联系客服人员。
- 压测培训：购买高级版包年服务，赠送一次线上压测培训。如需额外培训（线上/线下），需要单独收费，请联系客服人员。
</dx-alert>


### 本平台是否可以对微信小程序进行性能测试？
服务性能测试支持对微信小程序进行性能测试。本平台支持的协议包括 HTTP/HTTPS、WebSocket、Dubbo 等，只要被测接口符合上述协议，即可使用本平台进行性能测试。
在进行小程序压测时，通常需要获取 Token 信息，该 Token 具有一定的时效性，推荐以下两种方式获取平台授权的 Token。
- **压测过程中自动获取 Token**
将自动获取 Token 的接口配置到前置处理中，这样在执行实际的被测接口前会先执行前置处理，自动获取 Token，能够保证每次测试的 Token 都在有效期内。
- **压测前准备 Token**
在编写压测计划前，收集 Token 形成数据文件（.csv）。并将该数据文件上传到**数据配置**，用时在压测计划的**文件变量**中引用该数据文件。如需多次测试，为确保 Token 的有效性，请及时替换最新生成的 Token。


### 测试登录接口需要校验验证码，该如何配置？
通常登录接口需要输入验证码，在对类似接口进行性能测试时，需要模拟多用户登录，可以请开发工程师在业务代码中预制一个通用验证码。在编写压测计划时，需要提前准备测试数据文件，包括批量用户信息（用户名、密码），并将该数据文件（.csv）上传到**数据配置**并在压测计划的**文件变量**中引用该数据文件。同时将通用验证码配置到对应登录接口请求中，即可实现模拟多用户登录场景。


### 测试报告有大量超时错误，但服务端并没有达到瓶颈的原因？
在对被测服务进行性能测试后，测试报告显示大量超时、连接失败等错误。如果确认被测服务所接收的实际压力并不大，可能原因如下：
- **网关层限流设置**
如果网关层有单 IP 地址的限流设置，可联系腾讯在线客服索要发压机的出口 IP 列表，将其添加到相关安全配置的白名单中。
- **负载均衡（SLB/LB）相关设置**
通常负载均衡会对最大连接数、QPS、带宽做相应的设置，有可能导致压测结果出现大量错误。建议在不影响业务的前提下，对此类设置做相关调整。


### 公共函数是否支持拼接和嵌套使用？
在压测场景编排的过程中，支持公共函数、变量和字符串的拼接和嵌套，具体配置方式参考如下（其中定义变量 name = linda）。
- **字符串与公共函数的拼接**
配置：linda${toUpperCase(linda)}
运行结果：lindaLINDA
- **字符串与变量的拼接**
配置：linda${name}
运行结果：lindalinda
- **公共函数与变量的嵌套**
配置：${toUpperCase(${name})}
运行结果：LINDA
