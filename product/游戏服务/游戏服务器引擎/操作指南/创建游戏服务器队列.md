

## 操作场景

本文档主要指导您如何创建游戏服务器队列，通过队列创建跨多个区域的舰队组，并允许游戏服务器会话放置在队列中的任何舰队中，可最大限度减少延迟，提供更好的玩家体验；更高效地使用更多的舰队容量，为新游戏更快地提供高容量；使游戏可用性更具弹性。

## 前提条件

已完成 [创建服务器舰队]( https://cloud.tencent.com/document/product/1165/41028 )。


## 操作步骤
1. 登录 [游戏服务器伸缩控制台](https://console.cloud.tencent.com/gse/asset)，单击左侧菜单【游戏服务器队列】。
2. 选择左上侧服务区域，单击【新建】。
3. 进入新建游戏服务器队列页面，填写 [基本信息](#.E5.9F.BA.E6.9C.AC.E4.BF.A1.E6.81.AF)、[延迟策略](#.E5.BB.B6.E8.BF.9F.E7.AD.96.E7.95.A5)、[目标](#.E7.9B.AE.E6.A0.87) 等信息。

#### 基本信息
 - 标识符：输入合法的标识符。
 - 分配超时时间：输入游戏服务器会话请求可在多区域等待的最长时间。
![](https://main.qcloudimg.com/raw/3e4ee869c336495997818ecd0e3e6fe3.jpg)
 
#### 延迟策略
设置最长玩家延迟时间。设置多个策略可在一段时间后放宽最大延迟，优先级低的最长玩家延迟数值大于优先级高的。您可以使用一系列策略，随着时间的推移逐步提高最大延迟，用以平衡最佳游戏体验与玩家等待时间。
 - **举例说明**：
 您为包含30秒超时的队列定义以下策略：多个策略从最大延迟值最小的策略开始连续实施。这组策略从60毫秒的最大延迟开始，随时间增长到150毫秒，最后一个策略设置对任意玩家允许的绝对最大延迟。如果您希望不管延迟如何，确保所有游戏服务器会话都得到放置，则可以将最后一个策略的最大延迟设置为非常高的值。 	 
  - **策略设置**：
![](https://main.qcloudimg.com/raw/f6029c4bfffb92050c5ae47ba79c2183.jpg)
   - **执行情况**：
      在该示例中，第一个策略花费第一个10秒查找所有玩家延迟不超过60毫秒的舰队，第二个策略花费第二个10秒查找所有玩家延迟不超过100毫秒的舰队，第三个策略花费剩余的10秒查找所有玩家延迟不超过150毫秒的舰队。当已判断出没有满足最长玩家延迟的舰队时，则直接返回结果无需等待分配的策略执行时间；当判断出有满足最长玩家延迟的舰队但其不空闲时，则在分配的策略时间内等待。
					
#### 目标
目标是游戏服务器伸缩进行资源调度的范围，是一个服务器舰队列表，可通过服务器舰队ID或别名ID来指定舰队，可对队列目标设置优先级。当延迟策略与目标同时设置时，执行逻辑以延迟策略为主。在为队列选择目标时，请考虑以下建议：
   - **队列中目标的优先级顺序很重要**。如果您在游戏服务器会话放置请求中提供延迟数据，游戏服务器伸缩会重新确定目标的优先级，以找到玩家延迟最低的可用资源。如果您未提供延迟数据，游戏服务器伸缩会遵循目标列表优先级顺序，在这种情况下，游戏会话通常托管在列出的第一个舰队上，仅在需要时放置在备份舰队上。
   - **可以添加来自任何区域的任何现有服务器舰队或别名**。
   - **队列应包含至少两个舰队，并且最好跨至少两个区域**。降低舰队区域性速度减慢的影响，更高效地管理意外的玩家需求变化，可提高托管弹性。
   - **如果您将别名关联了服务器舰队（推荐），则最好在队列中设置目标时使用别名**。
   - **队列中的所有目标必须运行与该队列的游戏客户端相兼容的游戏生成包**。请注意，由队列处理的新游戏会话请求可能会放置在队列中的任何目标中。
   - **您需要决定在该区域中的何处创建您的队列**。理想情况下，您通过游戏客户端服务 (如会话目录服务) 发出游戏服务器会话放置请求。如果是这样，我们建议您在地理位置上接近客户端服务部署位置的区域中创建队列，此方案最大程度地降低了提交游戏会话放置请求的延迟。
![](https://main.qcloudimg.com/raw/f09aaf99ef1a88f06698b3148c6df957.jpg)

4. 单击【确定】，即可创建服务器游戏队列。创建成功后，您可以在游戏服务器队列页面进行修改、删除等操作。





