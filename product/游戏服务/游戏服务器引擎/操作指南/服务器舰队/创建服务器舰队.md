## 操作场景

本文档主要指导您如何创建服务器舰队。舰队是采用一组 CVM 实例形式的托管资源，舰队的大小取决于您为舰队指定的实例数量，并且您可以通过手动或自动扩展以调整舰队大小来满足玩家需求，托管的服务器舰队用于部署游戏服务器。



## 操作步骤

1. 登录 [游戏服务器伸缩控制台](https://console.cloud.tencent.com/gse/asset)，单击左侧菜单**服务器舰队**，进入服务器舰队页面。
2. 选择左上侧服务地域，然后单击**新建**。
3. 进入新建服务器舰队页面，填写 [基本信息](#.E5.9F.BA.E6.9C.AC.E4.BF.A1.E6.81.AF)、[进程管理](#.E8.BF.9B.E7.A8.8B.E7.AE.A1.E7.90.86)、[部署配置](#.E9.83.A8.E7.BD.B2.E9.85.8D.E7.BD.AE)、[网络](#.E7.BD.91.E7.BB.9C) 等信息。

### 基本信息
创建服务器舰队根据资源类型可分为按“生成包”创建和按“镜像”创建两种类型，具体说明如下：

- **按生成包创建**
![](https://main.qcloudimg.com/raw/69a37c5edf2a5152411ae7d012a28d6b.jpg)
  - 名称：创建服务器舰队名称，建议创建有意义的舰队名称以便在列表中被轻松识别。
  - 资源类型：下拉选择生成包。
  - 生成包名：下拉选择已创建的有效生成包。如无请先 [创建生成包](https://cloud.tencent.com/document/product/1165/41030)。
  - 描述：创建服务器舰队描述，帮助进一步识别，可选。
  - 生成包 ID、生成包大小、操作系统根据所选的生成包名自动填写。

- **按镜像创建**
![](https://main.qcloudimg.com/raw/9870fbf239dc9160b8444f128ac8f895.jpg)
  - 名称：创建服务器舰队名称，建议创建有意义的舰队名称以便在列表中被轻松识别。
  - 资源类型：下拉选择镜像。
  - 镜像资源名：下拉选择已创建的有效镜像资源。如无请先 [创建镜像](https://cloud.tencent.com/document/product/1165/50471)。
  - 描述：创建服务器舰队描述，帮助进一步识别，可选。
  - 镜像 ID、镜像大小、镜像操作系统根据所选的镜像名自动填写。
<dx-alert infotype="explain" title="">
选择“按镜像创建”舰队还需要对镜像进行授权：需要将创建舰队使用到的镜像资源授权给 GSE，您可单击**点击共享**>**前往访问管理**>**同意授权**，即可使用镜像资源。
</dx-alert>


### 进程管理
  配置服务器进程在每个 CVM 实例上运行的方式。
  - 启动路径：输入生成包中游戏可执行文件的路径。在 Linux 平台生成包下载到 `/local/game/` 路径下；在 Windows 平台生成包下载到 `C:\game\` 路径下，游戏进程解压后的全路径如下所示：
   - Liunx：`/local/game/YourGameServerBuild`
   - Windows：`C:\game\YourGameServerBuild.exe`
  - 启动参数：可在启动时将信息传送到游戏可执行文件，以一组命令行参数的格式键入信息，可选。
  - 允许并发进程数：指明在服务器舰队的各个 CVM 实例上，使用此配置的服务器进程并发运行的个数。
  - 最大并发启动游戏服务器会话数：限制在 CVM 实例上可以同时激活的游戏服务器会话的数量，可选择无限制、有限制（最大值为20000）。当启动多个新游戏服务器会话时，该功能能够帮助降低对于在 CVM 实例上运行的其他游戏服务器会话造成的性能影响。
  - 游戏服务器会话激活超时：限制允许新游戏服务器会话激活的时间量，可设置超时时限小于或等于600s。
    ![](https://main.qcloudimg.com/raw/fa135e1304ab4213a805b21a9d8671b3.jpg)
<dx-alert infotype="explain" title="">
- 允许并发进程数：一个启动路径的二进制需要启动的游戏进程总数。
- 最大并发启动游戏服务器会话数：游戏服务器会话状态“激活中”的瞬间并发数。
</dx-alert>



 
 
 
### 部署配置
  - 服务器类型：创建服务器舰队的服务器机型。
  - 是否打通 VPC 网络：打通腾讯云 VPC 网络，可以访问您 VPC 下的服务器等。
    ![](https://main.qcloudimg.com/raw/3c18f3f2666c06fa100072ff8441a475.jpg)
 
 
[](id:test12)
### 网络
  - 网络：定义服务器进程的入站流量的访问权限。在允许访问之前，必须为舰队设置至少一个或多个端口设置。
    - 端口范围：指定游戏服务器可用来允许入站连接的端口号范围，值介于1025和60000之间。
    - 协议：选择舰队要使用的通信协议的类型，可选 TCP 或 UDP。
    - IP 地址范围：指定此舰队中 CVM 实例的有效 IP 地址范围，使用 CIDR 表示法（例如`0.0.0.0/0`，此示例允许尝试连接任何人的访问）。
  - 实例数量：指 CVM 服务器实例数量，服务器舰队创建成功后, 可在服务器舰队详情的扩缩容策略页面进行修改。
  - 保护策略：包括时限保护、完全保护、不保护。
    当开发者调用结束进程的接口时会主动终止进程，如果开发者未调用结束进程的接口，执行以下保护策略：
    - 时限保护：当系统触发缩容、或者进程不健康时，系统最长将在一个时间段后终止进程，值介于5和1440之间，默认60分钟。
    - 完全保护：当 CVM 实例没有正在运行的进程时，才能被终止。
    - 不保护：当系统触发缩容、或者进程不健康时，系统最长在5分钟内终止进程。
      ![](https://main.qcloudimg.com/raw/e74b8d6f2aa5c122e97c289cf74248b6.png)

4. 配置完如上相关信息后，单击**创建**，即可创建服务器舰队。
5. 创建成功后，您可以在服务器舰队界面进行查看、删除等操作。同时，您可单击服务器舰队 ID，查看基本信息、事件、实例列表、扩缩容、游戏会话、进程管理、端口和协议、生成包、VPC 等信息。



