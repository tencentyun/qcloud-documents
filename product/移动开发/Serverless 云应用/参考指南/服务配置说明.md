## 服务名称

环境下服务的唯一标识。创建成功后**不支持修改服务名称**。如果您有多个环境，不同环境之间服务可以重名。（例如：开发环境和测试环境可以同时存在服务 "testservice"）。

## 备注信息

展示在服务列表页面，仅您自己在控制台可见，不对部署产生任何影响。

## 所在私有网络/云托管网络/子网

### 背景知识

关于什么是私有网络（VPC）及子网，请参见 [私有网络](https://cloud.tencent.com/document/product/215) 文档。单击服务所在私有网络的名称，可以跳转到 [私有网络控制台](https://console.cloud.tencent.com/vpc) 查看私有网络的详情，以及该私有网络内您还有哪些其他云资源，可以与此私有网络内的云托管服务配合使用。

### 使用限制

- 处于同个私有网络中的云托管服务，可以**通过内网域名相互调用**，不产生公网流量费用，时延更短。如果您的服务需要访问腾讯云数据库或其他云服务，您可以将这些外部依赖部署于同个私有网络中。
- 不同私有网络之间的服务默认无法互通，除非您选择将多个 VPC 之间打通。这可能产生额外的费用和维护成本。
- **不支持更换服务所在私有网络**，您可以在正确的私有网络下重新创建服务后，再删除当前服务。

### 用法推荐

- 新建本环境内首个服务，且无特别的网络要求，请选择“系统创建”，云托管会自动为您创建并配置好一个全新的 VPC，同时**自动创建一个全新的微小型 NAT 网关**，保证您新建的服务具备访问公网的能力。
- 新建本环境内的第 2 ～第 N 个服务，且无特别的网络要求，推荐选择和前一个服务相同的私有网络。这样既方便服务之间互访，也可以节约私有网络数量配额。
- 如果有明确的网络要求，请选择“已有私有网络”，指定符合您要求的 VPC 及子网。

>? 若您选择的 VPC 不是由云托管创建的，需要您自行在此 VPC 中配置 NAT 网关，否则您的服务将无法访问公网。

## NAT 网关

### 背景知识

关于什么是 NAT 网关及如何配置公网访问，请参见 [NAT 网关](https://cloud.tencent.com/document/product/552) 文档。

### 使用限制

- 云托管自动创建的 NAT 网关（含“系统创建”标签），为云托管定制的微小型网关，最大并发数 10 万，最高带宽 10Mbps。如果不满足您的使用需求，请前往 [NAT 网关控制台](https://console.cloud.tencent.com/vpc/nat) 新增并配置符合您要求的 NAT 网关。
- 非云托管创建的 NAT 网关，在云托管控制台无法展示 IP，费用由 NAT 网关侧进行结算。请前往 [NAT 网关控制台](https://console.cloud.tencent.com/vpc/nat) 查看并管理。

### 用法推荐

NAT 网关 IP，将作为您的服务访问公网的出口 IP，也可用作域名备案。但无法通过这个 IP 访问到您的服务。

## 域名备案

### 背景知识

关于什么是域名备案及如何进行域名备案，请参见 [域名备案](https://cloud.tencent.com/document/product/1243/49364) 文档。

### 使用限制

展示当前服务所用的 NAT 网关 IP 是否可用于域名备案。需要满足以下条件状态会展示为“可备案”，不满足则会给出具体原因。

1. 使用“系统创建”的 NAT 网关。
2. 当前帐号下有至少一个有效期大于 90 天的云托管资源包（不限环境）。

## 镜像仓库

### 背景知识

云托管使用的是容器镜像服务（TCR）个人版，没有费用。您可以在服务详情页面中的**镜像**选项卡中，快速查看当前服务所绑定的镜像仓库中所有镜像和它们的使用情况。更多关于腾讯云镜像仓库的介绍，请参见 [容器镜像服务](https://cloud.tencent.com/document/product/1141) 文档。

### 使用限制

- 服务在创建时会绑定一个唯一的腾讯云镜像仓库，管理该服务下的所有版本的相关镜像。
- 不支持同一服务绑定多个镜像仓库，使得不同版本的镜像分散在多个不同的镜像仓库里。
- 所有由云托管创建的镜像仓库都会统一存放于以 “tcb” 开头的同一个命名空间之下，并以环境 id\_ 服务名的格式命名。您可以在 [容器镜像服务控制台](https://console.cloud.tencent.com/tcr) 上看到由云托管创建的这个镜像仓库并对它进行管理。
- 暂不支持服务绑定公有仓库。

### 用法推荐

“使用系统默认仓库（推荐）”：创建服务时，云托管将自动为您创建一个与服务同名的私有仓库并与您的服务进行绑定。“绑定已有腾讯云镜像仓库”适用以下场景：
#### 跨场景复用
   在云托管的场景之外，您已经使用了腾讯云的镜像仓库，并希望里面的镜像继续用于云托管的某个服务。此时，在创建服务时，可以选择 “绑定已有腾讯云镜像仓库” ，指定任意您账户下的私人镜像仓库。
   请注意，若如此做，则您通过云托管产生的镜像（手动上传或自动构建推送），可能也会影响您在其他场景下的镜像使用。

#### 多个服务共用同一套代码/镜像
   如果同一个服务需要同时部署 N (N>=2) 套（在同一环境部署多套请用不同服务名加以区分，分别部署在不同环境服务可以重名），则在创建第 2 - N 个服务时，可以选择“绑定已有腾讯云镜像仓库”，并指定第一个服务所绑定的镜像仓库，实现镜像在多个服务间的复用。
   两个服务都绑定到了同一个镜像仓库，仓库中所有的镜像可以同时用于两个服务，且这两个服务未来由云托管自动构建的镜像都会被推送到这同一个镜像仓库。

### 特殊情况

如果您曾经创建了一个服务并选择 “使用系统默认仓库” ，后来又删除了这个服务，但保留了这个同名的镜像仓库。则当您在同一环境再次用同样的名字创建服务时，选择 “使用系统默认仓库” 会自动绑定到原有的这个同名镜像仓库，而不会再次创建一个全新的镜像仓库。

此时，若您愿意继续使用之前同名服务遗留的镜像，可直接开始使用；若您不再需要遗留的镜像，请您到服务详情页面的 “镜像” 选项卡中，或到 [容器镜像服务控制台](https://console.cloud.tencent.com/tcr) 手动删除不需要的镜像。

## 日志管理/日志设置

### 背景知识

如何在云开发控制台内查询服务日志，请参见 [服务日志查询](https://cloud.tencent.com/document/product/1243/46132)。关于腾讯云 Elasticsearch service 的介绍，请参见 [Elasticsearch service](https://cloud.tencent.com/document/product/845) 文档。

### 使用限制

- 服务可以选择将日志输入到云开发“日志管理”模块中，或输出到指定的 ES 中。创建服务成功后**不支持修改日志选项**。
- 选择“自定义 Elasticsearch”，则在云开发或云托管控制台上无法查看您的服务日志，请前往[Elasticsearch service 控制台](https://console.cloud.tencent.com/es) 查看。

## 服务域名

- 默认公网域名：公网任意来源可以用来对服务进行 HTTPS 调用，会产生相应的公网流量费用。
- 内网域名：仅同一 VPC 内其他云服务（包括但不限于其他云托管服务、云服务器等）可用于访问，不产生公网流量费用。
- 允许公网通过服务域名访问服务：关闭后，通过默认公网域名/自定义公网域名访问服务将报错。当您希望服务仅内网可访问，可选择关闭。无论是否开启，不影响通过内网域名访问服务。

>?
> - 关闭“允许公网通过服务域名访问服务”后，若内网域名也同时没有被调用，则从任何角度都没有流量会打到当前服务，会引发服务下所有版本缩容至最小副本个数。
> - 同一 VPC 内，通过内网域名访问速度会高于通过公网域名访问。

## HTTP 访问服务配置

在服务域名之外，可选择性启用 HTTP 访问服务。

### 背景知识

关于云开发 HTTP 访问服务的介绍，请参见 [HTTP 访问服务文档](https://cloud.tencent.com/document/product/876/41728)。

### 使用限制

- 是否启用、如何配置 HTTP 访问服务，均不影响对服务域名的使用。
- 关闭“允许公网通过服务域名访问服务”开关，不影响公网通过在 HTTP 访问服务中配置的地址访问服务。
- 公网通过在 HTTP 访问服务中配置的地址访问服务，会产生相应的公网流量费用。
