本文介绍开始部署前您需要了解的一些基本概念。

## 环境
环境是继承自云开发的概念，同一个帐号下不同环境内的资源之间是逻辑隔离的，并且独立计费。

### 使用限制
- 任意云托管服务不可能脱离环境存在。
- 不同环境的服务不能使用统一域名（统一域名通过环境内 HTTP 访问服务实现）。
- 不同环境内的服务，只要属于同一 VPC，即可通过内网域名免流量调用。不同环境之间服务均可通过公网域名互相调用。
- 不同环境的服务不能共享云托管资源包。
- 日志、监控告警、登录授权、安全域名等安全运维类配置，仅针对当前环境有效。
- 不同环境的云托管服务，可以使用同一个 VPC。
- 环境内所有服务实例总数上限为200个（实际运行实例数而非设置的理论最大实例数）。
- 销毁环境不会影响其他环境内的服务，即便它们共享了 VPC 或者 NAT 网关。
- 多成员协作开发时，不同成员权限可以分配到具体环境。即环境 A 与环境 B 的操作权限是独立的。

### 用法推荐
- 用法一：根据用途区分环境，如区分为测试环境、预发环境、生产环境等。
  - 服务的管理、成员权限分配独立。例如生产环境权限控制可严于测试环境。
  - 可根据实际用途配置不同级别的告警策略。例如生产环境告警条件更细致严格。
  - 独立控制各环境的资源消耗、费用与预算。例如测试环境可以采用低成本模式、更小规格或更少数量的实例。
- 用法二：根据不同上层用户区分环境。如 SaaS 类业务可以为不同用户分配对应的独立环境。
  - 使不同用户的服务间逻辑隔离互不影响。
  - 每个用户实际使用资源基于不同环境分别计费。
  - 每个用户环境有独立的成员权限。


## 资源模型

服务、版本和实例，是云托管的三层基本概念。它们的关系如图所示。
![](https://main.qcloudimg.com/raw/3227b80bcd9de2a1c546c6973d1a8e0a.png)
上图展示了三个示例服务 TestA、TestB、TestC。每个服务都包含了两个版本，每个版本对应着一组0～N个实例（容器）资源。

### 服务域名

每个服务都包含一个系统自动生成的默认域名（您也可额外为服务绑定自定义域名），可被用于访问和传入请求。请求方无需感知该服务具体有几个版本，而是将服务视为一个整体。

### 流量分配

当有请求传入服务时，根据您事先配置的流量分配模式（按百分比/按 URL 参数）和规则，系统会将本次请求路由到对应的版本。

### 弹性伸缩

不同版本承载的请求数量决定它对应的实例（容器）数量，当无任何请求时实例（容器）数量最小可以被缩减到 0，不产生任何资源消耗。这一动态扩缩过程由系统自动完成，最终您只需为实际使用的所有实例（容器）资源付费。
