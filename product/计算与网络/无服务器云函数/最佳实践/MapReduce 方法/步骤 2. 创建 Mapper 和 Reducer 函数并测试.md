## 创建 Mapper 函数

### 通过控制台模板函数创建

1. 登录[**无服务器云函数控制台**](https://console.cloud.tencent.com/scf/list?rid=8&ns=default)，进入**函数服务**页面。
2. 选择**北京**地域，单击**新建**，进入新建函数页面。
3. 填写以下参数信息，单击**下一步**。如下图所示：
 - 创建方式：选择 “模板函数”。
 - 函数名称：命名为 “Mapper”。
 - 模板搜索：选择 “语言” 为 “Python2.7” 的 “map_function” 模板。
 - 鼠标移至模板函数上，可查看模板函数详情，支持下载操作。
 ![](https://main.qcloudimg.com/raw/acda22879449eb0998dbc01bd1851941.jpg) 
4. 保持默认配置，单击**完成**，完成函数的创建。
5. 在**函数代码**页面，可以浏览代码信息，如想要修改变量等参数值，可以选择在线修改并保存。

### 配置 COS 触发器

选择**触发方式**页面，单击**添加触发方式**，为云函数添加 COS 触发器。 
> “触发方式” 选择 “COS 触发”，COS Bucket 选择“srcmr” ，事件类型选择“全部创建”，其它保持默认参数。

## 创建 Reducer 函数

### 通过控制台模板函数创建

1. 登录[**无服务器云函数控制台**](https://console.cloud.tencent.com/scf/list?rid=8&ns=default)，进入**函数服务**页面。
2. 选择**北京**地域，单击**新建**，进入新建函数页面。
3. 同“创建Mapper函数”操作步骤一样，填写以下参数信息，单击**下一步**。
 - 创建方式：选择 “模板函数”。
 - 函数名称：命名为 “Reducer”。
 - 模板搜索：选择 “语言” 为 “Python2.7” 的 “reduce_function” 模板。
 - 鼠标移至模板函数上，可查看模板函数详情，支持下载操作。
4. 保持默认配置，单击**完成**，完成函数的创建。
5. 在**函数代码**页面，可以浏览代码信息，如想要修改变量等参数值，可以选择在线修改并保存。

### 配置 COS 触发器

选择**触发方式**页面，单击**添加触发方式**，为云函数添加 COS 触发器。 
> “触发方式” 选择 “COS 触发”，COS Bucket 选择“middlestagebucket” ，事件类型选择“全部创建”，其它保持默认参数。