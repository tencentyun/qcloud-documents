## 操作场景
云函数创建成功后，默认只有公网访问权限。即云函数在运行时，只能访问暴露在公共网络环境中的资源，例如腾讯云官网等。

云函数的网络配置项支持用户进行以下设置：
<table>
<tr>
<th style="width:30%">网络配置项</th>
<th>说明</th>
</tr>
<tr>
<td>仅公网访问</td>
<td>-</td>
</tr>
<tr>
<td>公网访问和固定公网出口 IP</td>
<td>进行此设置后，该云函数会使用一个固定的 IP 地址访问公共网络资源。</td>
</tr>
<tr>
<td>仅内网访问</td>
<td>进行此设置后，云函数可以访问到已配置该私有网络的数据库、Redis 等资源。</td>
</tr>
<tr>
<td>同时开启内网访问和公网访问</td>
<td>进行此设置后，云函数可以访问公共网络资源和已配置该私有网络的数据库、Redis 等资源。</td>
</tr>
<tr>
<td>同时开启内网访问、公网访问和固定公网出口 IP</td>
<td>进行此设置后，云函数会使用一个固定的 IP 地址访问公共网络资源。同时可以访问已配置该私有网络的数据库、Redis 等资源。</td>
</tr>
</table>

>?云函数获取固定公网出口 IP 配置，请参考 [固定公网出口 IP](https://cloud.tencent.com/document/product/583/38198)。

## 前提条件
- 已注册腾讯云账户。若未注册，请前往 [注册页面](https://cloud.tencent.com/register)。
- 已 [创建云函数](https://cloud.tencent.com/document/product/583/37509)。 


## 操作步骤
### 设置网络配置
1. 登录 [云函数控制台](https://console.cloud.tencent.com/scf/index)，单击左侧导航栏中的**函数服务**。
2. 在页面上方选择地域，单击需要进行网络配置的函数名。
3. 在“函数配置”页面，选择右上角的**编辑**。
4. 您可根据实际需求，参考 [网络配置](https://cloud.tencent.com/document/product/583/19702) 相关文档进行配置。


### 查看网络配置
1. 登录 [云函数控制台](https://console.cloud.tencent.com/scf/index)，单击左侧导航栏中的**函数服务**。
2. 在页面上方选择地域，并单击函数名，即可在“函数配置”中查看当前网络配置。




## 网络限制

### 并发连接数限制

当前针对访问目标的同一 ip：port ，并发连接数限制为六万个。由于短连接涉及到中间设备的释放时间，因此在短连接情况下，连接数会进一步下降。

如果您有多个函数或同一函数的多个并发访问同一 ip：port ，请注意此处的限制，并可通过以下方案来避免快速耗尽连接数导致代码错误。

- 尽量使用长连接。在函数初始化阶段完成连接并持续复用连接，来避免实际调用过程中使用短连接带来的频繁连接、释放。该措施可以充分使用连接数，但仍存在连接数上限的限制。
- 访问目标提供多个 ip：port 对。通过访问目标的多个 ip：port 对，将连接尽量分散到多个连接目标上，可以避免触碰到连接数上限。

### 内网带宽限制

在配置 VPC 连接内网的情况下，当前针对某一特定 VPC 的连接带宽为100MB。带宽由配置了相同 VPC 的函数和函数的多个并发实例共享。如需提升内网带宽，则请 [提交工单](https://console.cloud.tencent.com/workorder/category) 申请。


