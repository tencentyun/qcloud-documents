## 使用场景

异步执行函数通常用来处理大量异步长时任务，为了更好的对异步长时任务进行管理，SCF 提供了状态追踪功能，记录并上报事件响应的实时状态，并提供事件状态的统计、查询等事件管理相关服务。

## 运行机制

### 基础原理

异步执行函数状态追踪功能开启后，平台将开始记录并上报事件实时状态。其原理如下图所示：
![](https://main.qcloudimg.com/raw/d06476734d27d3308783e78af85897a2.png)

### 注意事项

- 异步执行事件状态仅保留3天，将以3天为时间窗口滑动清理。如需保留全部记录，则需要定期拉取并保存至自有存储。
- 关闭状态追踪后，将停止提供异步执行事件相关记录、统计、查询等事件管理相关服务，已产生的事件状态数据将在3天内清空。
- 异步运行函数的事件调用 QPS 限制为并发数量的十分之一，超出部分将被限制，造成响应失败。
- 由于请求 QPS 超限、账户欠费等原因，事件调用将由调度引擎直接返回对应异常，不会生成事件状态记录。

## 操作步骤

1. 登录 [云函数控制台](https://console.cloud.tencent.com/scf/list?rid=16&ns=default)，单击左侧导航栏的**函数服务**。
2. 在主界面上方选择期望创建函数的地域，并单击**新建**，进入函数创建流程。
3. 选择使用**空白函数**或选择使用**函数模板**来新建函数。
4. 在“函数配置”页面，展开**高级设置**，勾选**异步执行**后，勾选**状态追踪**后单击**完成**。
5. 函数创建完成后，可单击**事件管理**查看异步事件列表。
![](https://qcloudimg.tencent-cloud.cn/raw/0fb22f1331df0c24418c186d31ff3d67.png)

