## 计费项说明
云函数的费用由以下部分组成，每部分根据自身统计结果和计算方式进行费用计算，结果以元为单位，并保留小数点后两位：

### 按量计费项
函数服务的基础计费项，按用户实际用量计费。

| 计费项名称                                                     | 说明         |
| :----------------------------------------------------------- | :--------------- |
| 资源使用费用 | 由函数配置内存，乘以函数运行时长得出资源使用量，单位为 GBs。|
| 调用次数费用 | 函数的每次触发执行均记为一次调用，单位为次。Web 函数的计费项为**Web 函数调用次数**，计费方式相同。 |
| 外网出流量费用 | 在函数代码中访问外网时产生的出流量记录为外网出流量，单位为 GB。 |
| 预置并发闲置费用   | 由已启动的预置实例数，减去实际运行的并发数得到闲置实例数，闲置实例数乘以配置内存，再乘以闲置时长得出闲置资源量，单位为 GBs。 |
| 基础套餐费用| 开通使用云函数三个月后的用户每月不再享受免费额度，系统每月会发放基础套餐额度，同时自动扣除12.8元（扣除方式为：每日扣除0.41元）。单位为天。如果开通使用云函数不足三月拥有免费额度、或购买了有效期内的套餐包或资源包（资源包有余量），或上个自然月的函数资源使用量、调用次数、外网出流量均为0时，系统则不会再扣除基础套餐费用。|
| Web 函数响应流量费用 | 仅在配置了默认触发器的 Web 函数内进行统计，具体计费方式参考[ Web 函数计费文档](https://cloud.tencent.com/document/product/583/66237)。 |


资源使用、调用次数、外网出流量及预置并发闲置量单、基础套餐费用单价请参考 [产品定价](https://cloud.tencent.com/document/product/583/12281)。其中，外网出流量、响应流量按 GB 进行计算，详情请参见 [网络带宽计费](https://buy.cloud.tencent.com/price/idc) 中的按流量计费。

>? 对于使用默认触发器的 Web 函数，会额外新增 Web 函数响应流量，免费额度不包含 Web 函数响应流量，Web 函数计费详情见 [Web 函数计费说明](https://cloud.tencent.com/document/product/583/66237)。
>

### 预付费计费项
包含套餐包与资源包，购买后可用于抵扣上述**按量计费项**。

| 计费项名称   | 说明         |
| :--------------------- | :--------------- |
| [套餐包](https://cloud.tencent.com/document/product/583/71468) | 以包年包月的方式购买，套餐包内额度可用于抵扣**指定地域/命名空间下**的**函数资源使用量**、**函数调用次数**、**外网出流量**、**函数并发配额**、**函数 burst** 五种资源。套餐包的资源将会遵循有效期内优先抵扣的原则，当实际使用量小于或等于套餐包额度，则不另外产生函数执行费用，实际使用量大于套餐包额度超出部分将自动以按量付费方式收费。|
| [资源包](https://cloud.tencent.com/document/product/583/61679) | 一次性购买，在有效期内可用于抵扣**全地域**的**资源使用量、函数调用次数和外网出流量**。 |

### 其他产品费用
使用函数服务的过程中可能会使用到其他计费产品，此处列举部分常见关联产品：

| 关联产品计费项   | 说明         |
| :--------------------- | :--------------- |
| 日志服务费用 | SCF 的日志查询功能由 CLS 日志服务提供，运行日志将默认投递到 CLS，日志投递详情请查看 [日志投递配置](https://cloud.tencent.com/document/product/583/52644)。2022 年 9 月 5 日起，CLS 为开通三个月内的新用户提供一定 [免费额度](https://cloud.tencent.com/document/product/614/47116)，到期后将按量产生日志服务费用。详情请参见 [日志服务定价](https://cloud.tencent.com/document/product/614/45803)。|
| API 网关、COS、CKafka 等其他产品费用 | 如果在使用云函数时，使用了其他产品，例如消息队列 CMQ、Ckafka、API 网关及对象存储 COS 等，将按实际使用产品的计费规则进行费用计算。 |


## 资源使用费用

**资源使用费用 =（资源使用量 - 免费资源额度）× 资源使用单价**

### 资源使用量 GBs

**资源使用量 = 函数配置内存 × 运行时长**

用户资源使用量，由函数配置内存，乘以函数运行时的计费时长得出。其中配置内存转换为 GB 单位，计费时长由毫秒（ms）转换为秒（s）单位，因此，资源使用量的计算单位为 **GBs**（GB-秒）。

例如，配置为256MB的函数，单次运行了1760ms，计费时长为1760ms，则单次运行的资源使用量为（256 / 1024）×（1760 / 1000） = 0.44GBs。

针对函数的每次运行，均会计算资源使用量，并按小时汇总求和，作为该小时的资源使用量。

>!
>- 当前云函数的资源用量，按照函数的配置内存乘以触发时的实际运行时长进行计费，相较于向上对齐100ms计费的方式，总体资源用量更低，产生的费用更低。详情可参见 [计费示例](https://cloud.tencent.com/document/product/583/12285)。
>- 由于云函数运行时所在的计算资源具有一定的不确定性，以及代码内的具体行为、涉及到的网络通信等影响，相同函数代码在触发时的运行时长会有轻微波动。

## 调用次数费用

**调用次数费用 = （函数调用量 - 免费调用额度） × 调用次数单价**

函数的每次触发执行，都记为一次调用，并按小时汇总求和，以**次**为单位进行计算费用。


## 外网出流量费用

**外网出流量费用 = 外网出流量 × 流量单价**

用户在函数内访问外网资源时，会产生对外的流量。例如，将文件上传至外部某存储空间时：

- 代码中向外网提供的存储空间写入文件，会因发送文件产生出流量；从外网提供的存储空间读取数据或文件，仅有发送请求时的出流量，读取或下载文件不记录为出流量。
- 函数配置了私有网络 VPC，并在代码中向私有网络内的数据库中写入数据，不记录为出流量。
- 使用 API 网关触发器的函数，函数执行完成的返回数据，**不记录为函数出流量**；API 网关返回至客户端的数据，由 API 网关记录为出流量并计费。API 网关的流量计费规则详情可见 [API 网关流量费用说明](https://cloud.tencent.com/document/product/628/39300#llfy)。



## 预置并发闲置费用

**预置并发闲置费用 = 闲置实例数 × 配置内存 × 闲置时长 × 预置并发闲置量定价**

- **闲置实例数**：云函数以10秒为粒度，统计10秒内该版本的最大并发数，由当前已启动的预置实例数减去最大并发数，即为闲置实例数。计算公式如下为：闲置实例数 = max（已启动的预置实例数 - 并发数, 0）
- **配置内存**：云函数预置并发配置的内存大小。
- **闲置时长**：预置并发闲置的时长。
- **预置并发闲置量定价**：详情请参见 [产品定价](https://cloud.tencent.com/document/product/583/12281)。

>? 预置并发闲置量的计算单位为 GBs（GB-秒）。

预置并发功能只对已经配置并启动、但未使用的实例收取少量闲置费用，**对于已配置且在使用的实例不收取额外费用**。即只有当前版本的预置数量大于版本并发数时，会收取超出部分的闲置费用。未超出的部分不额外收费。示例详情见 [计费示例](https://cloud.tencent.com/document/product/583/63076#.E8.AE.A1.E8.B4.B9.E7.A4.BA.E4.BE.8B)。

## 基础套餐费用
- **基础套餐费用（月） =  月份天数（例如：5月为31天，4月为30天） × 基础套餐定价**
- **基础套餐费用（天） =  1（天数） × 基础套餐定价**
- **天数**：默认为1天。
- **基础套餐定价**：详情请参见 [产品定价](https://cloud.tencent.com/document/product/583/12281)。

>? 
- 如果您的云函数开通时间小于等于三个月，平台默认发放免费额度，不扣除基础套餐费用。
- 如果您的云函数开通时间大于三个月，且您已购买有效期内的套餐包或资源包（资源包有余量），不扣除基础套餐费用。
- 平台每个月1号会统计上个自然月用户函数调用情况，如果上个自然月的函数资源使用量、调用次数、外网出流量均为0时，本月将不会扣除基础套餐费用。如果本月产生函数任何一项用量，下个月将会继续扣除基础套餐费用。
