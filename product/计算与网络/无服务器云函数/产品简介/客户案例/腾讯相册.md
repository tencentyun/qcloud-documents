## 客户简介

腾讯相册小程序，是腾讯官方的相册小程序，为用户免费保存原图和视频，且支持长视频发朋友圈，并为用户一键生成更优雅的音乐相册或主题相册。
![](https://main.qcloudimg.com/raw/de1f73155e8fa76a9011c4b7dd02babd.jpg)

## 客户方案

腾讯相册通过小程序和空间相册打通，实现了在小程序端的照片上传、下载、分享好友、点赞、评论、生成小程序码等功能。本文档以点赞评论功能和优化小程序分享二维码为例。

### “基于小程序云开发的点赞评论功能” 案例

![](https://main.qcloudimg.com/raw/de72f1c5064fe665866476d2772955dd.png)
基于小程序云开发的点赞评论功能的操作逻辑如下图所示：
![](https://main.qcloudimg.com/raw/844a889525ca2c1be52f4918a99558a6.png)
在云函数中，实现以下功能：
- 对小程序端评论、点赞等数据进行拉取和存储的操作。
- 当小程序端进行评论、点赞等操作时，通过云函数的路由功能，在原有的相册服务端获取用户的鉴权信息。

### “优化小程序分享二维码” 案例

![](https://main.qcloudimg.com/raw/421ece0c70a7ff0285fb135fdf8c9d4e.png)
优化小程序分享二维码的云函数处理逻辑流程如下图所示：
![](https://main.qcloudimg.com/raw/3bc4e810e89c95dd494bae4505d1b26a.png)
在云函数中，实现以下功能：
- 调用微信的生成小程序码的接口。
- 将需要生成二维码的图片或视频存储至云开发的文件存储。
- 获取图片的临时 URL 并返回前端。

## 客户价值

- 新开发的小程序后端与原有的后端服务互不冲突。
- 原有的后端服务架构复杂，新增功能困难。
- 使用小程序云开发可节省排期和联调的时间，提升开发效率。
- 在云函数中完成鉴权，即可打通原有的数据资源。

