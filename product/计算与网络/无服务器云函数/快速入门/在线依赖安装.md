## 操作场景
腾讯云云函数提供函数部署时在线安装依赖的功能。

## 功能特性
>?目前仅针对 Node.js 具备在线安装依赖功能。
>

如果在函数配置中启用了“在线安装依赖”，在每次上传代码后，云函数后台将检查代码包根目录的 `package.json` 文件，并根据 `package.json` 中的依赖，尝试使用 npm 工具安装依赖包。

例如，项目中的 `package.json` 文件中列出了如下依赖包：
```
{
    "dependencies": {
    "lodash": "4.17.15"
  }
}
```
此依赖包会在部署时导入函数中：
```
const _ = require('lodash');
exports.handle = (event, context, callback) => {
    _.chunk(['a', 'b', 'c', 'd'], 2);
    // => [['a', 'b'], ['c', 'd']]
};
```

## 操作步骤
您可通过以下两种方式实现云函数安装依赖包功能。

### 创建函数时通过控制台启用
1. 登录 [云函数控制台](https://console.cloud.tencent.com/scf/index)，选择**广州**。
2. 选择左侧导航栏的【函数服务】，在“函数服务”列表页面单击【新建】。
3. 在“新建函数”页面，根据您的实际需求填写函数信息，单击【下一步】。
4. 在“函数配置”页面，根据您的实际需求配置函数。并在页面下方，选择上传方式为“在线安装依赖”，如下图所示：
![](https://main.qcloudimg.com/raw/35ad228c51aa2b77479a5a74209df0a8.png)
>?每次上传代码后，云函数后台会自动安装依赖。
5. 单击【完成】。

### 更新函数时通过控制台启用
1. 登录 [云函数控制台](https://console.cloud.tencent.com/scf/index)，选择**广州**。
2. 选择左侧导航栏【函数服务】，在“函数服务”列表页面选择函数名。
3. 选择【函数代码】页签，根据您的实际需求修改函数代码。并在页面下方，选择上传方式为“在线安装依赖”，如下图所示：
![](https://main.qcloudimg.com/raw/5b60dfd81c106e9993212c414ae8d520.png)
>?每次更新代码后，云函数后台会自动安装依赖。
5. 单击【保存】。

### 使用 npm 直接安装 Node.js 依赖包
>!您需在本地自行安装依赖包，再通过“全量上传”的方式将代码包上传至云函数平台。
>
您可通过 [SCF 命令行工具](https://cloud.tencent.com/document/product/583/33445) 在云函数文件夹中直接执行命令安装依赖包。例如，执行以下命令将添加 lodash 依赖包：
```
npm install lodash
```




