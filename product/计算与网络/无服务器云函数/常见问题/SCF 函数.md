### SCF 函数是什么？

无服务器云函数上运行的代码以“SCF 函数”的形式上传。每个函数都有相关的配置信息，如其名称、描述、资源要求等。代码必须以“无状态”样式编写，即应假设与底层计算基础设施无密切关系。本地文件系统访问、子进程等严格控制在云函数的生命周期内，且任何持续状态都应存储在外部可用的存储如COS或CDB。SCF 函数可包含外部库，甚至是本机库。

### SCF 是否会重复使用函数实例？

为了提高性能，SCF 会在一定时间内保留您的函数实例，将其再用于服务后续请求。但您的代码不应假设此操作总是发生。

### SCF 可以使用临时存储空间吗？

可以，SCF 函数在执行过程中，都拥有一块 500MB 的临时磁盘空间 /tmp，用户可以在执行代码时对该空间进行一些读写操作，但这部分数据在函数执行完成后不会保留。

### 为何要保持 SCF 函数无状态？

保持函数的无状态性可使函数按需要尽可能多地启动多个实例，从而满足请求的速率

### 能否在我的函数代码中使用线程和进程？

能。用户可使用正常的语言和操作系统功能，如创建额外的线程和进程。分配至函数的资源，包括内存、执行时间、磁盘和网络，都通过其使用的线程/进程进行共享。

### 有哪些限制适用于函数代码？

我们尽量不对正常的语言和操作系统活动施加限制，但有些活动仍被禁用。比如：入站网络连接将被阻止

### 如何使用 CLI 创建 SCF 函数？

您可以将代码 (以及任何依赖库) 打包为 zip 并使用 CLI 从您的本地环境上传 zip 文件，或将 zip 文件上传 COS Bucket 后，在创建函数时指定拉取代码 zip 包的 Bucket 名和文件名。

### 如何进行故障排除？

SCF 集成了日志功能，每次调用都会将该次调用的日志输出到控制台日志窗口中，日志记录了该函数每次使用时所消耗的资源、代码中的log及平台调用信息等，您可以轻松将故障排除相关的log语句插入到代码中。

### 通过上传zip包创建函数后，提示“函数服务创建失败，请重试”？

通常是函数的执行方法无法在zip包中找到对应的执行文件或函数入口，或压缩时包括了外层文件夹。执行方法格式为`a.b`，其中：a是py文件的名称，b是代码中的方法名。
如果用户上传的zip包在解压后的根目录下找不到名为`a.py`的文件，则会提示"函数代码无法显示，代码 zip 包中找不到执行方法指定的文件名"。

例如：文件结构如下

--RootFolder
----SecondFolder
------a.py
------thirdfolder
--------sth.json

压缩代码zip包时，如果压缩的是SecondFolder，则会出现上述错误；需要选择`a.py`和`thirdfoler`进行压缩。

### 选择内存不管多少，同一段代码的执行时间都差不多？

在公测期，我们为用户的每个函数实例都统一分配了相同的计算资源（即容器核数是固定的） ，公测后会根据选择内存大小进行按比例分配。

### 出现timeout时如何处理？

请先将超时时间设置为一个较大值（不超过300均可）再测试一遍，如果仍然超时，请检查您的代码 log 中是否存在过大的输入数据和计算量、无法跳出的循环、长时间的sleep等。

### 如何扩容？

用户不必关心函数扩缩容问题，SCF 平台会代您自动扩展。每当接收函数请求时，SCF 会快速定位空闲容量并运行您的代码。由于您的代码是无状态的，可以在需要时尽可能多地启动实例，而不会发生冗长的部署和配置延迟。

### 如何分配函数计算资源？

用户可以选择函数分配的内存量，CPU 和其他资源也会相应的按比例进行分配。例如，选择 256MB 的内存时，分配至函数的 CPU 约是分配 128MB 内存的两倍。

### 能否使用本地库？

可以。用户可以在函数代码中包含自己的代码库，并以zip包的形式上传至平台。

### 函数调用报错“Resource limit exceed for function”？

通常是是函数并发触发了配额上限，可以通过公式“函数并发 = qps（每秒的请求数量）x 函数执行时间（秒）”来计算所需的函数并发数量；例如：qps = 100，函数执行时间 = 100ms, 则实际需要的函数并发= 100 x 0.1 = 10；如果并发超了上限，您可以通过[提交工单](https://console.cloud.tencent.com/workorder/category?level1_id=6&level2_id=668&source=0&data_title=%E6%97%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BA%91%E5%87%BD%E6%95%B0%20SCF&step=1 )来提升限制。