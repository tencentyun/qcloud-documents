## 操作场景
随着信息化的不断发展，当前不少零售企业都拥有不少内部系统来实现企业信息化，例如使用 ERP、CRM 等业务系统来管理商品、用户等信息，使用 OA、财务等内部系统完成服务支持。然而，多项系统彼此闭环，难以统一管理，这些问题直接促进了中台的出现。

中台服务提供了一个统一的平台接收不同事件，实现企业内部信息共享，并将事件转发给对应的下游服务进行消费处理，从而把更多的系统连接在一起。EventBridge 作为一款安全、稳定、高效的无服务器事件管理平台，EventBridge 事件总线可以接收来自应用程序、软件即服务（SaaS）和腾讯云服务的实时事件及相关数据流，通过集成消息推送和 SCF 云函数投递目标，实现事件快速分发与实时消费，简化事件驱动中台架构的设计和降低研发成本。

## 架构设计
如图，以零售中台为例，EventBridge 提供了统一的事件投递规范，业务方产生的不同类型事件（如用户下单、商品入库、订单更新等），通过 EBAPI 以相同规范进行投递，由 EB 进行事件的过滤、提取后，根据配置的不同路由规则，将对应事件投递给相应的处理目标，完成事件的自动化处理。在该场景下，EventBridge 完成了业务中台的基础能力，企业也可以基于 EB 提供的接口规范以及路由原则，将 EB 作为底层架构，完成更复杂的业务中台搭建，从而简化开发成本。
![](https://qcloudimg.tencent-cloud.cn/raw/5b5b5fc3805bb3526d874daca94ec942.jpeg)

## 方案优势
#### 统一事件规范
为复杂多样的业务系统提供统一标准的事件规范，保证事件一致性，方便后续处理。
#### 简化开发流程
利用 EB 自带规则匹配与处理功能，以配置化的方式来进行不同来源事件的分发处理，降低开发门槛，提升构建效率。
#### 海量数据实时处理
EB 作为为流式的数据承担通道，可以在不同的数据仓库之间、数据处理程序之间、数据分析和处理系统之间进行数据路由，实现海量业务事件的实时处理。
#### 丰富拓展能力
经过 EB 处理的事件保证了格式规范的统一，后端可以直接推送给不同的业务系统进行消费和业务逻辑处理；目前已完成和云函数 SCF 的集成，可基于函数通过任意一种编程语言开发数据处理逻辑，连接不同的系统与不同服务。

## 操作步骤

### 步骤一：绑定事件源
EventBridge 目前支持三类事件源的投递：
- **云服务事件源**
云服务产品产生的事件，如监控告警事件、云上操作审计事件等，该类事件默认投递至云服务事件集，由业务方主动投递，用户不可修改或关闭，可以在「事件总线控制台」--「云服务事件集」详情页面查看目前支持的所有云服务事件。
- **SaaS 事件源**
基于鹊桥 iPaaS 实现，目前鹊桥 iPaaS 企业应用平台已完成与 Eventbridge 事件总线的对接，鹊桥 iPaaS 支持的 50+SaaS 应用均可实现到 EB 的投递。
- **自定义事件源**
除了默认投递的事件外，EB 还支持自定义业务事件投递，您可以通过 Ckafka、TDMQ 等消息队列产品投递，API 网关 URL 回调，或者直接调用 API 接口等方式，自定义投递由业务方产生的事件信息。

对于零售中台架构，业务平台产生的事件为自定义事件，可通过调用接口或回调的方式，以统一规范投递给 EventBridge。操作详情见 [事件源概述](https://cloud.tencent.com/document/product/1359/56074)。

### 步骤二：配置路由规则

如何对收集到的不同业务来源事件进行分类处理，是中台系统需要关注的另一个问题，EventBridge 的规则过滤与筛选能力可以有效解决。基于 EB 标准事件格式，开发者可以自定义不同的字段匹配规则，来确定不同的事件需要被哪一个规则过滤，并进行简单的事件分析转换，实现海量数据分类高效处理。配置路由规则操作详情见 [事件规则概述](https://cloud.tencent.com/document/product/1359/56083)。 
![](https://qcloudimg.tencent-cloud.cn/raw/5dae2b38eb57ed5408eac59f5f7fd9b8.png)

### 步骤三：绑定推送目标
完成规则的配置后，业务方可以根据实际场景需要，将不同事件推送给指定的下游平台完成消费，实现相应业务逻辑，完成基本中台架构的搭建。EventBridge 当前支持的事件目标包括 [SCF 云函数](https://cloud.tencent.com/document/product/1359/58791)、[日志服务 CLS](https://cloud.tencent.com/document/product/1359/62567)、[消息推送](https://cloud.tencent.com/document/product/1359/62568) 及 [Ckafka](https://cloud.tencent.com/document/product/1359/71424)。

