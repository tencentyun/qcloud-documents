## 操作场景
安全组用于管理是否放行来自公网或者内网的访问请求。为安全起见，安全组入方向大多采取拒绝访问策略。如果您在创建安全组时选择了“放通全部端口”模板或者“放通22，80，443，3389端口和ICMP协议”模板，系统将会根据选择的模板类型给部分通信端口自动添加安全组规则。详情请参见 [安全组概述](https://cloud.tencent.com/document/product/1108/48540)。

本文指导您通过添加安全组规则，允许或禁止安全组内的边缘实例及资源对公网或私网的访问。

## 前提条件

- 您已经创建一个安全组。具体操作请参见 [创建安全组](https://cloud.tencent.com/document/product/1108/48541)。
- 您已经知道边缘实例需要允许或禁止哪些公网或内网的访问。更多安全组规则设置的相关应用案例，请参见 [安全组应用案例](https://cloud.tencent.com/document/product/1108/48596)。

## 操作步骤
1. 登录 [边缘计算机器控制台](https://console.cloud.tencent.com/ecm/overview)。
2. 选择左侧导航栏中的【[安全组](https://console.cloud.tencent.com/ecm/safe)】，进入“安全组”管理页面。
3. 在“安全组”管理页面，选择需设置规则的安全组所在行右侧的【修改规则】。
4. <span id="Step4"></span>在【安全组规则】页签中，单击【入站/出站规则】，并根据实际需求选择以下任意一种方式完成操作。
   - **方式一**：单击【一键放通】，并在弹出窗口中进行确认。此方式适用于无需设置 ICMP 协议规则，并通过22，3389，ICMP，80，443，20，21端口便能完成操作的场景。如下图所示：
![](https://main.qcloudimg.com/raw/2e2889f1558598cb44e15a8773df1fda.png)
   - **方式二**：单击【添加规则】，并在弹出窗口中进行配置，详情请参见 [步骤5](#Step5)。此方式适用于需要设置多种通信协议的场景，例如 ICMP 协议。如下图所示：
![](https://main.qcloudimg.com/raw/1f1219089aa4647d53db7e6236bba3de.png)
  - **方式三**：在安全组规则页面，可按需修改入站/出站规则。选择【入站/出站规则】页签，根据期望添加规则的位置，单击已有规则所在行右侧的【插入】>【向上/向下插入一行】，并参考 [步骤5](#Step5) 快速配置规则。如下图所示：
![](https://main.qcloudimg.com/raw/28c62121bbab49280ec7019c86abc2dd.png)
5. <span id="Step5"></span>添加规则的主要参数如下：
   - **类型**：默认选择“自定义”，您也可以选择其他系统规则模板，例如 “Windows 登录”模板、“Linux 登录”模板、“Ping” 模板、“HTTP(80)” 模板和 “HTTPS(443)” 模板等。
   - **来源**：流量的源（入站规则） 或目标（出站规则），请指定以下选项：
<table>
<tbody><tr><th>指定的源/目标</th><th>说明</th></tr>
<tr><td>单个 IPv4 地址或 IPv4 地址范围</td><td>用 CIDR 表示法（如<code>203.0.113.0</code>、<code>203.0.113.0/24</code>或者<code>0.0.0.0/0</code>，其中<code>0.0.0.0/0</code>代表匹配所有 IPv4 地址）。</td></tr>
</tbody></table>
   - **协议端口**：填写协议类型和端口范围。例如，UDP:53、TCP:80,443。
   - **策略**：默认选择“允许”。
     - **允许**：放行该端口相应的访问请求。
     - **拒绝**：直接丢弃数据包，不返回任何回应信息。
   - **备注**：自定义，简短地描述规则，便于后期管理。
6. 单击【完成】，完成安全组入站规则的添加。
7. 在安全组规则页面，单击“出站规则”，并参考 [步骤4](#Step4) - [步骤5](#Step5)，完成所需安全组出站规则的添加。

