消息队列 CKafka 与开源 Apache Kafka 的性能对比详情如下：



| 特性       | CKafka                                                       | Apache Kafka                                                 |
| ---------- | :----------------------------------------------------------- | ------------------------------------------------------------ |
| 优点       | <li>吞吐量非常大</li><li>扩展性非常灵活</li><li>运维成本极低</li>           | 吞吐量大                                                     |
| 缺点       | 极端情况可能丢失消息                                         | <li>可能丢失消息</li><li>扩展性不够灵活</li><li>依赖组件多，运维量大</li><li>安全防护功能有限，隔离和兼容性差</li> |
| 吞吐量     | 非常大                                                       | 较大                                                         |
| 常规性能   | 百万级 QPS                                                    | 百万级 QPS                                                    |
| <nobr>2C 4GB 压测</nobr> | 读写22万 QPS                                                  | 读写20万 QPS                                                  |
| 成本       | 按照客户预估的流量峰值和磁盘容量来计费，十分灵活             | 自建 Kafka 的成本更高，需人工和运维环境                        |
| 运维       | 完善的监控告警系统和运维工单系统，Ckafka 研发专家随时答疑解惑，迅速解决客户问题 | 自建 Kafka，运维和部署十分繁琐，出问题难以定位                |
| 可扩展性   | 非常灵活、易于扩展，发送消息只需指明 VIP 地址，Broker 的变化对于收发消息都透明 | 不够灵活，发送消息需指明 Broker 地址，接收消息需 ZooKeeper 协调调度 |
| 可用性     | 可用性很高，主从自动切换，腾讯云消息服务承诺可用性99.95%     | 可用性高，主从自动切换，但由于异步刷盘和复制，切换后可能会丢消息 |
| 消息可靠性 | <li>可靠性较高</li><li>可通过三副本方式提升可靠性，集群容灾性能好，故障情况极少发生</li>| <li>可靠性低</li><li>Broker 只有异步刷盘机制，主备只有异步复制，可能会导致丢失部分消息</li> |
| 安全防护   | 支持                                                         | 不支持                                                       |
| 监控告警   | 支持                                                         | 不支持                                                       |
| 服务支持   | 支持                                                         | 不支持                                                       |

>?
>- “2C 4GB压测”表示在2核 CPU 4GB 内存服务器上压测的结果。
>- CKafka 兼容0.9以上的生产/消费接口，如果接入低版本（如0.8版本）的自建 Kafka，您需要对接口进行相应改造。参考接入 [低版本自建 Kafka](https://cloud.tencent.com/document/product/597/11173)。
