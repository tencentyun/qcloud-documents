## 操作场景

该任务指导您通过CKafka控制台创建实例和Topic，快速了解CKafka控制台操作流程。

## 操作步骤

### 创建实例

1. 登录 [CKafka 控制台](https://console.cloud.tencent.com/ckafka) 。

2. 在左侧导航树点击【实例列表】，单击【新建】进入实例购买页。

3. 在实例购买页，根据自身业务需求选择购买信息。
   ![](https://main.qcloudimg.com/raw/7a455039a008a36930af0ec1a29676a9.png)

  - 计费模式：包年包月

  - 规格类型：

  - 地域：选择和部署客户端的资源相近的地域

  - 可用区：根据实际需要选择可用区

    - 标准版：不支持多可用区部署

    - 专业版：若当前地域支持多可用区部署，则最多可选择2个可用区进行部署。关于跨可用区部署原理介绍请参考[跨可用区部署]()。

      ![](https://main.qcloudimg.com/raw/04fa7f5909df14d772fb58793c013a26.png)

  - 产品规格：根据峰值带宽和磁盘容量选择对应的型号

  - 消息保留：以分钟为单位，最短保留1分钟，最长保留90天

  > ?设置了消息保留时间后，过期的消息就会被删除，而删除机制是按照 Ckafka 的分片批量删除的，不是立刻删除的，目前分片的大小是1GB，如果分片不到1GB就不会删除。因此，如果您设置的保留时间是1分钟，而分片的数据大小在1分钟内无法增到1GB，那么这个时间是无效的，建议延长保留时间，具体根据数据的堆积速度而定。

  - 私有网络：若用户需要接入其他私有网络可参考 [添加路由策略](https://) 修改路由接入规则
  - 购买时长：可设置到期后按月自动续费

4. 单击【立即购买】，完成实例创建。
   ![](https://main.qcloudimg.com/raw/326afc4cb9999f0193695fce03a6a98a.png)


### 创建Topic

1. 在【实例列表】页，单击目标实例的“ID/名称”，进入实例详情页。
2. 在实例详情页，单击页面顶部的【Topic 管理】，点击【新建】。
3. 在编辑 Topic 窗口中，选择分区数和副本数等信息。
   ![](https://main.qcloudimg.com/raw/6488d26c4b3b9fd8e377bad64f163c3b.png)

  - 名称：Topic 名称，输入后无法更改，名称只能包含字母、数字、下划线、“-”和“.”。

  - 分区数：一个物理上分区的概念，一个 Topic 可以包含一个或者多个 partition，CKafka 以 partition 作为分配单位。

  - 副本数：partition 的副本个数，用于保障 partition 的高可用，为保障数据可靠性，当前不支持创建单副本 Topic，默认开启2副本。
    副本数也算分区个数，例如客户创建了1个 Topic、6个分区、2个副本，那么分区额度一共用了1 * 6 * 2 = 12个。

  - 白名单： 开启白名单后，只有白名单中的 IP 才可访问该 Topic，有效保证数据安全（在新建 Topic 和编辑 Topic 页面均可以开启白名单）。

5. 单击【提交】完成 Topic 创建。
   ![](https://main.qcloudimg.com/raw/3c94aa49d3782429c433e239beceded4.png)
