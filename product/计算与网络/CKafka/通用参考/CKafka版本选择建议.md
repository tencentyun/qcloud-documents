本文为您介绍腾讯云 CKafka 和社区版 Kafka 的兼容性，帮助您在使用腾讯云 CKafka 时根据业务需求选择更加适合您的版本。

## 概述

社区版 Kafka 目前共演进了0.7.x到2.8.x大概20个版本，从消息队列的角度可分为三个阶段：0.x、1.x、2.x。 目前腾讯云针对这三个社区发展阶段提供了四个对应版本：0.10、1.1、2.4、2.8，基本覆盖了用户使用的主流 Kafka 版本。

其中1.x和2.x这两个大版本主要是对 Kafka Streams 的优化和改进，在消息引擎方面并未引入太多的重大功能特性（2.x在事务特性方面有较大改进）。Kafka Streams 在2.x版本有较大改进，如果您是这些特性的用户，请至少选择2.x的版本。

## 兼容性说明

腾讯云 CKafka 完美兼容社区 Kafka，其中高版本和低版本是完全向下兼容的。例如：自建0.10版本的 Kafka，在云上选择0.10、1.1.1、2.4.1版本的 CKafka 均可；如果自建是高版本，不建议选择低版本（因为不确定业务是否使用高版本携带的特性）。

以下是兼容性说明：

| CKafka 版本 | 可兼容社区版本 | 兼容性 |
| ----------- | -------------- | ------ |
| 0.10.2      | ≤ 0.10.x       | 100%   |
| 1.1.1       | ≤ 1.1.x        | 100%   |
| 2.4.1       | ≤ 2.4.x        | 100%   |
| 2.8.1       | ≤ 2.8.x        | 100%   |

**关于 CKafka2.4.1 版本说明**

CKafka 上线2.4版本时，社区的稳定分支为2.4.1版，后来社区有一个开发分支2.4.2版本，进行一些修复合入后，定位为2.4.2版本。后续社区删除了2.4.2版本，最终社区上没有2.4.2版本，因此 CKafka 之前显示的2.4.2版本和现在显示的2.4.1版本对齐。



## CKafka 版本选择建议

- 如果是自建 Kafka 上云，建议选择对应的大版本即可。例如：自建 Kafka 是1.1.0版本，则选择 CKafka 的1.1版本。
- 当在云上找不到对应的版本时，建议向上选择版本。例如：自建是1.0.0版本，则建议使用1.1.1版本；自建是0.11.x版本，则建议使用版本1.1.1（因为 Broker 的每个版本是向下兼容的）。
