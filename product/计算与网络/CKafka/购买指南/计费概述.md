本章节主要介绍消息队列CKafka的产品规格，计费项目，计费模式和实例价格。

## 产品规格

消息队列 CKafka 实例按照规格分为标准版和专业版，两个版本的对比如下：


| 项目                              | 专业版                                                       | 标准版                                                       |
| --------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 版本                              | <li>兼容开源0.9、0.10、1.1、2.4版本</li><li>可以在购买时自由选择</li> | <li>兼容开源0.9、0.10、1.1版本</li><li>默认安装1.1版本，不支持定制版本</li> |
| 实例类型                          | 专享实例，每个实例单独一个集群，独立虚拟节点                 | 共享物理节点资源                                             |
| 稳定性 SLA                        | 99.995%                                                      | 99.95%                                                       |
| 实例规格                          | 没有固定型号，可以根据实际业务场景定制规格                   | 分为入门型、标准型和进阶型等8种固定的实例类型                |
| <nobr>Topic/Partition 规格</nobr> | <li>相同带宽下 Topic/Partition 容量远大于标准版</li> <li>支持在一定范围内额外购买 Partition 包来扩容上限</li> | 每个型号固定上限                                             |
| 扩容                              | 自由度高，可以单独扩容带宽、Topic/Partition上限、磁盘        | 自由度一般，可以单独扩容磁盘                                 |
| 性能调优                          | 支持根据业务场景定制，更少参数限制                           | 根据不同实例规格限制 Topic、partition 个数                   |
| 自动化清理磁盘                    | 是，自动清理过期数据                                         | 否，磁盘满后需要 [提交工单](https://console.cloud.tencent.com/workorder/category?level1_id=876&level2_id=951&source=0&data_title=%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%20CKafka&level3_id=955&radio_title=%E9%85%8D%E9%A2%9D%E6%8F%90%E5%8D%87%E7%94%B3%E8%AF%B7&queue=81&scene_code=18356&step=2) 处理 |
| broker 修复升级                   | 可以针对性升级，升级过程快速且几乎无感知，稳定性强           | 受限于共享集群，升级解决问题周期较长                         |
| 高可用能力                        | 支持同地域自定义多可用区部署，提升容灾能力                   | 不支持同城跨可用区部署，依赖于后台迁移，需要 [提交工单](https://console.cloud.tencent.com/workorder/category?level1_id=876&level2_id=951&source=0&data_title=%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%20CKafka&level3_id=954&radio_title=%E4%BD%BF%E7%94%A8%E5%92%A8%E8%AF%A2(SDK/API/%E4%BA%A7%E5%93%81%E7%AD%89)&queue=81&scene_code=18346&step=2) 申请，一般处理周期为10个工作日 |
| 高级特性                          | <li>定时 rebalance，升配可以自定义 rebalance 执行时间，避开业务高峰，详情参见 [升配实例](https://cloud.tencent.com/document/product/597/40414)</li><li>高级监控，包括网络稳定性分析，请求时延分析等），详情参见 [查询高级监控信息](https://cloud.tencent.com/document/product/597/54514)</li><li>支持根据磁盘水位动态调节消息保留策略，详情参见 [添加消息动态保留策略](https://cloud.tencent.com/document/product/597/53850)</li> | 无                                                           |
| 技术服务                          | 提供参数优化咨询服务，可以针对部分特殊的业务场景定制化参数配置，您可以 [提交工单](https://console.cloud.tencent.com/workorder/category?level1_id=876&level2_id=951&source=0&data_title=%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%20CKafka&level3_id=954&radio_title=%E4%BD%BF%E7%94%A8%E5%92%A8%E8%AF%A2(SDK/API/%E4%BA%A7%E5%93%81%E7%AD%89)&queue=81&scene_code=18346&step=2) 申请 | 基础的故障处理和问题修复                                     |


>?**专业版**默认开启自动化清理磁盘功能，当实例磁盘满了以后，会自动清理最早数据，保证实例可用。

## 计费项目

计费项目如下：


| 项目                  | 专业版 | 标准版 | 说明                                                         |
| --------------------- | ------ | ------ | ------------------------------------------------------------ |
| <nobr>峰值带宽</nobr> | ✔      | ✔      | 吞吐量指出入带宽峰值，40MB吞吐指出和入的带宽峰值为40MB。考虑实例的副本个数，需要均分吞吐量，例如，客户要求40MB吞吐、3副本，则需要购买120MB/s的吞吐带宽。 |
| 磁盘容量              | ✔      | ✔      | <li>不同实例规格对应不同的磁盘容量。</li><li> 消息队列 CKafka 支持的磁盘类型为 SSD 云硬盘，专业版支持的磁盘类型为 SSD 云硬盘和高性能云硬盘。</li> |
| Partition             | ✔      | -      | <li>不同实例规格对应不同的 Partition 数量，专业版的 Partition 可以单独额外购买 。</li><li>专业版 Topic 不再额外计费，最高可使用的 Topic 数量 = Partition 数量/副本数。</li><li>不支持缩减Partition数量。</li><li>实例级别的 Paritition 限制包含了副本数。例如：一个实例下有1个双副本、4分区的 Topic、 2个3副本、3分区的 Topic，则该实例的总 partition 个数为 （1 × 2 × 4）+（2 × 3 × 3）= 26个。</li> |

## 计费模式

消息队列 CKafka 以实例的形式售卖，采用**包年包月-预付费**的计费形式。

- 选购标准版实例时，仅需测算业务所需性能和磁盘容量，按需购买即可，最终购买的标准版实例的总费用 =  (实例单价 × 实例数量 + 磁盘容量单价 × 单独扩容磁盘容量 / 100) × 月数

- 选购专业版实例时，请您做好对业务峰值带宽、Partition 数和磁盘容量的估算，最终购买的专业版实例的总费用 = (基础套餐包费用 + Partition 包单价 × 额外 Partition 数量 / 100 + 磁盘容量单价 × 磁盘容量 / 100) × 月数

> ?
>- CKafka 在创建 Topic 时可选数据3副本存储或2副本存储，实际业务存储为购买磁盘空间除副本数。
例如：购买300GB磁盘，当选择2副本存储时，实际存储业务的磁盘大小为150GB；当选择3副本存储时，实际存储业务的磁盘大小为100GB。 
>- 包年包月暂不支持提前进行缩容，您可以先 [提交工单](https://console.cloud.tencent.com/workorder/category?level1_id=876&level2_id=951&source=0&data_title=%E6%B6%88%E6%81%AF%E6%9C%8D%E5%8A%A1%20CKafKa&step=1) 申请缩容，等待到下一计费周期开始前，后台会为您执行缩容，执行后新的一个月/年会按照缩容后的规格计算。

## 标准版价格

消息队列 CKafka 标准版根据**峰值吞吐性能**及**磁盘容量**不同分为入门型和标准型等8种实例类型，支持单独扩容磁盘。

**实例价格**

| 实例类别               | 峰值吞吐量（MB/s） | 磁盘容量（GB） | 实例级别 Topic 数 | 实例级别 partition 数 | 价格（元/月） |
| ---------------------- | ------------------ | -------------- | ----------------- | --------------------- | ------------- |
| 入门型                 | 40                 | 300            | 25                | 60                    | 269           |
| 标准型                 | 100                | 1000           | 40                | 100                   | 699           |
| 进阶型                 | 150                | 2500           | 50                | 150                   | 1599          |
| 容量型                 | 180                | 4000           | 150               | 300                   | 2299          |
| <nobr>高阶型 L1</nobr> | 300                | 6000           | 250               | 500                   | 2999          |
| 高阶型 L2              | 400                | 6000           | 250               | 500                   | 3799          |
| 高阶型 L3              | 600                | 6000           | 350               | 600                   | 5099          |
| 高阶型 L4              | 900                | 9000           | 450               | 700                   | 7599          |

**单独扩容磁盘价格**

| 磁盘类型   | 磁盘容量（GB） | 价格（元/月） |
| ---------- | -------------- | ------------- |
| 高性能云硬盘 | 100                | 35             |

>?如需更高规格的消息队列 CKafka 实例，请联系商务经理或 [提交申请](https://cloud.tencent.com/apply/p/3ublpa1on5o) 进行开通。

## 专业版价格

CKafka 专业版提供了更为灵活的参数选配方式和更稳定的升配能力，您可以根据具体的业务现状按需选购以及扩容。

**基础套餐包**

您在选择峰值带宽大小后，会自动对应到一个基础套餐包的阶梯上，每个阶梯的基础套餐包含有一定数量的Partition，Topic不再额外计费，套餐内可使用的Topic数量 = Partition数量/副本数。

峰值带宽（x）的与套餐内包含的partition规格的对应关系如下：

| 峰值带宽阶梯（MB/s） | 套餐 Partition规格（个） |
| -------------------- | ------------------------ |
| 40 ≤ x＜60           | 800                      |
| 60 ≤ x＜120          | 900                      |
| 120 ≤ x＜180         | 1200                     |
| 180 ≤ x＜240         | 1400                     |
| 240 ≤ x＜320         | 1600                     |
| 320 ≤ x＜400         | 1800                     |
| 400 ≤ x＜500         | 2000                     |
| 500 ≤ x＜600         | 2200                     |
| 600 ≤ x＜800         | 2400                     |
| 800 ≤ x＜1000        | 2600                     |
| 1000 ≤ x＜1200       | 2800                     |
| x = 1200             | 3200                     |
| x = 1600             | 4000                     |
| x = 2000             | 4500                     |
| x = 2400             | 5000                     |
| x = 2800             | 5500                     |
| x = 3200             | 6000                     |

  >?
  >
  >- 套餐包含的Partition 数量包含在套餐包的费用中，不额外收费。
  >- 如需更高规格的消息队列 CKafka 实例，请联系商务经理或 [提交申请](https://cloud.tencent.com/apply/p/3ublpa1on5o) 进行开通。

峰值带宽基础包的价格按照不同阶梯进行计费，价格阶梯如下：

| 阶梯      | 峰值带宽范围（MB/s） | 价格（包年包月）                          |
| --------- | -------------------- | ----------------------------------------- |
| 基础I型   | 40~100               | 1990元/月起步，每+20MB/s 增加 300元/月    |
| 基础II型  | 120~300              | 3377元/月起步，每+20MB/s 增加 292元/月    |
| 基础III型 | 320~600              | 6147元/月起步，每+20MB/s 增加 280元/月    |
| 基础IV型  | 620~900              | 11687元/月起步，每+20MB/s 增加 248元/月   |
| 基础V型   | 920~1200             | 15380元/月起步，每+20MB/s 增加 192元/月   |
| 高性能型  | 1600~10000            | 20507元/月起步，每+400MB/s 增加 4840元/月 |

示例：一个180MB/s的实例，归属于基础II型，在120MB/s的基础上增加了60MB/s，则该套餐包的价格为 3377 + 292 × ( 60 / 20 ) = 4253 (元/月)

**Partition 叠加包价格**

您在选择峰值带宽大小后，若所对应的基础套餐包内的 Partition 规格仍不满足需求，则可以额外单独购买 Partition 叠加包。Partition 叠加包按照100个分区为1个单位叠加，Partition 叠加包价格如下：

| 阶梯     | 单位 Partition 数（个） | Partition 包单价（包年包月） |
| -------- | ----------------------- | ---------------------------- |
| 任何阶梯 | 100                     | 200元/月                     |

**扩容磁盘价格**

购买 CKafka 专业版需要最低购买一定大小的磁盘，磁盘按照100GB为1单位扩容，磁盘的价格如下：

| 阶梯     | 磁盘类型     | 单位磁盘容量（GB） | 磁盘单价（包年包月） |
| -------- | ------------ | ------------------ | -------------------- |
| 任何阶梯 | SSD 云硬盘   | 100                | 100元/月             |
| 任何阶梯 | 高性能云硬盘 | 100                | 35元/月              |

云硬盘类型参考 [云硬盘类型](https://cloud.tencent.com/document/product/362/2353)。
