### 如何选取 CKafka 副本数？
建议 topic 创建时选择双副本或三副本存储数据，保障数据可靠性。当前 CKafka 已经禁止单副本 topic 的创建，如您账户下有单副本的 topic，建议按如下步骤迁移：
1. 创建新的 topic，选择相同的分区，选取双副本；
2. 生产消息到新的 topic 中，存量的单副本 topic 继续被消费；
3. 消费完毕后修改消费者配置，订阅新的 topic 进行消费。

### 消息队列新接入客户端时生产/消费错误如何处理？
- 检查 telnet 是否通（网络问题，是否 Kafka 和生产者在相同网络环境下）。
- 访问的 vip - port 是否配置正确。
- topic 白名单是否开启，如果开启需要配置正确的 IP 才能访问。

### 生产消费者是否只需配置 vip:port？
--bootstrap-server 参数中填写 CKafka 实例的 vip:port 即可,新购 CKafka 实例后，默认通过 9092 端口接入，但 9093-9095 端口也可通。
主要原因在于，CKafka VIP 封装了后端节点的 broker IP，并通过 9092 端口负载均衡到 9093-9095 端口，因此接入时仅需配置 CKafka 实例的 vip:port。

### Cloud Kafka 消息保留时间配置为 1min，是否会在 1min 后立即删除堆积消息？
不一定。消息删除不仅和保留时间配置有关，也和生产消息的数据量级有关。
CKafka 删除堆积消息的最小单位是 partition 级别的文件分片，当前文件分片大小为 1GB，堆积不达到一个文件分片是不会删除的。如果有 10 partition，在 1 分钟内如果没有达到 10GB 的量，就不会有文件滚动，也就不会删除。

### Cloud Kafka 是否支持自动创建 topic（auto.create.topic）？
当前 Cloud Kafka 未开放自动创建 topic 的开源接口，建议客户通过标准的 API 接口 [CreateTopic](https://cloud.tencent.com/document/product/597/10096) 创建 topic。

### CKafka 消息堆积了很多如何处理？
CKafka 跟开源的 Kafka 是一模一样的机制和原理。您可以通过以下步骤来排错：
1. 确定下您的业务有几个消费者在消费；
2. 若消费者消费能力比较差，直接加消费者即可；
3. 消费者已经到最高设置（>=您的分区数），建议您再提高主题分区数，可以提交工单申请开同白名单，我们后台审核帮忙提高分区个数。
