## 剩余的未消费消息的条数是如何计算的？

计算方式为：未消费消息数量 = 最大的offset - 提交的 offset。如下图：

![img](https://main.qcloudimg.com/raw/05c88d97f36784e5f83c08b24e229265.png)





## 是否支持自动调整消息保留时间？

CKafka 支持添加动态消息保留策略功能，设置数据动态保留策略后，当磁盘空间使用率到达一定的比例后，会自动向前过期一定比例的数据，避免遇到用户消息猛增的情况，磁盘空间满了之后，则无法正常生产和消费。具体操作方式参见 [添加动态消息保留策略](https://cloud.tencent.com/document/product/597/53850)。
