## 操作场景

腾讯云容器服务提供升级 Kubernetes 版本的功能，通过该功能可以为您运行中的 Kubernetes 集群进行升级。

## 注意事项
- 目前集群升级处于内测阶段， 如有需要，请提交工单申请。
- 请在升级集群前，查看集群下状态是否均是健康状态。若集群不正常，您可以自行修复，也可以通过 [提交工单](https://console.qcloud.com/workorder/category?level1_id=6&level2_id=350&source=0&data_title=%E5%AE%B9%E5%99%A8%E6%9C%8D%E5%8A%A1TKE&step=1) 联系我们协助您进行修复。 
- 升级集群时，需要先升级 Master 再升级 Node（升级过程中不建议对集群进行任何操作）。
- 升级集群 Master 版本需要花费数分钟，在此期间您将无法操作您的集群，更新 Master 版本属于不可逆操作，请谨慎执行。
- TKE 节点产品化升级功能即将上线， 目前仅允许用户升级 Master 版本。 升级完成 Master 版本后，可以通过以下方式逐步替换节点版本。
	- 驱逐节点上运行的  pod。
	- 将需要升级的节点移出集群后重新添加到集群（将进行重装系统）。
	- 新增的节点默认为新版本。
- 升级 Master 版本后，请尽快替换 Node 节点的 Kubernetes 版本。
- 存量的集群升级若 Master 版本是1.10以上版本， 节点版本在1.8版本以下，PVC 功能将不可用。
- 目前仅支持向上升级最近 TKE 提供的 Kubernetes 版本， 不支持跨多个版本升级（如1.8升级到1.10， 1.10升级到1.12）。
- 需要跨版本升级的情况，建议 Master 和 Node 升级成统一的版本后再进行下一次升级。

>?
- 1.7.8版本 TKE 集群，网络模式为 bridge，集群升级不会自动切换网络模式为 cni。
- 创建集群时设置的部分特性，如支持 ipvs 等，集群升级到1.10和1.12版本后，不支持开通。


## 操作步骤

1. 登录 [容器服务控制台](https://console.cloud.tencent.com/tke2)。
3. 在左侧导航栏中，单击【[集群](https://console.cloud.tencent.com/tke2/cluster?rid=4)】，进入 “集群管理” 页面。
4. 进入需要升级的集群详情基本信息页，在 Master 版本中点击【升级集群】。
5. 单击【完成】，等待完成升级。

