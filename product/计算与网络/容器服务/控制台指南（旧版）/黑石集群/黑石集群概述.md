## 概述
黑石容器集群扩展了腾讯云的黑石物理机 CPM、黑石负载均衡等 Kubernetes 插件，为容器化的应用提供高效部署、资源调度、服务发现和动态伸缩等一系列完整功能，助力游戏、AI 等行业轻松应对高性能计算业务场景的挑战。

黑石容器集群具备以下优势：

- **高性能**：容器直接运行于高性能黑石物理服务器上，无虚拟化性能损失。
- **安全隔离**：黑石容器集群用户私有，提供立体防护，专业支持，集群网络允许自定义 IP 范围，提供木马检测、暴力破解防护、漏洞扫描、WAF 和登录安全等主机与安全基础防护，免费且丰富的基础安全服务形成安全屏障，为您的业务保驾护航；提供免费的 10GB DDoS 防护配额，超高防御能力，为您免除安全问题烦恼。
社区兼容：完全兼容 kubernetes 全能力，适配了腾讯云黑石物理服务器 CPM、黑石私有网络 VPC 等 IaaS 的基本能力。定时同步社区最新 Kubernetes 和 Docker 版本。
- **简单易用**：无需应对复杂的集群配置、网络配置等，您只需启动容器集群，并指定想要运行的任务，容器服务即可帮您完成所有的集群管理工作，让您专心投入开发 Docker 化的应用程序。
- **丰富的平台能力整合**：支持黑石容器集群和云服务器容器集群完全互通，可根据业务需要快速对接腾讯云平台的能力。结合腾讯云微服务框架实现业务服务化，结合腾讯云人工智能（AI）服务轻松打造 AI + 容器应用，结合腾讯云丰富的网络能力快速部署混合容器云等等。

黑石物理服务器是针对用户自己 IDC 部署难、弹性不足等情况推出的具有灵活、弹性、易用、全面等特性的云产品，适用于高性能计算等业务。

## 使用指引
您可以通过 [容器服务控制台](https://console.cloud.tencent.com/ccs/bmcluster) 方便快捷地操作黑石集群。

- [创建黑石集群][create]
- [连接黑石集群][connect]
- [管理黑石集群节点][manage]
- [删除黑石集群][delete]
- [黑石集群网络详解][Network]

## 注意事项
1. 加入集群的机器系统必须是 BM-CentOS 7.2 的系统，并且机器状态为正常运行状态。

2. 刚加入集群的 BM-CentOS7.2 节点因为内核版本对 docker 的支持有问题，需要升级内核并重启系统，这个会导致控制台上刚加入的节点状态显示异常状态，等重启完毕后恢复正常。后续我们会专门针对黑石容器服务发布一个 CentOS 的操作系统，到时将不会有升级内核和重启的操作。

3. 集群创建过程中会创建的资源：
    - 一个内网 LB：用于 node 访问 master 时用
    - 一个外网 LB：用于从外网访问 k8s 集群时用
    - NAT 网关：master 通过 cloudprovider 调用黑石云 API，创建容器子网和 LB 时使用；另外 node 节点也会加入 NAT 网关，给与 node 和容器访问外网的能力。如果 node 和 master 已经 bind 了 NAT 网关，将不会重新创建。
    - 创建的 NAT 网关、LB 等资源名称都以 bm_ccs 开头，当通过控制台删除集群时，上述资源将被释放。
    - 请不要把 bm_ccs 开头的 NAT 网关给集群外其他主机使用，如果给其他主机使用，当删除集群时，因为 NAT 网关被删除，会造成其他主机不能访问外网。

4. SecretId 和 SecretKey  
master 通过 cloudprovider 调用黑石云 API 需要 SecretId和 SecretKey，建议用户单独创建一个 SecretId 和 SecretKey 给容器服务使用。

5. 黑石容器服务的容器网段和服务网段都是从黑石 VPC 下划分出来的网段，一旦网段已经分配给黑石容器集群，该网段下的所有子网将不能通过控制台创建，除非将黑石容器服务集群销毁；另外黑石容器服务的子网占用 vlanID 2999，请不要在黑石 VPC 下使用 vlanID 2999。每个黑石节点加入集群时就会创建一个子网，子网的名称是 **bm_ccs** 开头。

6. 黑石集群里的 node 如果通过控制台重装或者下线，后台会自动从集群中移除该节点；如果将集群里的 master 重装或者下线，将导致整个集群不可用并且前台加载集群列表会加载超时，在重装或下线 master 主机时，请先用控制台来删除集群。

[create]:/document/product/457/15608#.E5.88.9B.E5.BB.BA.E9.BB.91.E7.9F.B3.E9.9B.86.E7.BE.A4
[connect]:/document/product/457/15608#.E8.BF.9E.E6.8E.A5.E9.BB.91.E7.9F.B3.E9.9B.86.E7.BE.A4
[manage]:/document/product/457/15608#.E7.AE.A1.E7.90.86.E9.BB.91.E7.9F.B3.E9.9B.86.E7.BE.A4.E8.8A.82.E7.82.B9
[delete]:/document/product/457/15608#.E5.88.A0.E9.99.A4.E9.BB.91.E7.9F.B3.E9.9B.86.E7.BE.A4
[Network]:/document/product/457/15609
