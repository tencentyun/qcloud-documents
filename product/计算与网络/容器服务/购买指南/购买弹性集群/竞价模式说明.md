## 竞价模式概述

弹性容器服务竞价模式是一种低成本资源购置模式，其核心特点为价格低于按量付费实例，在一些场景可以极大降低运行容器的成本，但资源可能会被腾讯云中断回收。您在使用竞价模式运行时仅需支付较少的费用，并运行到容器资源被回收为止。

使用竞价模式时，您可以像使用普通按量计费资源一样在容器部署工作负载，且同样具备普通按量计费模式下的所有功能。


## 竞价模式策略


### 价格策略

目前弹性容器服务采用的竞价模式为**固定折扣比例（折扣比例为20%）**，即所有规格的竞价模式将以原规格 [产品定价](https://cloud.tencent.com/document/product/457/39806) 的固定折扣出售。



>!该折扣仅对 Pod 资源规格计费项（CPU、内存、GPU）生效。不包括网络带宽、网络流量、持久化存储等资源的费用。



### 回收中断机制

竞价模式下的容器会因为腾讯云计算资源池库存不足而产生回收中断。当库存不足时，会从已分配的竞价模式容器里随机回收，容器缓存数据不会保留。

回收中断时将会产生以下中断事件：

```plaintext
EVENT REASON : “SpotPodInterruption”
EVENT MESSAGE : “Spot pod was interrupted, it will be killed and re-created”
```

## 适用场景

#### 适合短时长突发、周期任务

适用于不需要长期运行的突发性、周期性短时长工作负载。例如视频转码、视频渲染、服务压测、批量计算、爬虫等。

#### 适合可切分的计算任务

适用于可以将长时间作业按作业对象切分为细粒度任务进行计算的系统。例如 EMR 等大数据套件。


#### 适合无状态或者支持断点续传能力的计算任务

- 适用于将计算中间结果放到持久化存储上，可接受 Pod 被回收重启后继续运算的工作负载。
- 适用于支持自动负载均衡和服务发现的无状态工作负载，可接受 Pod 被回收重启的工作负载。


## 竞价模式开启

您可以通过在工作负载 YAML 中定义如下 Pod template annotation 方式，为工作负载开启竞价模式。

```yaml
eks.tke.cloud.tencent.com/spot-pod: "true"
```

其他支持 Annotation 以及范例请参见 [Annotation 说明](https://cloud.tencent.com/document/product/457/44173)。
