## 黑石集群概述

黑石容器集群扩展了腾讯云的 黑石物理机CPM、黑石负载均衡 等 kubernetes 插件，为容器化的应用提供高效部署、资源调度、服务发现和动态伸缩等一系列完整功能，助力游戏、AI等行业轻松应对高性能计算业务场景的挑战。

黑石容器集群具备以下优势：

- **高性能**：容器直接运行于高性能黑石物理服务器上，无虚拟化性能损失。
- **安全隔离**：黑石容器集群用户私有，提供立体防护，专业支持，集群网络允许自定IP 范围，提供木马检测、暴力破解防护、漏洞扫描、WAF 和登录安全等主机与安全基础防护，免费且丰富的基础安全服务形成安全屏障，为您的业务保驾护航；提供免费的10G DDoS 防护配额，超高防御能力，为您免除安全问题烦恼。
社区兼容：完全兼容 kubernetes 全能力，适配了腾讯云黑石物理服务器 CPM、黑石私有网络VPC 等 IAAS 的基本能力。定时同步社区最新Kubernetes和Docker版本。
- **简单易用**：无需应对复杂的集群配置、网络配置等，您只需启动容器集群，并指定想要运行的任务，容器服务即可帮您完成所有的集群管理工作，让您专心投入开发 Docker 化的应用程序。
- **丰富的平台能力整合**：支持黑石容器集群和云主机容器集群完全互通，可根据业务需要快速对接腾讯云平台的能力。结合腾讯云微服务框架实现业务服务化，结合腾讯云人工智能（AI）服务轻松打造AI+容器应用，结合腾讯云丰富的网络能力快速部署混合容器云等等。

黑石物理服务器是解决用户自己IDC部署难、弹性不足等情况推出灵活、弹性、易用、全面的云产品，适用于高性能计算等业务。

## 黑石集群使用指引
您可以通过[容器服务控制台](https://console.cloud.tencent.com/ccs/bmcluster)方便快捷的操作黑石集群。

[创建黑石集群][create]
[连接黑石集群][connect]
[管理黑石集群节点][manage]
[删除黑石集群][delete]
[黑石集群网络详解][Network]

## 使用黑石集群注意事项
1. 加入集群的机器系统必须是BM-centos7.2的系统，并且机器状态为正常运行状态
2. 刚加入集群的的BM-centos7.2节点因为内核版本对docker的支持有问题，需要升级内核并重启系统，这个会导致控制台上刚加入的节点状态显示异常状态，等重启完毕后恢复正常。后续会专门针对黑石容器服务发布一个centos的操作系统，到时将不会有升级内核和重启的操作。
3. 集群创建过程中会创建的资源：
    - 一个内网LB：用于node访问master时用
    - 一个外网LB：用于从外网访问k8s集群时用
    - nat网关:master通过cloudprovider调用黑石云API，创建容器子网和LB时使用；另外node节点也会加入nat网关，给与node和容器访问外网的能力。如果node和master已经bind了nat网关，将不会重新创建。
    - 创建的nat网关、lb等资源名称都以bm_ccs开头，当通过控制台删除集群时，上述资源将被释放。
    - 请不要把bm_ccs开头的nat网关给集群外其他主机使用，如果给其他主机使用，当删除集群时，因为nat网关被删除，会造成其他主机不能访问外网。

4. secretId和secretKey  
   master通过cloudprovider调用黑石云API需要secretId和secretKey，建议用户单独创建一个secretId和secretKey给容器服务使用
5. 黑石容器服务的容器网段和服务网段都是从黑石VPC下划分出来的网段，一旦网段已经分配给黑石容器集群，该网段下的所有子网将不能通过控制台创建，除非将黑石容器服务集群销毁；另外黑石容器服务的子网占用vlanID 2999，请不要在黑石VPC下使用vlanID 2999.每个黑石节点加入集群时就会创建一个子网，子网的名称是bm_ccs开头。
6. 黑石集群里的node如果通过控制台重装或者下线，后台会自动从集群中移除该节点；如果将集群里的master重装或者下线，将导致整个集群不可用并且前台加载集群列表会加载超时，在重装或下线master主机，请先用控制台来删除集群。


[create]:
[connect]:
[manage]:
[delete]:
[Network]:

