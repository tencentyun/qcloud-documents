路由表由多条路由策略组成，用于控制私有网络内子网的出流量走向。每个子网仅且只能关联一个路由表，一个路由表可以关联多个子网。您可以创建多个路由表，为不同流量走向的子网关联不同的路由表。您可通过如下视频了解路由表的相关信息。
<div class="doc-video-mod"><iframe src="https://cloud.tencent.com/edu/learning/quick-play/2354-35381?source=gw.doc.media&withPoster=1&notip=1"></iframe></div>

## 类型
路由表有默认路由表和自定义路由表两种类型： 
- **默认路由表**：用户创建私有网络时，系统会自动为其生成一个默认路由表。在之后的子网创建过程中，如果用户没有选择自定义路由表，子网会自动关联该默认路由表。您可以在默认路由表中添加、删除和修改路由策略，但无法删除该默认路由表。
- **自定义路由表**：您可以在私有网络中创建自定义路由表，自定义路由表可以被删除。您可以为具有相同路由策略的子网建立一个自定义路由表，并将路由表与需要遵循其路由策略的所有子网关联。

![](https://main.qcloudimg.com/raw/a86260ffb40bec52c9f64a307d956691.png)  

>?您可以在 [创建子网](https://cloud.tencent.com/document/product/215/36517) 时关联路由表，或在子网创建后，[更换子网关联路由表](https://cloud.tencent.com/document/product/215/53531)。

## 路由策略
路由表通过路由策略来实现流量走向控制，路由策略由目的端、下一跳类型和下一跳组成：
- **目的端**：目的端即为您要转发到的目标网段。目的网段描述仅支持网段格式，如果您希望目的端为单个 IP，可设置掩码为`32`（如`172.16.1.1/32`）。另外，目的端不能为路由表所在私有网络内的 IP 段，原因是 Local 路由已表示此私有网络内默认内网互通。
>?当您在 VPC 中部署了 [容器服务](https://cloud.tencent.com/document/product/457/6759)，在配置 VPC 子网路由表策略时，目的端不能在 VPC 的 CIDR 范围内，也不能包含容器网段。
>例如某 VPC CIDR 为172.168.0.0/16，容器网络 CIDR 为192.168.0.0/16，那么配置 VPC 子网路由表策略时，目的端网段不能在172.168.0.0/16范围内，也不能包含192.168.0.0/16。
>
- **下一跳类型**：私有网络的数据包的出口。私有网络下一跳类型支持 “NAT 网关”、“对等连接”、“VPN网关”、“专线网关”、“云服务器”等类型。
- **下一跳**：指定具体跳转到的下一跳实例（使用下一跳 ID 标识），如私有网络内的某个具体 NAT 网关。


### 路由策略优先级
当路由表中存在多条路由策略时，路由优先级由高至低分别为：
- 私有网络内流量：私有网络内流量最优先匹配。
- 最精确路由（最长前缀匹配）：当路由表中有多条条目可以匹配目的 IP 时，采用掩码最长（最精确）的一条路由作为匹配项并确定下一跳。
- 公网 IP：路由策略均匹配失效时，通过公网 IP 对 Internet 进行外访。

**场景举例：**
当一个子网关联了 NAT 网关，且子网内云服务器有公网 IP（或弹性公网 IP）时，会默认通过 NAT 网关访问 Internet（因为最精确路由的优先级高于公网 IP），但您可以设置路由策略，实现通过云服务器公网 IP 访问 Internet，详情请参见 [调整 NAT 网关和 EIP 的优先级](https://cloud.tencent.com/document/product/552/30012)。


