### 操作系统版本
centos7.2

### 内核版本
3.10.0-693.17.1.el7

### 小版本号
180501

### 更新软件
```
软件名                                  更新前版本号                            更新后版本号
augeas-libs.x86_64                      1.4.0-2.el7                             1.4.0-2.el7_4.2                         
authconfig.x86_64                       6.2.8-10.el7                            6.2.8-30.el7                            
bash.x86_64                             4.2.46-19.el7                           4.2.46-29.el7_4                         
bind-libs-lite.x86_64                   32:9.9.4-29.el7                         32:9.9.4-51.el7_4.2                     
bind-libs.x86_64                        32:9.9.4-29.el7                         32:9.9.4-51.el7_4.2                     
bind-license.noarch                     32:9.9.4-29.el7                         32:9.9.4-51.el7_4.2                     
bind-utils.x86_64                       32:9.9.4-29.el7                         32:9.9.4-51.el7_4.2                     
curl.x86_64                             7.29.0-25.el7.centos                    7.29.0-42.el7_4.1                       
dhclient.x86_64                         12:4.2.5-42.el7.centos                  12:4.2.5-58.el7.centos.1                
dhcp-common.x86_64                      12:4.2.5-42.el7.centos                  12:4.2.5-58.el7.centos.1                
dhcp-libs.x86_64                        12:4.2.5-42.el7.centos                  12:4.2.5-58.el7.centos.1                
dnsmasq.x86_64                          2.66-14.el7_1                           2.76-2.el7_4.2                          
dracut-config-rescue.x86_64             033-359.el7                             033-502.el7_4.1                         
dracut-network.x86_64                   033-359.el7                             033-502.el7_4.1                         
dracut.x86_64                           033-359.el7                             033-502.el7_4.1                         
efibootmgr.x86_64                       0.8.0-7.el7                             15-2.el7                                
efivar-libs.x86_64                      0.11-1.el7                              31-4.el7                                
emacs-filesystem.noarch                 1:24.3-18.el7                           1:24.3-20.el7_4                         
expat.x86_64                            2.1.0-8.el7                             2.1.0-10.el7_3                          
firewalld.noarch                        0.3.9-14.el7                            0.4.4.4-6.el7                           
glib2.i686                              2.42.2-5.el7                            2.50.3-3.el7                            
glib2.x86_64                            2.42.2-5.el7                            2.50.3-3.el7                            
glibc-common.x86_64                     2.17-105.el7                            2.17-196.el7_4.2                        
glibc-devel.x86_64                      2.17-105.el7                            2.17-196.el7_4.2                        
glibc-headers.x86_64                    2.17-105.el7                            2.17-196.el7_4.2                        
glibc.i686                              2.17-105.el7                            2.17-196.el7_4.2                        
glibc-static.i686                       2.17-105.el7                            2.17-196.el7_4.2                        
glibc.x86_64                            2.17-105.el7                            2.17-196.el7_4.2                        
gnutls.x86_64                           3.3.8-12.el7_1.1                        3.3.26-9.el7                            
grub2-tools.x86_64                      1:2.02-0.29.el7.centos                  1:2.02-0.65.el7.centos.2                
grub2.x86_64                            1:2.02-0.29.el7.centos                  1:2.02-0.65.el7.centos.2                
iwl1000-firmware.noarch                 1:39.31.5.1-43.el7                      1:39.31.5.1-58.el7_4                    
iwl100-firmware.noarch                  39.31.5.1-43.el7                        39.31.5.1-58.el7_4                      
iwl105-firmware.noarch                  18.168.6.1-43.el7                       18.168.6.1-58.el7_4                     
iwl135-firmware.noarch                  18.168.6.1-43.el7                       18.168.6.1-58.el7_4                     
iwl2000-firmware.noarch                 18.168.6.1-43.el7                       18.168.6.1-58.el7_4                     
iwl2030-firmware.noarch                 18.168.6.1-43.el7                       18.168.6.1-58.el7_4                     
iwl3160-firmware.noarch                 22.0.7.0-43.el7                         22.0.7.0-58.el7_4                       
iwl3945-firmware.noarch                 15.32.2.9-43.el7                        15.32.2.9-58.el7_4                      
iwl4965-firmware.noarch                 228.61.2.24-43.el7                      228.61.2.24-58.el7_4                    
iwl5000-firmware.noarch                 8.83.5.1_1-43.el7                       8.83.5.1_1-58.el7_4                     
iwl5150-firmware.noarch                 8.24.2.2-43.el7                         8.24.2.2-58.el7_4                       
iwl6000-firmware.noarch                 9.221.4.1-43.el7                        9.221.4.1-58.el7_4                      
iwl6000g2a-firmware.noarch              17.168.5.3-43.el7                       17.168.5.3-58.el7_4                     
iwl6000g2b-firmware.noarch              17.168.5.2-43.el7                       17.168.5.2-58.el7_4                     
iwl6050-firmware.noarch                 41.28.5.1-43.el7                        41.28.5.1-58.el7_4                      
iwl7260-firmware.noarch                 22.0.7.0-43.el7                         22.0.7.0-58.el7_4                       
iwl7265-firmware.noarch                 22.0.7.0-43.el7                         22.0.7.0-58.el7_4                       
jasper-libs.x86_64                      1.900.1-29.el7                          1.900.1-31.el7                          
kernel-headers.x86_64                   3.10.0-327.el7                          3.10.0-693.17.1.el7                     
kernel-tools-libs.x86_64                3.10.0-327.el7                          3.10.0-693.17.1.el7                     
kernel-tools.x86_64                     3.10.0-327.el7                          3.10.0-693.17.1.el7                     
kernel.x86_64                           3.10.0-327.el7                          3.10.0-693.17.1.el7                     
kexec-tools.x86_64                      2.0.7-38.el7                            2.0.14-17.2.el7                         
kmod.x86_64                             20-5.el7                                20-15.el7_4.7                           
krb5-libs.x86_64                        1.13.2-10.el7                           1.15.1-8.el7                            
libblkid.x86_64                         2.23.2-26.el7                           2.23.2-43.el7_4.2                       
libcurl.x86_64                          7.29.0-25.el7.centos                    7.29.0-42.el7_4.1                       
libdrm.x86_64                           2.4.60-3.el7                            2.4.74-1.el7                            
libffi.i686                             3.0.13-16.el7                           3.0.13-18.el7                           
libffi.x86_64                           3.0.13-16.el7                           3.0.13-18.el7                           
libgcc.i686                             4.8.5-4.el7                             4.8.5-16.el7_4.1                        
libgcc.x86_64                           4.8.5-4.el7                             4.8.5-16.el7_4.1                        
libgcrypt.x86_64                        1.5.3-12.el7_1.1                        1.5.3-14.el7                            
libgudev1.x86_64                        219-19.el7                              219-42.el7_4.7                          
libmount.x86_64                         2.23.2-26.el7                           2.23.2-43.el7_4.2                       
libndp.x86_64                           1.2-4.el7                               1.2-7.el7                               
libnl3-cli.x86_64                       3.2.21-10.el7                           3.2.28-4.el7                            
libnl3.x86_64                           3.2.21-10.el7                           3.2.28-4.el7                            
libpng.x86_64                           2:1.5.13-5.el7                          2:1.5.13-7.el7_2                        
libselinux.i686                         2.2.2-6.el7                             2.5-11.el7                              
libselinux-python.x86_64                2.2.2-6.el7                             2.5-11.el7                              
libselinux-utils.x86_64                 2.2.2-6.el7                             2.5-11.el7                              
libselinux.x86_64                       2.2.2-6.el7                             2.5-11.el7                              
libsemanage.x86_64                      2.1.10-18.el7                           2.5-8.el7                               
libsepol.x86_64                         2.1.9-3.el7                             2.5-6.el7                               
libsoup.x86_64                          2.48.1-3.el7                            2.56.0-4.el7_4                          
libssh2.x86_64                          1.4.3-10.el7                            1.4.3-10.el7_2.1                        
libsss_idmap.x86_64                     1.13.0-40.el7                           1.15.2-50.el7_4.8                       
libsss_nss_idmap.x86_64                 1.13.0-40.el7                           1.15.2-50.el7_4.8                       
libstdc++.i686                          4.8.5-4.el7                             4.8.5-16.el7_4.1                        
libstdc++.x86_64                        4.8.5-4.el7                             4.8.5-16.el7_4.1                        
libtasn1.x86_64                         3.8-2.el7                               4.10-1.el7                              
libtiff.x86_64                          4.0.3-14.el7                            4.0.3-27.el7_3                          
libuuid.x86_64                          2.23.2-26.el7                           2.23.2-43.el7_4.2                       
libX11-common.noarch                    1.6.3-2.el7                             1.6.5-1.el7                             
libX11.x86_64                           1.6.3-2.el7                             1.6.5-1.el7                             
libxcb.x86_64                           1.11-4.el7                              1.12-1.el7                              
libxml2-python.x86_64                   2.9.1-5.el7_1.2                         2.9.1-6.el7_2.3                         
libxml2.x86_64                          2.9.1-5.el7_1.2                         2.9.1-6.el7_2.3                         
linux-firmware.noarch                   20150904-43.git6ebf5d5.el7              20170606-58.gitc990aae.el7_4            
mariadb-libs.x86_64                     1:5.5.44-2.el7.centos                   1:5.5.56-2.el7                          
microcode_ctl.x86_64                    2:2.1-12.el7                            2:2.1-22.5.el7_4                        
nettle.x86_64                           2.7.1-4.el7                             2.7.1-8.el7                             
NetworkManager-libnm.x86_64             1:1.0.6-27.el7                          1:1.8.0-11.el7_4                        
NetworkManager-team.x86_64              1:1.0.6-27.el7                          1:1.8.0-11.el7_4                        
NetworkManager-tui.x86_64               1:1.0.6-27.el7                          1:1.8.0-11.el7_4                        
NetworkManager.x86_64                   1:1.0.6-27.el7                          1:1.8.0-11.el7_4                        
nspr.x86_64                             4.10.8-2.el7_1                          4.13.1-1.0.el7_3                        
nss-softokn-freebl.i686                 3.16.2.3-13.el7_1                       3.28.3-8.el7_4                          
nss-softokn-freebl.x86_64               3.16.2.3-13.el7_1                       3.28.3-8.el7_4                          
nss-softokn.x86_64                      3.16.2.3-13.el7_1                       3.28.3-8.el7_4                          
nss-sysinit.x86_64                      3.19.1-18.el7                           3.28.4-15.el7_4                         
nss-tools.x86_64                        3.19.1-18.el7                           3.28.4-15.el7_4                         
nss-util.x86_64                         3.19.1-4.el7_1                          3.28.4-3.el7                            
nss.x86_64                              3.19.1-18.el7                           3.28.4-15.el7_4                         
ntpdate.x86_64                          4.2.6p5-22.el7.centos                   4.2.6p5-25.el7.centos.2                 
ntp.x86_64                              4.2.6p5-22.el7.centos                   4.2.6p5-25.el7.centos.2                 
openldap.x86_64                         2.4.40-8.el7                            2.4.44-5.el7                            
openssh-clients.x86_64                  6.6.1p1-22.el7                          7.4p1-13.el7_4                          
openssh-server.x86_64                   6.6.1p1-22.el7                          7.4p1-13.el7_4                          
openssh.x86_64                          6.6.1p1-22.el7                          7.4p1-13.el7_4                          
openssl-libs.x86_64                     1:1.0.1e-42.el7.9                       1:1.0.2k-8.el7                          
openssl.x86_64                          1:1.0.1e-42.el7.9                       1:1.0.2k-8.el7                          
p11-kit-trust.x86_64                    0.20.7-3.el7                            0.23.5-3.el7                            
p11-kit.x86_64                          0.20.7-3.el7                            0.23.5-3.el7                            
pciutils-libs.x86_64                    3.2.1-4.el7                             3.5.1-2.el7                             
pciutils.x86_64                         3.2.1-4.el7                             3.5.1-2.el7                             
pcre.i686                               8.32-15.el7                             8.32-17.el7                             
pcre.x86_64                             8.32-15.el7                             8.32-17.el7                             
policycoreutils.x86_64                  2.2.5-20.el7                            2.5-17.1.el7                            
polkit.x86_64                           0.112-5.el7                             0.112-12.el7_3                          
python-libs.x86_64                      2.7.5-34.el7                            2.7.5-58.el7                            
python-perf.x86_64                      3.10.0-327.el7                          3.10.0-693.17.1.el7                     
python.x86_64                           2.7.5-34.el7                            2.7.5-58.el7                            
selinux-policy.noarch                   3.13.1-60.el7                           3.13.1-166.el7_4.7                      
selinux-policy-targeted.noarch          3.13.1-60.el7                           3.13.1-166.el7_4.7                      
sos.noarch                              3.2-35.el7.centos                       3.4-13.el7.centos                       
sssd-client.x86_64                      1.13.0-40.el7                           1.15.2-50.el7_4.8                       
sudo.x86_64                             1.8.6p7-16.el7                          1.8.19p2-11.el7_4                       
systemd-libs.x86_64                     219-19.el7                              219-42.el7_4.7                          
systemd-python.x86_64                   219-19.el7                              219-42.el7_4.7                          
systemd-sysv.x86_64                     219-19.el7                              219-42.el7_4.7                          
systemd.x86_64                          219-19.el7                              219-42.el7_4.7                          
tcpdump.x86_64                          14:4.5.1-3.el7                          14:4.9.0-5.el7                          
util-linux.x86_64                       2.23.2-26.el7                           2.23.2-43.el7_4.2                       
vim-common.x86_64                       2:7.4.160-1.el7                         2:7.4.160-2.el7                         
vim-enhanced.x86_64                     2:7.4.160-1.el7                         2:7.4.160-2.el7                         
vim-filesystem.x86_64                   2:7.4.160-1.el7                         2:7.4.160-2.el7                         
vim-minimal.x86_64                      2:7.4.160-1.el7                         2:7.4.160-2.el7                         
wget.x86_64                             1.14-10.el7_0.1                         1.14-15.el7_4.1                         
wpa_supplicant.x86_64                   1:2.0-17.el7_1                          1:2.6-5.el7_4.1                         
xfsprogs.x86_64                         3.2.2-2.el7                             4.5.0-12.el7                            
zlib.i686                               1.2.7-15.el7                            1.2.7-17.el7                            
zlib.x86_64                             1.2.7-15.el7                            1.2.7-17.el7                                  
```

### 新增软件
```
软件名                                  版本号
firewalld-filesystem.noarch             0.4.4.4-6.el7                           
fontconfig.x86_64                       2.10.95-11.el7                          
fontpackages-filesystem.noarch          1.44-8.el7                              
gd.x86_64                               2.0.35-26.el7                           
GeoIP.x86_64                            1.5.0-11.el7                            
glibc-static.x86_64                     2.17-196.el7_4.2                        
glibc-utils.x86_64                      2.17-196.el7_4.2                        
grub2-common.noarch                     1:2.02-0.65.el7.centos.2                
grub2-efi-x64-modules.noarch            1:2.02-0.65.el7.centos.2                
grub2-efi-x64.x86_64                    1:2.02-0.65.el7.centos.2                
grub2-pc-modules.noarch                 1:2.02-0.65.el7.centos.2                
grub2-pc.x86_64                         1:2.02-0.65.el7.centos.2                
grub2-tools-extra.x86_64                1:2.02-0.65.el7.centos.2                
grub2-tools-minimal.x86_64              1:2.02-0.65.el7.centos.2                
ipset-libs.x86_64                       6.29-1.el7                              
ipset.x86_64                            6.29-1.el7                              
libblkid.i686                           2.23.2-43.el7_4.2                       
libmount.i686                           2.23.2-43.el7_4.2                       
libsepol.i686                           2.5-6.el7                               
libuuid.i686                            2.23.2-43.el7_4.2                       
libXpm.x86_64                           3.5.12-1.el7                            
NetworkManager-ppp.x86_64               1:1.8.0-11.el7_4                        
nscd.x86_64                             2.17-196.el7_4.2                        
nss-pem.x86_64                          1.0.3-4.el7                             
python-firewall.noarch                  0.4.4.4-6.el7                           
stix-fonts.noarch                       1.1.0-5.el7                             
```

### 删除软件
```
软件名                                  版本号
grub2-efi-modules.x86_64                1:2.02-0.29.el7.centos                  
grub2-efi.x86_64                        1:2.02-0.29.el7.centos                  
xz-libs.i686                            5.1.2-12alpha.el7    
```

### 配置修改
```
1、调长 rcu_cpu_stall_timeout，由60改为300。
2、去掉 ssh 的弱 MAC 和弱 Ciphers，保留：
	ciphers aes128-ctr,aes192-ctr,aes256-ctr
	Macs hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-sha2-256,hmac-sha2-512
3、不自动加载 nouveau 驱动。在使用 GPU 时，防止对 CUDA 驱动造成干扰。
4、添加 irqaffinity。优化中断处理。
```
