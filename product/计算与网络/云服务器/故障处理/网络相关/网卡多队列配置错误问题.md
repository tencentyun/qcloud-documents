## 现象描述
云服务器网卡多队列配置错误。

## 可能原因
云服务器默认配置网卡多队列，该方式把网卡中断分布至不同的 CPU，可提升网络处理性能。可能存在人为修改的情况，导致网卡多队列配置错误。

## 解决思路
参考 [处理步骤](#ProcessingSteps)，修正网卡队列个数。


## 处理步骤[](id:ProcessingSteps)
以下步骤云服务器默认主网卡为 `eth0`，网卡队列个数为2。
1. 执行以下命令，查看当前网卡队列个数。
```
ethtool -l eth0
```
返回如下结果，表示当前队列个数设置小于最大网卡队列个数，设置不合理，需进行修复。
```
Channel parameters for eth0:
Pre-set maximums:
RX:             0
TX:             0
Other:          0
Combined:       2         ### 服务器支持的最大网卡队列个数
Current hardware settings:
RX:             0
TX:             0
Other:          0
Combined:       1        ###当前设置的网卡队列个数
```
2. 执行以下命令，设置当前网卡队列个数。
```
ethtool -L eth0  combined 2
```
命令中队列数设置为2，可根据实际情况调整，设置值为服务器支持的最大网卡队列个数。
2. 执行以下命令，检查当前网卡队列个数配置。
```
ethtool -l eth
```
服务器支持的最大网卡队列个数与当前设置的网卡队列个数相等，即为配置成功。

