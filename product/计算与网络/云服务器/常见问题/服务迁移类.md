## 离线迁移

### 上传 COS 和迁移为什么耗时太久？

上传的耗时与镜像文件的大小、带宽的大小等因素有关。建议使用压缩的镜像格式（qcow2 或 vhd），可以节省传输和迁移的时间。

### 为什么迁移任务失败了？

 - 目前腾讯云的服务迁移支持的镜像格式有：qcow2，vpc，vmdk，raw，请确认您的镜像格式满足上述之一。
 - 请确认您的镜像文件已经完整上传到 COS 中，并保证文件没有损坏。
 - 迁移需要保证目的云服务器/云硬盘处于正常使用期，处于到期状态的设备将无法完成迁移。
 
### 如何排查迁移任务提示的错误原因？
 
 - 如果提示“镜像文件校验失败”，通常为当前迁移任务的目标系统盘或数据盘没有源盘的存储空间大，目标系统盘或数据盘存储空间没有镜像文件大等原因，请重新调整目标系统盘或数据盘的大小后，再重试。
 - 如果提示“获取镜像文件元数据失败”，通常为镜像文件受损或者镜像文件格式不支持等原因，请检查制作/导出镜像、上传镜像等阶段是否出错，或者提供 qcow2，vpc，vmdk，raw 格式的镜像文件，再重试。
 - 如果提示“任务超时”，“系统错误”，“其他原因”等，或者重试迁移任务却依然失败，可 [联系我们](https://cloud.tencent.com/document/product/213/39047) 解决。
 

## 在线迁移

### 支持哪些操作系统和磁盘类型？

- Linux 的主流操作系统（如Centos/Ubuntu等）均可。
- 与磁盘类型和用量无关。

### 在线迁移和导入镜像的区别是什么？

在线迁移类似导入镜像，可以实现将源端的系统迁入腾讯云。其中，最主要的区别在于在线迁移无需手动制作镜像、导出/导入镜像才能上云，而是只需在源端机器上直接传输系统和数据即可上云。

### 在线迁移会迁移源端公网 IP 吗？

不会。在线迁移只会同步源端系统和数据，公网 IP 无法迁移。

### 工具在哪里下载？

[点此下载](https://go2tencentcloud-1251783334.cos.ap-guangzhou.myqcloud.com/latest/go2tencentcloud.zip) 迁移工具压缩包，并参考 [在线迁移工具使用指引](https://cloud.tencent.com/document/product/213/38783) 进行操作。

### 如何使用工具？

迁移工具需要拷贝到源服务器，针对机器的情况对配置文件作出修改后即可运行迁移工具。对于批量迁移，您可以通过写脚本进行批量处理。

### 迁移工具是否支持断点续传？

支持，在数据传输阶段中断后，可以再次运行工具便可恢复传输。

### 迁移完成后工具还需保留吗？

不需要。迁移完成之后，您可以在源服务器中直接删除。

### 迁移报错或失败怎么办？

迁移报错或失败的原因很多，通常有几种：
1. 目标云服务器安全组没有开放80、443端口。
2. 源端迁移时有数据盘，但是没有配置 user.json 里的 DataDisks 字段迁移源端数据盘，所有数据发往目标云服务器系统盘，导致磁盘容量不足。
3. 在内网迁移场景1下，没有执行第三阶段的迁移，使目标云服务器退出迁移模式。

如果您的问题仍未解决或者不属于以上几种，可以保留当时的迁移日志文件（默认是迁移工具目录下的 log 文件），并 [联系我们](https://cloud.tencent.com/document/product/213/39047) 解决。

### 迁移速度和费用是多少？

- 速度：主要依赖于目的子机带宽，测试时我们1核1G内存，按量计费带宽为12MB的子机，实际迁移速率大概是9MB。
- 费用：迁移工具的使用是免费的。迁移过程中会因为带宽等资源产生少量计费，产生的费用可根据流量和时长计费规则进行查看，具体请看官网价格。
  
### 是否支持多台子机同时迁移？

支持。多台服务器的迁移可以并行进行，因为迁移到各自不同的目的端子机，相互并无关系。
