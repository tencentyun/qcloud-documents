本文介绍您在自定义配置实例时如何首次配置安全组。更多关于安全组相关操作，可以通过云服务器控制台的**安全组**页面完成。关于在安全组页面新建、配置实例的安全组或者修改安全组的规则的操作可以参考[安全组操作](https://cloud.tencent.com/document/product/213/18197)。


## 设置安全组
1. 您可以在设置安全组时选择**新建安全组**或者使用**已有安全组**（当您没有可以使用的安全组，**已有安全组**按钮为灰色）
![](https://main.qcloudimg.com/raw/7a66b763d9d2dde97ba68ef65eb26747.png)

  新建安全组提供两个规则分别为：

  - **放通22，80，443，3389端口和ICMP协议**：放行SSH 22 端口、RDP 3389 端口，HTTP 80 和HTTPS 443 端口及ICMP 协议，内网全放通，禁止其他所有端 口外部访问。
  - **放通全部端口**：放通所有端口。内网外网均可访问。**有较高的安全性风险请谨慎选择**。
2. 如果您选择**放通22，80，443，3389端口和ICMP协议**，在下方**安全组规则**会显示详细的安全组入站/出站规则。
  ![](https://main.qcloudimg.com/raw/b9732d0bc33c9a41384233c88a15786d.png)
3. 如果配置的安全组入站/出站需求满足您的要求，点击**下一步，确认配置信息**。

  如果以上两种安全组设置规则无法满足您的需要，您也可以[新建安全组](https://cloud.tencent.com/document/product/213/18197)。出于安全考虑，腾讯云建议您尽量只放开业务需要的端口，避免不必要的安全风险，可以参考[服务器常用端口](https://cloud.tencent.com/document/product/213/12451)进行配置。


## 安全组规则

**入站规则**：表示允许到达与安全组相关联的云服务器的入站流量。

**出站规则**：表示离开云服务器的出站流量。

- 当一个云服务器绑定无规则的安全组时则拒绝所有的入站、出站流量。
- 当一个云服务器绑定多个安全组时，安全组优先级**数字越小，优先级越高**。
- 安全组内规则的优先级**位置越上，优先级越高**。



## 安全组限制

- 安全组区分地域和项目，一台云服务器只能与**相同地域、相同项目中**的安全组进行绑定。

- 安全组适用于任何处在 [网络环境](https://cloud.tencent.com/doc/product/213/5227) 下的CVM实例。
- 每个用户在每个地域的每个项目下**最多可设置 50 个安全组**。
- 一个安全组入站方向或出站方向的访问策略，**各最多可设定 100 条**。
- 一个云服务器可以加入多个安全组，一个安全组也可同时关联多个与服务器，**数量无限制**。
- **基础网络** 内云服务器绑定的安全组 **无法过滤** 来自（或去往）腾讯云上的 CDB 、弹性缓存（ Redis 和 Memcached ）的数据包。如果您需要过滤这类实例的流量，您可以使用 iptables 实现。

如果您有大量实例需要互访，可以将他们分配到多个安全组内，并通过安全组 ID 的规则配置进行互相授权，允许互访。
