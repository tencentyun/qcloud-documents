您可以在首次配置云服务器时配置安全组，也可以通过控制台的安全组页面对安全组进行创建、查看、更新和删除等操作，并同时管理安全组及安全组规则。

本文介绍在控制台如何进行安全组操作的方法，操作之前请您登录[腾讯云云服务器控制台](https://console.cloud.tencent.com/cvm/index)。



## 创建安全组

1. 在云服务器控制台点击左侧**安全组**>**新建**。

   ![](https://main.qcloudimg.com/raw/86e435b737b3d5761877e923591fe6ca.png)

2. 在弹出的**新建安全组**页面，你可以选择腾讯云提供的两组模版来新建安全组，或者选择自定义安全组规则。
   ![](https://main.qcloudimg.com/raw/8769a820be11efbdeb34defed99e34f2.png)

3. 如果您选择**自定义**规则新建安全组，则需创建完安全组后**立即设置规则**。在**【安全组规则】**列表选择**【添加规则】**来添加安全组入站/出站规则：

   ![](https://main.qcloudimg.com/raw/d09425f9341bd2dffa4d6485a3007ba5.png)

   - **类型**：您可以选择系统规则模板，或者自定义规则。
   - **来源或目标**：流量的源（入站规则） 或目标（出站规则），请指定以下选项之一：
   - 指定的单个 IP 地址或IP地址范围：用CIDR表示法（比如203.0.113.0或者203.0.113.0/24）
     - 引用安全组 ID ，您可以引用以下安全组的ID之一：
       - 当前安全组。（表示与安全组关联的云服务器）
       - 其他安全组。同一区域中同一项目下的另一个安全组 ID 。
   - 引用 [参数模板](https://cloud.tencent.com/document/product/215/9882) 中的 IP 地址对象或 IP 地址组对象。 
   - **协议端口**：填写协议类型和端口范围，您也可以引用 [参数模板](https://cloud.tencent.com/document/product/215/9882) 中的协议端口或协议端口组。
   - **策略**：允许或拒绝。

   >!
   - 引用安全组 ID 法作为高阶功能，您可选择使用。所引用安全组的规则不会被添加到当前安全组。
   - 在配置安全组规则时，如果在来源/目标中输入安全组 ID ，表示仅将此安全组 ID 所绑定的云服务器实例、弹性网卡的内网 IP 地址作为来源/目标，不包括外网 IP 地址。

## 修改安全组规则

1. 您可以对已经设置的安全组规则进行修改。在安全组页签，选择您需要修改规则的安全组ID/名称，单击右侧**修改规则**，可以对安全组入站/出站规则进行修改。

   ![](https://main.qcloudimg.com/raw/6a4bfb44ad6c3aa41f09a54dd8d6ad91.png)

2. 在**【安全组规则】**页面，可以对已有规则进行**编辑**、**删除**或者通过**插入**调整规则的优先级。安全组内规则的优先级**位置越上，优先级越高**。

   ![](https://main.qcloudimg.com/raw/b1cb731528618f660cd9beecc04ffc6c.png)

<br>

## 关联实例到安全组

1. 在安全组页面，选择需要关联的安全组，单击**管理实例**，进入关联实例页面。

   ![](https://main.qcloudimg.com/raw/654fa0e90f6988f425cf2df8c9d3d593.png)

2. 在**关联实例**页面中点击**新增关联**。
   ![](https://main.qcloudimg.com/raw/80fcded037f3389cae44b1098af16ae1.png)

3. 选择您所需要关联到此安全组的一个或者多个实例，单击**确定**，增加与此安全组相关的实例。
   ![](https://main.qcloudimg.com/raw/d3c21b25e149a11b098f2f784ce8dc8f.png)

<br>

## 克隆或删除安全组

1. 在安全组页面，选择需要克隆或者删除的安全组，单击更多，选择克隆或删除安全组。
   ![](https://main.qcloudimg.com/raw/5c30822de5b8846b9734203ab24bd017.png)
   - 如果选择**克隆**安全组，默认只克隆此安全组的入站/出站规则，不克隆与此安全组相关联的实例。
   - 如果选择**删除**安全组，若待删除的安全组存在关联的实例，需要先将关联实例**移除安全组**（点击【管理实例】）。否则删除安全组操作不可执行。
     ![](https://main.qcloudimg.com/raw/ef7238dbff70a12d236b1741639c4033.png)

<br>

## 导入/导出安全组规则

1. 在安全组页面，选择需要导入/导出安全组规则的安全组 ID/名称，点击**【修改规则】**，进入该安全组管理页面。
	![](https://main.qcloudimg.com/raw/5a8ab52fe35b33498a2d8a579c414a08.png)
	>! 
	- 如果您原来已有规则，则建议您先导出现有规则，否则导入新规则时，将覆盖原有规则。
	- 如果原来为空规则，则可先导出模板，编辑好模板文件后，再将文件导入。

2. 选择【安全组规则】 > 【入站规则】或者**【出站规则】**页签，单击**导入规则**。

	![](https://main.qcloudimg.com/raw/e91c24fbbc5c529cf58f0db04fc24bdb.png)

2. 在弹出的**批量导入-入站/出站规则**窗口中，选择模板文件，单击**开始导入**。

<br>

## 典型场景下安全组规则


为了您实例的安全性并能满足典型使用场景要求，需要您执行以下操作：

- 设置合理的端口放通策略。
- 登录 [安全组规则配置界面](https://console.cloud.tencent.com/cvm/securitygroup/detail)，并按以下模版配置入站规则。

>! 
- 以下仅为典型场景安全组**入站规则**的配置，如果您的实例需要对外访问（例如软件升级等），您可以放通出站规则下所有端口。

典型场景的安全组配置规则包含：

| 使用场景 | 类型 | 来源 |协议端口 |策略 |
|---------|---------|---------|---------|---------|
| SSH 远程登录 Linux 实例 | Linux 登录 | 0.0.0.0/0 |TCP:22 | 允许 |
| RDP 远程登录 Windows 实例| Linux 登录 | 0.0.0.0/0 |TCP:3389 | 允许 |
| 公网 ping CVM云服务器实例| Ping | 0.0.0.0/0 |ICMP | 允许 |
| CVM云服务器实例作 Web 服务器 | HTTP（80）| 0.0.0.0/0 |TCP:80 | 允许 |
| CVM云服务器实例作 Web 服务器  | HTTPS（443）| 0.0.0.0/0 |TCP:443 | 允许 |
| FTP 上传或下载文件 | 自定义 | 0.0.0.0/0 |TCP:20,21 | 允许 |
| FTP 上传或下载文件（被动模式） | 自定义 | 0.0.0.0/0 |TCP:21<br>TCP:1024-65535 | 允许 |
| Webshell 登录云服务器 | 自定义 | 0.0.0.0/0 |115.159.198.247<br>115.159.211.178<br>116.119.28.7.195<br>117.119.28.22.215<br>118.119.29.96.147<br>119.211.159.185.38 | 允许 |

上表仅包含部分常用端口，其余常用端口详情参见[服务器常用端口](https://cloud.tencent.com/document/product/213/12451)。
