## 告警说明
您可以为您关注的实例指标创建告警，使负载均衡实例在运行状态达到某一条件时，及时发送告警信息至关心的用户群体。这样能确保您及时发现异常状况从而采取相应措施，保持系统的稳定性和可靠性。更多内容请参考 [告警概述](https://cloud.tencent.com/document/product/248/6126)。
负载均衡的告警策略包括如下类型：
- 外网监听器
- 内网监听器
- 服务器端口（其他）
  - 监听器维度
  - 服务器端口维度
- 服务器端口（传统型内网）
- 七层协议监控

## 外网监听器/内网监听器
目前公网负载均衡和内网负载均衡均支持监听器维度的告警，具体指标如下：

|指标 | 单位 | 说明|
|----|------|----|
|入带宽 | Mbps  | 在统计周期内，客户端通过外网访问负载均衡所用的带宽。|
|出带宽 | Mbps  | 在统计周期内，负载均衡访问外网所用的带宽。|
|入包数 | 个/s  | 在统计周期，内负载均衡每秒接到的请求数据包数量。|
|出包数 | 个/s  | 在统计周期内，负载均衡每秒发出的数据包数量。|

## 服务器端口（其他）
除了传统型内网 CLB 以外的所有负载均衡均支持如下两个维度的告警：
1. 监听器维度
可配置某监听器的后端服务器异常端口数，统计该监听器下所有绑定的服务器端口的异常情况，根据配置的阈值来告警。如下图配置表示：每1分钟收集一次所选监听器下所有后端服务器的异常端口数，若异常端口数连续两次大于10个/秒，则触发告警，且每天警告一次。
>?监听器维度的告警，请提交 [工单申请](https://console.cloud.tencent.com/workorder/category)。

 - 告警对象配置：
![](https://main.qcloudimg.com/raw/db70be13175e0ff064859ed50f7c5e89.png)
 - 触发条件配置：
![](https://main.qcloudimg.com/raw/7822fd094d5e3760996078790252308a.png)
2. 服务器端口维度
可配置某个监听器绑定的某后端云服务器的某端口的异常告警，只要该端口异常就发送告警。
 - 告警对象配置：
![](https://main.qcloudimg.com/raw/ba0536fd4d32bd340e84880b332f81ac.png)
 - 触发条件配置：
![](https://main.qcloudimg.com/raw/ce24f9916e6047a0c6524fd5445e7ef8.png)
>!
>- 后端服务器端口异常表示：负载均衡探测到后端服务器的该端口不可用，少数网络抖动的情况也会触发端口异常。
>- 监听器维度的统计包含该监听器下所有后端服务的端口状态，从单一告警收敛到阈值告警，为降低网络抖动的影响，建议您使用监听器维度的告警。
>

## 服务器端口（传统型内网）
传统型内网 CLB 可配置服务器端口异常告警，具体配置同“服务器端口（其他）-服务器端口维度”的配置。
可配置某个监听器绑定的某后端云服务器的某端口的异常告警，只要该端口异常就发送告警。

## 七层协议监控
对所有的七层监听器（HTTP/HTTPS）监听器，您可以配置七层独有的监控指标的告警策略。具体指标如下：

|指标 | 单位 | 说明|
|----|------|----|
|入带宽 | Mbps  | 在统计周期内，客户端通过外网访问负载均衡所用的带宽。|
|出带宽 | Mbps  | 在统计周期内，负载均衡访问外网所用的带宽。|
|入包数 | 个/s  | 在统计周期内，负载均衡每秒接到的请求数据包数量。|
|出包数 | 个/s  | 在统计周期内，负载均衡每秒发出的数据包数量。|
|新建连接数 | 个  | 在统计周期每分钟新建连接的个数。 |
|活跃连接数 | 个  | 在统计周期每分钟活跃连接的个数。|
|平均响应时间 | ms  | 在统计周期内 CLB 的平均响应时间。|
|最大响应时间 | ms  | 在统计周期内 CLB 的最大响应时间。|
|2xx 状态码 | 个  | 在统计周期，后端服务器返回 2xx 状态码的个数。 |
|3xx 状态码 | 个  | 在统计周期，后端服务器返回 3xx 状态码的个数。|
|4xx 状态码 | 个  | 在统计周期，后端服务器返回 4xx 状态码的个数。|
|5xx 状态码 | 个  | 在统计周期，后端服务器返回 5xx 状态码的个数。|
|404 状态码 | 个  | 在统计周期，后端服务器返回 404 状态码的个数。|
|502 状态码 | 个  | 在统计周期，后端服务器返回 502 状态码的个数。|
|CLB 返回的 3xx 状态码 | 个  | 在统计周期，负载均衡 CLB 返回 3xx 状态码的个数。 |
|CLB 返回的 4xx 状态码 | 个  | 在统计周期，负载均衡 CLB 返回 4xx 状态码的个数。|
|CLB 返回的 5xx 状态码 | 个  | 在统计周期，负载均衡 CLB 返回 5xx 状态码的个数。|
|CLB 返回的 404 状态码 | 个  | 在统计周期，负载均衡 CLB 返回 404 状态码的个数。|
|CLB 返回的 502 状态码 | 个  | 在统计周期，负载均衡 CLB 返回 502 状态码的个数。|
