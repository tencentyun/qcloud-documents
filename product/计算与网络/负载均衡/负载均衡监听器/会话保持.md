会话保持可使得来自同一 IP（网段）的请求被转发到同一台后端服务器上。默认情况下，负载均衡会将每个请求分别路由到不同后端服务器实例负载。但是，您可以使用会话保持功能使特定用户的请求被路由到同一台后端服务器实例上，这样可以使某些需要保持会话的应用程序（如购物车）合理地工作。



## 四层会话保持
四层转发情境支持简单会话保持能力，会话保持时间可设为 `0-3600` 秒中的任意整数值，超过该时间阀值，会话中无新请求则断开连接。

## 七层会话保持
七层转发情境支持基于 cookie 插入的会话保持能力（由负载均衡器向客户端植入 cookie）

会话保持时间暂时不支持可调整，默认为 `75` 秒。超过该时间阀值，会话中无新请求则断开连接。关于插入 cookie 会话保持的更多信息可以参考[这里](https://www.qcloud.com/doc/product/214/%E4%BC%9A%E8%AF%9D%E4%BF%9D%E6%8C%81%E5%8E%9F%E7%90%86)。

## 配置会话保持
1) 打开[负载均衡控制台](https://console.qcloud.com/loadbalance)，点击需要配置会话保持的负载均衡实例 ID，进入负载均衡详情页。

2) 点击需要配置会话保持的负载均衡监听器后的【修改】按钮。

3) 选择是否需要开启会话保持功能，点击按钮开启，输入保持时间，点击【确定】按钮。

