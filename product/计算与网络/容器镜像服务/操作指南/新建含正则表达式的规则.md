### 操作场景

在使用 触发器 功能或者 实例同步 功能前，需要新建规则，而当需要对规则作用到的资源进行筛选时，将使用到正则表达式。正则表达式能高效、灵活地适用于各种资源筛选场景，本文档将介绍正则匹配时遵循的规则以及典型的用户场景。

### 前提条件

在使用正则表达式新建规则前，您需要完成以下准备工作：

- 已成功 [购买企业版实例](https://cloud.tencent.com/document/product/1141/51110)。
- 如果使用子账号进行操作，请参考 [企业版授权方案示例](https://cloud.tencent.com/document/product/1141/41417) 提前为子账号授予对应实例的操作权限。

### 正则匹配规则

以下是填写“仓库名称”和“版本Tag”时，其正则表达式支持的匹配规则：

- *****：匹配所有不包含路径分隔符（`/`）的任意长字符串
- ***\***：匹配所有的任意长字符串，包括路径分隔符（`/`）。

注意：

“**”必须作为一段完整的相对路径，如果使用 `/path**`，其作用将等同于 `/path*`，仅能匹配以path为名称前缀的一级仓库。要想匹配path下的所有仓库，应使用 `/path/**`；要想匹配以path为名称前缀的所有仓库，则应使用 `/path*/**`。

- **?**：匹配除‘/’以外的任意单个字符
- **{alt1, alt2, …}**：同时匹配多个正则表达式

### 典型场景

- 匹配选定命名空间内所有仓库：`**` 或者不填
- 匹配选定命名空间内以 path 为名称前缀的所有一级仓库：`/path*`
- 匹配选定命名空间内以 path1 和 path2 为名称前缀的所有一级仓库：`/{path1, path2}*`
- 匹配选定命名空间内 path1 和 path2 目录下的所有仓库：`/{path1, path2}/**`
- 匹配选定命名空间内以 path1 和 path2 为名称前缀的所有仓库：`/{path1, path2}*/**`
- 匹配选定仓库内所有 1.x 的版本Tag：`1.?`
- 匹配选定仓库内所有以 env1 和 env2 为名称前缀的版本Tag：`{env1*, env2*}`