## 简介

弹性伸缩 AS 支持根据监控的指标动态扩展伸缩组中的实例数量，您需定义告警触发策略，即触发扩展的监控指标状态以及如何按照需求变化进行扩展。

创建告警策略需指定条件和动作，如下图所示：
![](https://main.qcloudimg.com/raw/8aa5e01a413a91db273bfba5ebd00784.png)
- 条件格式为：某个指标 + 阈值 + 周期 + 连续达到阈值的周期数。即指标在连续 N 个周期都达到了阈值。
- 执行动作为：发送通知 + 增加/减少 指定数量的云服务器。

建议您为每个伸缩组各创建两个策略：一个策略用于扩展，另一个策略用于收缩。当业务量达到了告警策略指定的条件后， AS 将执行关联的策略对伸缩组进行收缩（通过终止实例）或扩展（通过启动实例）。



## 场景示例

例如，您有一个电商网站应用程序，当前使用了5个实例。您做了一个运营活动，担心访问量远大于您的预估，您可以设置当前实例上的负载上升到70%时额外启动2个新的实例，然后在负载下降到40%时终止多余的实例。您可以配置伸缩组，根据这些条件自动扩展。如下图所示：
![](https://main.qcloudimg.com/raw/258f0452701b9160a9bbf78dc623d35c.jpg)

## 操作步骤
1. 登录弹性伸缩控制台，选择左侧导航栏中的 **[伸缩组](https://console.cloud.tencent.com/autoscaling/group)**。
2. 选择需修改的伸缩组，单击伸缩组 ID 进入伸缩组基本信息页面。如下图所示：
![](https://main.qcloudimg.com/raw/ec5d8684e336c60198a2f7f8fb51d642.png)
3. 在该伸缩组详情页面，选择**告警触发策略**页签，在该页面管理与伸缩组相关联的告警触发策略。如下图所示：
![](https://main.qcloudimg.com/raw/4d379be1c412b08cd9ba17681250d64c.png)
	- 单击**新建**可添加新的告警触发策略。
	- 单击**删除**删除该条告警触发策略。



## 指定某台服务器不受告警伸缩策略影响
使用 auto scaling 前，也许您的系统已经有常用的服务器，您出于以下考虑，不希望机器被告警伸缩策略移出：

- **一机多用**：集群中某台服务器除了做集群所做的事情外，还兼做其他用途。例如网站建设初期，您的某台服务器既作为缓存服务器使用，又作为文件服务器。在缓存服务器集群放入伸缩组时，您不希望它被告警伸缩策略移出。

- **存放数据**：该服务器是有状态的或自带其他服务器没有的数据。例如集群中其他服务器运行中产生的增量数据，都统一保存到该服务器里。

- **更新镜像/快照**：固定使用该服务器定期做镜像和快照


**设置方法：**
1. 您可以在[伸缩组列表](https://console.cloud.tencent.com/autoscaling)里单击服务器所在的伸缩组，进入管理页面。
2. 选择管理页面中的**关联实例**页签，对所要设置的实例单击“设置移出保护”。
