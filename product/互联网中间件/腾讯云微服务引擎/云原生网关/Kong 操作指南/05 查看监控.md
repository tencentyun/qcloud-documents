## 操作场景

云原生 API 网关 Kong 对运行的网关实例提供了多项监控指标，用以监测实例运行情况，例如：4xx请求数、5xx请求数等业务指标，CPU 利用率、内存使用率等系统指标。

您可以根据这些指标实时了解网关实例的运行状况，针对可能存在的风险及时处理，保障系统的稳定运行。本文为您介绍通过 TSE 控制台查看网关实例监控的操作。



## 支持监控指标及含义

### 业务指标

<table>
<thead>
<tr>
<th style = "width:160px">指标名</th>
<th>指标含义</th>
</tr>
</thead>
<tbody><tr>
<td>4xx请求数(Count)</td>
<td>客户端发送到云原生 API 网关的是请求非法请求，如鉴权不通过或者超过限流值的错误个数，按照所选择的时间粒度统计求和。</td>
</tr>
<tr>
<td>5xx请求数(Count)</td>
<td>云原生 API 网关将消息转发到后端服务，后端服务返回大于等于400错误状态码的个数，按照所选择的时间粒度统计求和。</td>
</tr>
<tr>
<td>成功请求数(Count)</td>
<td>云原生 API 网关返回为1xx,2xx,3xx的请求数量，按照所选择的时间粒度统计求和。</td>
</tr>
<tr>
<td>请求平均时延(ms)</td>
<td>请求平均时延，按照所选择的时间粒度统计求平均值。</td>
</tr>
<tr>
<td>请求最大时延(ms)</td>
<td>请求最大时延, 按照所选择的时间粒度统计求最大值。</td>
</tr>
<tr>
<td>总请求数(Count)</td>
<td>总请求数。按照所选择的时间粒度统计求和。</td>
</tr>
<tr>
<td>404请求数(Count)</td>
<td>请求后端服务失败，请求所希望的资源未被在后端服务器上发现，此类错误的个数的统计，按照所选择的时间粒度统计求和。</td>
</tr>
<tr>
<td>429请求数(Count)</td>
<td>请求后端服务失败，请求被限流，此类错误的个数的统计，按照所选择的时间粒度统计求和。</td>
</tr>
<tr>
<td>502请求数(Count)</td>
<td>API 网关尝试执行后端请求时，从后端服务器接收到无效的响应（通常连接服务失败），此类错误的个数的统计，按照所选择的时间粒度统计求和。</td>
</tr>
<tr>
<td>504请求数(Count)</td>
<td>API 网关尝试执行后端请求时，后端机器不可达，此类错误的个数的统计，按照所选择的时间粒度统计求和。</td>
</tr>
<tr>
<td>TCP连接数(Count)</td>
<td>云原生 API 网关集群的 TCP 连接数, 按照所选择的时间粒度统计求平均值。</td>
</tr>
</tbody></table>

### 系统指标

<table>
<thead>
<tr>
<th style = "width:160px">指标名</th>
<th>指标含义</th>
</tr>
</thead>
<tbody><tr>
<td>CPU 利用率（%）</td>
<td>云原生 API 网关集群的 CPU 使用率，按照所选择的时间粒度统计求平均值</td>
</tr>
<tr>
<td>内存使用率（%）</td>
<td>云原生 API 网关集群的内存使用率，按照所选择的时间粒度统计求平均值</td>
</tr>
<tr>
<td>入带宽流量（Mbps）</td>
<td>云原生 API 网关集群的入口带宽流量，按照所选择的时间粒度统计求平均值</td>
</tr>
<tr>
<td>带宽流量（Mbps）</td>
<td>云原生 API 网关集群的出口带宽流量，按照所选择的时间粒度统计求平均值</td>
</tr>
<tr>
<td>TCP 连接数（个）</td>
<td>云原生 API 网关集群的 TCP 连接数，按照所选择的时间粒度统计求平均值</td>
</tr>
</tbody></table>




## 查看监控入口

1. 登录 [TSE 控制台](https://console.cloud.tencent.com/tse)。
2. 在左侧导航栏，单击 **kong**，进入网关实例列表页面。
3. 单击目标实例的“ID/名称”，进入实例详情页面。
4. 单击**监控**页签，设置好时间范围（支持实时、近24小时、近7天和自定义时间范围），即可查看以下监控指标信息。

![](https://qcloudimg.tencent-cloud.cn/raw/4689783dec2fd17b8dd7ffc7c2dc96f5.png)
