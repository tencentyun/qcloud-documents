## 操作场景

本文档主要介绍在部署应用后，如何使用新的程序版本更新应用或者回退到历史版本。



## 前提条件

已完成 [创建并部署应用](https://cloud.tencent.com/document/product/1371/53294)。


## 操作步骤

### 应用版本更新
您可点击以下不同页签，查看不同部署方式的版本升级指引。
<dx-tabs>
::: 镜像
1. 推送新版本应用镜像到镜像仓库，以镜像版本号作为区分。
2. 登录 [弹性微服务控制台](https://console.cloud.tencent.com/tem)，在左侧导航栏单击**应用管理**，进入应用列表页。
3. 选择目标应用，单击应用 ID，进入应用详情页。
4. 在应用详情页单击**部署**，进入应用部署页。
5. 在**镜像版本**选择需要的镜像版本，根据需要选择或填写其他配置。
![](https://qcloudimg.tencent-cloud.cn/raw/194036b133d3fe4d5c2749f2eea93c06.jpg)
6. 点击**部署**，等待发布结束后，即可完成应用版本升级。
:::

::: 程序包
1. 登录 [弹性微服务控制台](https://console.cloud.tencent.com/tem)，在左侧导航栏单击**应用管理**，进入应用列表页。
2. 选择目标应用，单击应用 ID，进入应用详情页。
3. 在应用详情页单击**部署**，进入应用部署页。
4. 在**上传程序包**上传本地程序包或者选择历史程序包，根据需要选择或填写其他配置。
   ![](https://qcloudimg.tencent-cloud.cn/raw/cc820fca4533636679842b66c32cbfe7.jpg)
5. 点击**部署**，等待发布结束后，即可完成应用版本升级。
:::

</dx-tabs>


### 应用回滚

1. 登录 [弹性微服务控制台](https://console.cloud.tencent.com/tem)，在左侧导航栏单击**应用管理**，进入应用列表页。
2. 选择目标应用，单击应用 ID，进入应用详情页。
3. 在应用详情页单击**回滚**，进入应用回滚详弹窗。
   ![](https://main.qcloudimg.com/raw/7e11e3024b0bcb1418c99598d8f02afd.png)
4. 在回滚弹窗的**历史版本**中，选择想要回退至的历史版本。
   ![](https://main.qcloudimg.com/raw/192ed86209c25b9a59401252afdd8c70.png)
   - 最多仅保留10个历史版本。
   - 部署结果：部署成功\部署失败。
   - 查看详情：展示服务部署的配置信息。
   - 下载：如果历史版本是使用 JAR 包或 WAR 包上传，您可以在列表中下载相应的程序包。
5. 单击**回滚**，跳转至**实例列表**页面，并以滚动部署的方式退回至您选择的历史版本。
