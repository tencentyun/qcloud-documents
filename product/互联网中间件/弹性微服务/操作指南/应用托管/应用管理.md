## 操作场景

应用是用户的业务应用，通过应用可以对用户的程序包以及应用配置进行管理。本文介绍如何管理应用，包含如何创建并部署一个应用以及如何停止、启动和删除应用等。

## 前提条件

已 [创建环境](https://cloud.tencent.com/document/product/1371/53293)

## 创建并部署应用

1. 登录 [弹性微服务控制台](https://console.cloud.tencent.com/tem)。

2. 在左侧导航栏，单击**应用管理**进入应用列表页面，选择您的应用部署地域。

3. 单击**新建**，进入新建应用页面，填写应用信息。
   ![](https://qcloudimg.tencent-cloud.cn/raw/e11ddb4b6251cdfa4f481145022cb4e8.png)

   | 参数           | 说明                                                         |
   | -------------- | ------------------------------------------------------------ |
   | 名称           | 填写应用名称，最长为40个字符，只能包含小写字母、数字及分隔符(“-”)，且不能以分隔符开头或结尾 |
   | 开发语言       | 选择您的开发语言。Java 语言支持上传镜像、JAR 包和 WAR 包，其他语言只支持镜像上传。 |
   | 程序包上传方式 | 选择程序包上传方式。<br/><li>如果选择 JAR 包或者 WAR 包的方式，TEM 将自动为您构建容器镜像，并推送至 TEM 为您创建的个人版容器镜像仓库中。</li><br/><li>如果选择镜像的方式，您可以自由选择使用系统默认镜像仓库或者绑定至已有腾讯云镜像仓库。</li> |
   | 启用组件       | 可选。应用性能管理平台，基于OpenTracing协议，采用探针采集，主要支持「基础监控」、「应用级别监控」、以及「链路追踪」等能力。 |

4. 单击**提交**，在弹窗中选择**确认**，进入部署应用页面。如果选择**取消**，您后续可以在应用列表中，单击操作列的**部署至新环境**继续部署应用。
   ![img](https://main.qcloudimg.com/raw/5ebe44d78394d4d0f86af65002e37c2a.png)

5. 在应用部署页面，根据您的应用具体情况配置相关参数。
   ![](https://qcloudimg.tencent-cloud.cn/raw/34f9b87d1f2ec23ed4454a0d34b7e459.png)

参数说明如下：

| 参数             | 说明                                                         |
| :--------------- | :----------------------------------------------------------- |
| 发布环境         | 选择应用所在的环境。如果没有合适的环境可前往 [环境页面](https://console.cloud.tencent.com/tem/env) 进行新建（参见 [创建环境](https://cloud.tencent.com/document/product/1371/53293)）。 |
| JDK 版本         | 选择 JDK 版本，支持 KonaJDK 11（推荐）、OpenJDK 11、KonaJDK 8 和 OpenJDK 8。KonaJDK 11和 OpenJDK 11将在部署同时，为您的应用进行加速，实例扩容启动速度将提升10%～40%。 |
| 上传程序包/镜像  | 上传您的程序包或者镜像，或者下载控制台上的体验 Demo 进行部署体验 TEM 完整功能。 |
| 版本号           | 设置应用版本号，您可以选择输入版本号或者单击**使用时间戳为版本号**将时间戳作为应用版本号。 |
| 版本描述         | 填写版本描述。                                               |
| 启动参数         | 设置启动参数。                                               |
| 自动注入注册中心 | 如果您的应用是 Java 语言，并且关联了注册中心，TEM 将为您提供自动注入注册中心信息的能力，详情请参考 [服务注册与发现](https://cloud.tencent.com/document/product/1371/56367)。 |

6. （可选）您可以根据需要设置以下高级选项。

| 参数         | 是否必选 | 说明                                                         |
| :----------- | :------- | :----------------------------------------------------------- |
| 发布策略     | 否       | 分批次部署，只有当前批次部署成功，才会进行下一批次部署。详情参考[分批次发布]()。 |
| 资源配置     | 是       | 可以手动设置或者设置弹性规则自动弹性伸缩。详情参考[应用扩缩容]()。 |
| 访问配置     | 否       | 提供环境内、私有网络（VPC）以及公网对外访问方式。详情参考[设置应用访问方式]()。 |
| 应用启停管理 | 否       | 协议：支持 TCP 和 UDP 协议，使用公网/内网负载均衡时，TCP 和 UDP 协议不能混合使用。在环境启动后和应用结束前设置处理任务，例如：环境初始化、应用优雅退出等。 |
| 配置设置     | 否       | 配置的使用与管理。详情参考[应用配置]()。                     |
| 环境变量     | 否       | 配置环境变量。                                               |
| 健康检查     | 否       | 使用健康检查功能查看应用实例与业务运行是否正常，以便运行异常时定位问题。详情参考[健康检查]()。 |
| 持久化存储   | 否       | 持久化存储：为容器提供存储，目前支持腾讯云文件存储 CFS，需挂载到容器的指定路径中。<br><li>数据卷：添加应用部署所在环境关联的 CFS 存储资源。</li><br/><li>挂载点：选择为该步骤中所添加的数据卷，挂载至目标路径。</li> |
| 安全组       | 否       | 您可以通过配置安全组规则，允许或禁止安全组内的实例的出流量和入流量。如您有业务需要放通其他端口，您可以 [新建安全组](https://console.cloud.tencent.com/vpc/securitygroup)。 |
| 日志配置     | 否       | 您可以开启“持久化存储至CLS”，支持标准输出“stdout”以及`*`配置路径，例如：`/logs/*`，使用半角逗号分隔，默认采集标准输出。 |

7. 单击**提交**，完成应用部署。



## 停止应用

> ?
>
> - 只有处于**正常**状态下的应用才能被停止。
> - 停止应用后，将会自动销毁该应用下的所有应用实例，但是会继续保留该应用关联的其他资源，例如：负载均衡、文件系统等。

1. 登录 [弹性微服务控制台](https://console.cloud.tencent.com/tem)。
2. 在左侧导航栏选择**应用管理**，单击目标应用的“ID”，进入应用管理页面。
3. 单击**停止应用**，在确认弹窗中选择**停止**。
4. 等待几分钟后，应用停止。

## 启动应用

> ?
>
> - 只有处于**停止**状态下的应用才能被启动。
> - 启动应用后，将会根据停止前的应用配置为您恢复应用。

1. 登录 [弹性微服务控制台](https://console.cloud.tencent.com/tem)。
2. 在左侧导航栏选择**应用管理**，单击目标应用的“ID”，进入应用管理页面。
3. 单击**启动应用**，在确认弹窗中选择**启动**。
4. 等待几分钟后，应用恢复运行。

## 销毁实例

1. 登录 [弹性微服务控制台](https://console.cloud.tencent.com/tem)。
2. 在左侧导航栏选择**应用管理**，单击目标应用的“ID”，进入应用管理页面。
3. 单击**销毁实例**，在确认弹窗中选择**销毁**，完成实例销毁。

## 删除应用

> !当应用下部署实例时，无法执行删除操作，需要先销毁该应用下部署的所有实例才能删除应用。

1. 登录 [弹性微服务控制台](https://console.cloud.tencent.com/tem)。
2. 在左侧导航栏选择**应用管理**，单击目标应用的“ID”操作列的**删除**。
3. 在确认弹窗中选择**删除**，完成应用删除。

