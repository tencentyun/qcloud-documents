## 操作场景

本文档主要介绍在弹性微服务控制台中创建服务与部署的具体步骤。

## 操作步骤

1. 登录 [弹性微服务控制台](https://console.cloud.tencent.com/tem)。

2. 在左侧导航栏，单击【服务列表】进入服务列表页面，选择您的服务部署地域。

3. 单击【新建】，进入新建服务页面，填写服务信息。

   ![](https://main.qcloudimg.com/raw/a734a55c6c2c98294fa9da59efc873b5.png)

   - 名称：填写服务名称
   - 开发语言：选择您的开发语言
   - 程序包上传方式：选择程序包上传方式。JAVA语言支持上传镜像、JAR包和WAR包，其他语言只支持镜像上传。如果选择JAR包或者WAR包的方式，TEM 将自动为您构建容器镜像，并推送至TEM 为您创建的个人版容器镜像仓库中。

4. 单击【下一步】，进入部署服务版本页面，请根据您的服务具体情况配置相关参数。

   - 程序包部署

     ![](https://main.qcloudimg.com/raw/c3603c05adec131576fb1a46d6559b60.png)

       - JDK 版本：OpenJDK 8、KonaJDK 8

       - 上传程序包：上传您的程序包，或者下载体验Demo，进行上传部署体验 TEM 完整功能。

       - 发布环境：选择服务所在的环境。如果没有合适的环境可前往 [环境页面](https://console.cloud.tencent.com/tem/env) 进行新建（参考 [创建环境](https://cloud.tencent.com/document/product/1371/53293)）。

       - 实例数量：可以手动设置或者设置弹性规则自动弹性伸缩。

       - 服务端口：填写服务监听的端口号。如果您使用demo程序包，则对应端口如下：

         JAR包demo端口号：8201，WAR包demo端口号：8080

       - 环境变量：配置环境变量。

       - 持久化存储：为容器提供存储，目前支持腾讯云文件存储CFS，需挂载到容器的指定路径中。

         - 数据卷：添加在[添加环境资源]()中关联的CFS存储资源。

         - 挂载点：选择为该步骤中所添加的数据卷，挂载至目标路径。

       - 安全组：您可以通过配置安全组规则，允许或禁止安全组内的实例的出流量和入流量。如您有业务需要放通其他端口，您可以[新建安全组](https://console.cloud.tencent.com/vpc/securitygroup)。

       - 日志配置：您可以开启“持久化存储至CLS”，支持标准输出“stdout”以及`*`配置路径，例如：`/logs/*`，使用半角逗号分隔，默认采集标准输出。

   - 镜像部署

     ![](https://main.qcloudimg.com/raw/00d8a7925db75c66ba6f422f4d94cf0d.png)

       - 镜像来源：您可以选择上传您的镜像，或者直接部署Demo镜像体验 TEM 完整功能。

       - 发布环境：选择服务所在的环境。如果没有合适的环境可前往 [环境页面](https://console.cloud.tencent.com/tem/env) 进行新建（参考 [创建环境](https://cloud.tencent.com/document/product/1371/53293)）。

       - 实例数量：可以手动设置或者设置弹性规则自动弹性伸缩。

       - 服务端口：填写服务监听的端口号。如果您使用demo镜像，监听端口自动填充，无需填写。

       - 环境变量：配置环境变量。

       - 持久化存储：为容器提供存储，目前支持腾讯云文件存储CFS，需挂载到容器的指定路径中。

         - 数据卷：添加在[添加环境资源]()中关联的CFS存储资源。

         - 挂载点：选择为该步骤中所添加的数据卷，挂载至目标路径。

       - 安全组：您可以通过配置安全组规则，允许或禁止安全组内的实例的出流量和入流量。如您有业务需要放通其他端口，您可以[新建安全组](https://console.cloud.tencent.com/vpc/securitygroup)。

       - 日志配置：您可以开启“持久化存储至CLS”，支持标准输出“stdout”以及`*`配置路径，例如：`/logs/*`，使用半角逗号分隔，默认采集标准输出。

5. 单击【提交】，完成创建。

