## 操作场景

接口监控功能用于监控服务下的接口调用详情。



## 操作步骤

1. 登录 [TSF 控制台](https://console.cloud.tencent.com/tsf/index)。
2. 在左侧菜单栏中，单击**服务监控**，选择好时间范围和命名空间，维度选择**接口**，可查看当前筛选条件下接口监控图表信息。

<dx-alert infotype="explain" title="">
您可以单击命名空间下方的➕，收藏您常用的命名空间，后续可快速查看命名空间中的服务接口监控信息。
</dx-alert>

![](https://qcloudimg.tencent-cloud.cn/raw/8dc129a4bbb84dea29294c48ad0935d8.png)



在接口维度区域，您可以执行以下操作：

- 将鼠标放在接口卡片的服务名称上，单击右上角的![](https://qcloudimg.tencent-cloud.cn/raw/6bc0a1003da8cb84026fa5ce8b7e2f11.png)将该接口卡片置顶。
- 开启**仅显示异常**按钮，筛选出**服务离线+服务错误率大于5%**的接口。
- 按照**请求量**、**耗时**或**错误率**维度对接口图表进行排序。
- 通过关键词搜索特定接口。
- 当某个接口的请求量，请求错误率，响应耗时等指标出现异常时，单击该接口卡片查看详细的监控信息。

  



### 设置自定义参数

您可以为应用配置自定义指标规则，当应用监控获取到的相应业务参数超过设置的阈值时，会根据设置的规则显示为异常状态或者标红示警。

支持设置的指标如下。

- Apdex 参数
  - 慢调用阈值
  - 错误调用阈值
- 异常定义
  - 服务异常时错误率
- 平均响应耗时定义
  - 慢响应阈值
  - 极慢响应阈值

在服务监控页面，单击右上角的![](https://qcloudimg.tencent-cloud.cn/raw/97302e158516f2a8f5a34f4e51c5618e.png)图标，设置好指标阈值和生效范围（针对所选命名空间下的所有服务生效)后单击**提交**，系统将根据设置的阈值判定参数是否异常。

> ?填写不同阈值之后，影响服务监控大盘和依赖分析图的颜色展示。

![](https://qcloudimg.tencent-cloud.cn/raw/ddeb04d850dfb329ea0254d923ccf5c7.png)

### 请求概览

在接口监控页签下选择**请求概览**，可以在概览页查看接口的请求量、错误率、响应耗时、响应耗时分布、HTTP 状态码的时序曲线。

- 请求量
- 错误率
- 响应耗时：响应耗时中 p95 代表线上95%的请求耗时都小于某个时间。
- 响应耗时分布：将鼠标放在散点图上，框选图表可查看请求详情。
- HTTP 状态码

![](https://qcloudimg.tencent-cloud.cn/raw/c1a17046acfeaaeff19db65ec31b4882.png)



在请求概览页面，可以进行以下操作：

- 您可以单击接口路径/方法名称，跳转至调试页面调试接口。
- 您可以在左侧接口列表，单击请求量、请求错误率或平均响应耗时旁的排序图标对接口进行正序或者倒序排序。
- 您可以单击右上角的**查看调用详情**查询经过该接口的请求的调用链详情。
- 您可以将光标移到曲线上，查看具体时刻的监控数据。
- 您可以单击每条曲线右上角的![img](https://main.qcloudimg.com/raw/7d2ae79ec8e992ec9252d909e74423e9.png)添加多时段数据对比。



### 服务上游

在接口监控页签下选择**服务上游**，可以查看上游服务的监控指标，包含请求量、错误率、响应耗时、HTTP 状态码。

![](https://qcloudimg.tencent-cloud.cn/raw/9b5439eb7a406e3d210e6f1415a0664e.png)
