## 操作场景

将容器服务集群中的应用托管至 TSF 后，可以在 TSF 控制台上对应用进行管理，包括部署新版本的应用、扩缩容、停止、重启和查看配置等，此外也可以通过编辑 YAML 更新部署组。



## 操作步骤

### 创建应用

在应用管理页面，单击**新建应用**创建应用，具体操作请参见 [容器托管应用](https://cloud.tencent.com/document/product/649/73931)。



### 部署应用

在 TSF 创建一个未部署的应用后，您可以在部署组列表的操作栏选择**部署应用**对应用进行部署。具体操作请参见 [容器托管应用](https://cloud.tencent.com/document/product/649/73931)。

已部署过的应用，可以在部署组列表的操作栏选择**部署应用**来升级应用版本。



### 删除应用

>!
>- 删除应用会同时删除应用关联的程序包。
>- 当应用下有部署组时，无法执行删除操作，需要先删除所有部署组后才能删除应用。

1. 在应用列表的操作列，单击**删除**。
2. 在确认弹框中，单击**确认**完成删除。



### 删除部署组

部署组删除后将不再对外提供服务。

1. 在应用列表页面，单击目标应用的“ID”，进入部署组列表页。
2. 在部署组列表页面，单击目标部署组操作列的**更多** > **删除**。
3. 弹出提示页面，单击**确定**删除部署组。



### 应用扩缩

1. 在应用列表页面，单击目标应用的 “ID”，进入部署组列表页。
2. 在部署组列表页面，单击目标部署组操作列的**更多** > **应用扩缩**。
3. 选择扩缩的实例数量后，检测是否有足够的资源。若资源充足，则单击提交。若集群内主机资源不足以创建实例，则请先在集群内导入云主机，详情参见 [集群管理](https://cloud.tencent.com/document/product/649/16929)。

>!该检测仅适用不包含超级节点的TKE集群，若 TKE 集群中添加了超级节点，可通过弹性集群进行灵活伸缩。



### 停止应用

应用停止后，将不再对外提供服务。

1. 在应用列表页面，单击目标应用的“ID”，进入部署组列表页。
2. 在部署组列表页面，单击目标部署组操作列的**更多** > **停止应用**。
3. 弹出提示页面，单击**确定**停止应用。



### 启动应用

应用停止后，您可以启动应用，应用将重新对外提供服务。

1. 在应用列表页面，单击目标应用的“ID”，进入部署组列表页。
2. 在部署组列表页面，单击目标部署组操作列的**更多** > **启动应用**。
3. 弹出提示页面，单击**确定**启动应用。





### 重启应用

1. 在应用列表页面，单击目标应用的“ID”，进入部署组列表页。
2. 在部署组列表页面，单击目标部署组操作列的**更多** > **重启应用**。
3. 修改启动参数后，单击**保存并重启** 重启应用。





### 通过直接编辑 YAML 更新部署组

容器部署组对应的 Kubernetes 里面的`Deployment` 和 `Service`对象，如果您希望直接修改 YAML 实现更能灵活地配置，可以按照下述步骤操作：

1. 单击部署组 ID 进入详情页，单击**基本信息**标签页。
2. 在基本信息卡片中找到 **YAML** 字段，单击**查看与编辑**，显示 `Deployment` 和 `Service` 的 YAML。
3. 单击**编辑**按钮，进入 YAML 编辑页面，编辑 YAML。
4. 单击**提交**按钮，容器部署组会以更新后的 YAML 进行重新部署。





### 关联应用配置

1. 单击目标部署组的“ID”，进入服务实例列表页面。
2. 在页面上方选择**关联应用配置**，单击**新增关联应用配置**，填写配置信息。
   - 配置项：选择配置项目，如果现有的文件配置项不合适，您可以单击**新建应用配置项**重新创建。
   - 版本：选择配置项版本。
   - 配置内容：按照 YAML 格式。YAML 格式规范参见 [YAML 格式介绍](https://cloud.tencent.com/document/product/649/17925)。
   - 发布描述：选填, 200字符内。
3. 单击**提交**，完成新增**关联应用配置**。

### 关联文件配置

1. 单击目标部署组的“ID”，进入服务实例列表页面。
2. 在页面上方选择**关联文件配置**，单击**新增关联文件配置**，填写配置信息。
   - 配置项：选择配置项目，如果现有的文件配置项不合适，您可以单击**新建文件配置项**重新创建。
   - 版本：选择配置项版本。
   - 配置内容：按照 YAML 格式。YAML 格式规范参见 [YAML 格式介绍](https://cloud.tencent.com/document/product/649/17925)。
   - 发布描述：选填, 200字符内。
3. 单击**提交**，完成新增**关联文件配置**。



### 通过 Webshell 登录容器

1. 单击“部署组 ID ”进入服务实例列表。
2. 单击操作栏的**登录**通过 Webshell 登录容器。
   登录后界面如下：
   ![img](https://qcloudimg.tencent-cloud.cn/raw/6d1ee3f259e2761d942845e43eda3efc.png)

