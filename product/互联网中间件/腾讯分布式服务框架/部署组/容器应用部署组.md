容器部署组的操作包括：创建部署组、删除部署组、部署应用、启动应用、应用扩缩容等。

## 创建部署组
1. 登录 [TSF 控制台](https://console.cloud.tencent.com/tsf/index)。
2. 单击左侧导航栏中的 **部署组**。
3. 选择部署组所属集群和所属命名空间。
4. 单击部署组列表上方的【新建部署组】按钮。
![](https://main.qcloudimg.com/raw/3598c52a2766a58f9c84370396e15dd1.png)
5. 设置部署组相关信息。
 - **部署组名称**：部署组的名称，不超过60个字符。

 - **关联应用**：选择部署组关联的应用。

 - **实例资源限制**：分配给单个实例使用的 CPU 核数和内存资源上限值。

 - **实例数量**：一个实例由相关的一个容器构成，可单击 + 和 - 控制实例数量。实例数和实例资源限制的乘积不能超过集群剩余的可用资源。

 - **网络访问方式**: 网络的访问方式决定了部署组内应用的网络属性，不同访问方式的应用可以提供不同网络能力。参阅 [容器部署组访问方式](https://cloud.tencent.com/document/product/649/16929)。

   - **NodePort**: 访问方式不绑定外网负载均衡，在集群内所有主机节点自动分配 NodePort 端口，可通过 **集群内任意主机IP + NodePort** 访问该服务。
   - **公网**：访问方式自动绑定外网负载均衡，可通过外网负载均衡地址访问该服务。
   - **集群内访问**：访问方式不绑定外网负载均衡，该服务只能在集群内部访问。

 - **端口映射**：容器端口与服务端口的映射关系。

     - 协议：TCP、UDP。
     - 容器端口：容器内应用程序监听的端口。
     - 服务端口：集群外通过负载均衡域名或IP+服务端口访问服务；集群内通过服务名+服务端口访问服务。建议和容器端口保持一致。

 - **更新方式**：选择部署的更新方式。

   - 快速更新：直接关闭所有实例，启动相同数量的新实例。
   - 滚动更新：对实例进行逐个更新，这种方式可以让您不中断业务实现对服务的更新。

 - **日志配置项**：选择日志配置项，用于采集应用的业务日志数据。

  ![](https://main.qcloudimg.com/raw/ab3f42a47dfee7f0e97ba677a32031e3.png)

## 删除部署组
1. 单击部署组列表页右侧的【删除】。
2. 弹出提示页面，显示集群下的节点信息，单击【确定】删除集群。
![](https://main.qcloudimg.com/raw/9dbf6b54c46cc7bb9adaa66a9650dc79.png)

## 部署应用

### 部署流程
1. 单击部署组列表页右侧的【部署应用】。
![](https://main.qcloudimg.com/raw/b9a952bde67484cefdec88acbd7073bc.png)
2. 设置部署信息。

 - **选择镜像**：选择要部署的镜像。

 - **实例资源限制**：分配给单个实例使用的 CPU 核数和内存资源上限值。

- **实例数量**：一个实例由相关的一个容器构成，可单击 + 和 - 控制实例数量。实例数和实例资源限制的乘积不能超过集群剩余的可用资源。

- **JVM 启动参数**（选填）：设置 Java 应用的启动参数。

     ![](https://main.qcloudimg.com/raw/5a5d294cc46bd1dec25d8e89a3e79615.png)



### TSF 和 CCS 容器部署的区别

TSF 简化了容器应用部署的参数配置，能做到自动处理，对比 CCS 区别如下：

#### 环境变量
TSF能自动读取到镜像中的环境变量并注入，无需人工在界面输入。

![](https://main.qcloudimg.com/raw/c6fd60474a12b839ea9ff97c59b61fe4.png)

#### 挂载点和数据卷
TSF 将应用配置日志项路径设置为挂载点，并自动创建数据卷并映射（本地硬盘）。

TSF应用关联日志配置项路径：
![](https://main.qcloudimg.com/raw/7cdbaa3b5db7c66960b787969d8eb283.png)

CCS 界面如下：

![](https://main.qcloudimg.com/raw/7923b8ea2bd1002b3ab732066cc047ec.png)

## 应用扩缩
1. 单击部署组右侧的【应用扩缩】。
![](https://main.qcloudimg.com/raw/4643ee95afb02e5b19d20c3a4785c6c5.png)
2. 选择扩缩的实例数量后，单击【提交】按钮。
![](https://main.qcloudimg.com/raw/8687a7259212b3edb280fcb493656b62.png)

