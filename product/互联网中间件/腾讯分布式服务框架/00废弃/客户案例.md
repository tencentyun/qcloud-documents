## 背景介绍
某大型银行目前采用的前置行内总线系统，接入行内数以百计的业务系统。使用集中式的交换架构体系并统一管控各类接入服务，保证系统稳定性。经过几年的运行，系统逐渐出现瓶颈，急需架构调整。

## 客户痛点
用户原有总线系统在几年的运行中暴露以下问题：
- 采用集中式架构，常常导致计算资源、存储资源、网络资源存在使用瓶颈。
- 在互联网金融、人工智能、区块链技术高速发展的今天，新业务的接入和需求的快速迭代上限对现有资源产生了级联效应，“牵一发而动全身”，影响迭代速度和系统稳定性。
- 用户线上服务缺乏统一的管理，相互隔离，部署方式分散。造成线上出现问题很难定位。对服务的生命周期管理缺乏整体把握。开发、运维、测试基于各自标准和各自系统通过人工分散管理，基于文档和脚本传递信息。
- 尽管该银行全行的交易协议已经趋向于一致，但现有协议扩展性较差，交易数据分散部署，缺乏整体管控。

尽管用户对架构转型的需求很强，但进行微服务改造的工作量大，线上现存百余个系统，使用 Java 和 C 两种语言进行编写，混杂多种通信框架，需要对存量系统进行服务化过渡，平滑演进，稳健实现改造目标。



## 解决方案
![](https://main.qcloudimg.com/raw/664bdc4fa06957b65cf4cddad197ad88.jpg)
如图为用户使用腾讯分布式框架部署业务的总体构架，用户使用 Spring Cloud 和 Service mesh 融合的形式在虚拟机和容器上进行混合部署，实现了服务的统一管控，解决了多语言异构、新老系统融合的业界架构转型难题。
![](https://main.qcloudimg.com/raw/14f7743a4fa5e7065927fdfa2c05ee22.png)
**分布式服务调用**：建设点对点分布式系统间访问能力；通过标准协议、API、或集成网关互联通讯。
**服务治理**：提供实时服务注册、发布（灰度）、审批、在线管理、服务度量等功能；实现金融服务元数据全生命周期一体化管理。
**集成网关**：提供集成网关，解决新老平台互联互通问题，实现新老技术架构融合。提供分层分域后的跨域访问能力。
**监控中心**：对分布式服务系统服务运行质量（SLA）进行整体监控，对海量交易数据进行精确分析，与服务治理中心配合对服务的健康运行进行有效管控。


## 客户价值
#### 安全方面提升
- 分布式“去中心化”的交换体系，不存在容量瓶颈、有效降低集中交换架构下单点故障的风险，整体安全性得到提升。
- 交换体系的架构转型势必带来安全加密控制和管理体系的变化，从集中交换体系下的逐级密钥加密控制体系向点对点式直接加密安全控制过渡，较传统架构加密平台压力减半。

#### 效率方面提升
- 点对点式的直接交换，基于服务的依赖关系和血缘关系合理规划，可有效缩短局部交易路径，提升交换效率和整体运行效率。
- 结合新一代企业服务总线项目的建设，开展和落地企业服务治理工作，规划金融服务库与服务目录，制定服务治理的技术规范与管理规范，建设服务治理的基础技术支撑平台，提升企业级服务治理的能力和整体管控效率。

#### 成本方面收益
集中交换架构下的综合前置目前采用小型机架构支撑系统的稳定性和高可靠性，随着向分布式交换架构的转型，综合前置逐渐弱化成卡业务前置或下线，整体的 IT 投入成本降低。

#### 业务方面收益
结合分布式技术的引入和服务治理工作的落地，制定服务化标准和度量手段，逐渐引导行内系统向按服务化设计，通过 ESB 系统后评估各系统的服务化程度，间接推进全行服务化架构转型工作。服务化架构可更好的支撑业务多形态发展。









