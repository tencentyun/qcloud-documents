### 云服务器加入容器集群后，项目属性为何变为"默认项目"？
由于加入到 TSF 容器集群中的云服务器 CVM 实例可能属于不同项目，TSF 将加入到容器集群中的云服务器 CVM 的项目属性统一修改为**默认项目**。如果需要集群内云服务器分布在不同的项目，请自行前往云服务器控制台迁移项目。

### 虚拟机集群内云主机的可用状态为何显示不可用？
虚拟机集群中的云服务器显示"不可用"状态是因为 agent 无法连接 TSF 后台服务器导致的，因此需要检查 agent 的可用状态。
1. 首先检查云服务器的状态是否为"运行中"。如果云服务器的状态不是运行中，请确保云服务器为开机运行状态。
2. 登录云服务器，执行`ps aux | grep 'agent'`命令查看是否有包含`tsf-agent`命名的进程。如果没有，请查看步骤3。
3. 切换到`/root`目录下，查看是否有`tsf_agent`目录。
   - 如果没有，需要将主机从集群中删除后，再重新导入。
   - 如果有，进入`/root/tsf_agent/ops`目录下，先执行`uninstall.sh`，再执行`install.sh`命令。然后通过 ps 命令检查进程。

### 如何手动恢复 tsf-agent 进程？
tsf-agent 有 crontab 做进程检查和恢复，如果 crontab 被停用、卸载、修改会导致 tsf-agent 宕机无法自恢复。手动恢复 tsf-agent 的方法如下：
1. 检查 tsf-agent 的安装目录是否存在，通常在 /root/tsf-agent。
2. 检查 tsf-agent 的安装用户， ls -l tsf-agent/，通常是 root，那以 root 身份到安装目录下执行 ./ops/start.sh。

### TSF 容器集群数达到上限如何处理？
默认情况下每个账号在一个地域最多能创建5个容器集群，如需扩大额度，请 [提交工单](https://console.cloud.tencent.com/workorder/category) 给 **容器服务 TKE** 产品。

### TSF 不同集群内的服务是否支持相互调用？
在网络连通性的前提下，同一命名空间内的服务可以相互发现和相互调用。如果要实现跨集群的服务访问，有两个前提：
1. 集群内实例网络互通
2. 集群关联相同的命名空间。多个集群通过命名空间名称（而不是命名空间 ID）作为关联的 key。您可以在命名空间一级页面中看到关联的集群信息。

举例：有2个集群分别是 cls-a 和 cls-b，两个集群内实例网络互通（如在相同 VPC 内），并且都关联了命名空间 test-ns。要实现跨集群访问，需要确保在创建部署组 provider（cls-a集群内）和 consumer（cls-b集群内）时，使用相同的命名空间 test-ns。

### TSF 如何设置开发环境和测试环境？
在同一个账号下，您可以通过集群或者命名空间来划分开发环境和测试环境：
- **使用集群划分**：创建两个集群并使用不同的 VPC 作为集群网络，通过网络实现服务之间隔离的作用。使用集群来划分的特点是不同集群不会共享底层的云服务器等资源。
- **使用命名空间划分**：创建两个非全局命名空间，不同命名空间内的服务默认不支持相互调用。

### 集群网络和容器网络如何设置？
集群网络与容器网络是集群的基本属性。通过设置集群网络和容器网络可以规划集群的网络划分。
- **集群网络**：为集群内主机分配在节点网络地址范围内的 IP 地址，您可以选择私有网络中的子网用于集群的节点网络，更多私有网络介绍请参考 [私有网络和子网](https://cloud.tencent.com/document/product/215/20046) 。
- **容器网络**： 为集群内容器分配在容器网络地址范围内的 IP 地址，您可以自定义三大私有网段作为容器网络， 根据您选择的集群内服务数量的上限，自动分配适当大小的 CIDR 段用于 kubernetes service，同时容器网络自动为集群内每台云主机分配一个24位的网段用于该主机分配 Pod 的 IP 地址。

详细说明请参考 [集群及容器网络设置](https://cloud.tencent.com/document/product/649/16926)。 


### CVM 集群应用的日志清理机制是什么？
- 若不设置日志转储，会在30天后自动删除。
- 若选择日志转储至 CKafka（参考 [日志投递](https://cloud.tencent.com/document/product/649/43510)），则可以存储自定义的时长。具体时长由用户购买的 CKafka 实例规格决定。

