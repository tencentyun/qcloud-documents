### TSF 是否支持在同一台服务器上安装多个应用？

在 TSF 中，应用的部署有两种类型：

- CVM 云服务器独占实例：在一台 CVM 云服务器上，仅部署单独一个应用。通常根据应用需要的资源配置来购买 CVM 云服务器。
- 容器实例：TSF 使用 Docker 容器在一台独立的 CVM 云服务器上创建多个 Docker 实例，允许在每一个 Docker 实例上部署一个应用。

### 如何查看实例的 Agent 版本？

1. 在**部署组**页面，单击目标部署组“ID/部署组名”，进入服务实例详情列表。
2. 在目标实例操作栏单击**查看agent版本**即可查看实例的 Agent 版本。
	 ![](https://main.qcloudimg.com/raw/e9d300ebc5fa2d1f8d516ba0b78e83e9.png)

### 如何将实例 Agent 升级至最新版本？

- 虚拟机部署场景：您需要把实例移出集群后，再重新移入集群，重新部署服务实例。
- 容器部署场景：您需重新编写 dockerfile，生成新的镜像后重新部署服务实例，详情请参考 [制作容器镜像](https://cloud.tencent.com/document/product/649/17007)。

### TSF 应用实例状态为什么显示 Agent 异常？

TSF Agent 会定期上报心跳数据给 TSF 管理模块，如果 Agent 停止上报状态，则某段时间后该机器将会被判定为未知状态。通常而言，该问题是由于 Agent 停止导致。

您可以尝试在云服务器界面，重启该云服务器。


### 重启服务器后 TSF Agent 是否能自动重启？

是的，重启服务器后 TSF Agent、应用都会自动重启。


### 容器部署组执行部署操作时提示内存（或 CPU）不足？

请检查该部署组所在集群和命名空间中的节点的内存（或 CPU）的使用情况，确保在执行部署操作时填写的内存（或 CPU）数值小于剩余内存（或 CPU）资源 。

您可以在集群的节点列表页面中找到已分配 CPU 和已分配内存信息。

### 如何排查应用是否部署失败？ 

1. 在应用详情页，单击部署组操作列的**查看日志**查看 stdout 日志，通过日志初步定位是否是业务程序本身问题。如果没有日志信息，进行步骤2。
2. 单击**变更记录**，查看本次部署任务的 taskid。
   ![](https://main.qcloudimg.com/raw/eab3f36528aea3bc12dcf5395afd40f3.png)
3. 登录虚拟机或容器，查看本次任务的日志信息`/root/tsf-agent/agent/task/<taskid>`，其中 taskid 是步骤2中的任务 ID。
4. 您可以通过日志信息初步定位部署失败原因，如果无法排查，可 [提交工单](https://console.cloud.tencent.com/workorder/category) 反馈任务日志信息。

### 程序包无法上传如何解决？

当发现程序包无法上传时，请检查浏览器是否设置了代理。您可以尝试换一个浏览器或者切换网络重新进行上传。

### 创建应用时，提示命名空间数达到配额如何解决？

您需要在容器服务控制台中，选择 **镜像仓库** > **[我的镜像](https://console.cloud.tencent.com/tke2/registry/user/space)**，删除超过限额的命名空间。
![](https://main.qcloudimg.com/raw/78648bda9d18dfbb8642cc79383b9237.png)

### 删除应用后是否可以恢复？

不可以，删除应用操作不可逆，所有的数据都会被清除。

### 程序包容量达到上限时如何解决？

默认每个租户程序包的存储容量为100GB，如果超过上限，上传程序包时会提示错误信息。此时您需要删除仓库中历史版本的程序包后才能上传新的程序包。

### 如何选择容器部署组的访问方式？

请参考 [容器应用部署组](https://cloud.tencent.com/document/product/649/15525)。

### 将一台已在 CVM 创建的实例添加到 TSF 的时候，是否需要重装 Agent?

需要。由于系统是克隆的（虽然克隆前已安装 Agent），但实例 ID、Local IP 等信息还是之前系统的，导致 Agent 上报实例状态异常，所以克隆后的系统仍需要再次重装 Agent。
