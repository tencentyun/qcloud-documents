## 弹性伸缩概述

**弹性伸缩含义**：根据预先设定的弹性伸缩规则，动态增加或者减少部署组的实例数。

**弹性伸缩规则**：由规则名、扩容活动、缩容活动、冷却时间等参数构成的规则，用来描述弹性扩缩容的触发条件、实例数量变化和限制。

**弹性伸缩指标**：

- CPU 利用率：在指定时间范围内，部署组内所有实例 CPU 利用率的平均值
- 内存利用率：在指定时间范围内，部署组内所有实例内存利用率的平均值
- 请求QPS：在指定时间范围内，部署组内所有实例请求QPS平均值
- 响应时间：在指定时间范围内，部署组内所有实例响应时间平均值

**冷却时间**：设置冷却时间，可以确保在上一扩（缩）容活动生效前弹性伸缩不会启动或终止其他实例。弹性伸缩会等待冷却时间完成，然后再继续扩（缩）容活动。建议设置冷却时间大于持续时间。



## 弹性伸缩使用

### 新建规则

1. 单击左侧导航栏【弹性伸缩】。

2. 单击【新建】按钮。

   ![](https://main.qcloudimg.com/raw/3dfe820bc7750ffe7bfcce6e92a4390d.png)

3. 填写弹性伸缩规则内容。

   - 规则名

   - 扩容活动
     - 触发条件：由指标、阈值、持续时间构成。多条触发条件为逻辑或 OR 的关系，满足任一条件
     - 增加实例数：每次部署组的指标达到了触发条件后，增加的实例数量
     - 最大实例数：部署组的实例数上限
   - 缩容活动
     - 触发条件：由指标、阈值、持续时间构成。多条触发条件为逻辑与 AND 的关系，必须同时满足
     - 减少实例数：每次部署组的指标达到了触发条件后，减少的实例数量
     - 最小实例数：部署组的实例数下限
   - 冷却时间：建议设置冷却时间大于持续时间，例如。

![](https://main.qcloudimg.com/raw/bb76383188853ad73e40432dd90c7181/WX20181115-150610@2x.png)

### 关联部署组

弹性伸缩规则创建后，将规则关联到部署组上。

1. 单击弹性伸缩规则列表操作中的【关联部署组】。

2. 选择应用，然后选择部署组。

3. 是否立刻启用规则，如果选择启用，则规则会在部署组上立刻生效，否则规则不会立刻在部署组上立刻生效，用户可以后续在规则详情页-关联部署组 tab 页中修改。

   ![](https://main.qcloudimg.com/raw/c53db56df5e7ac32f065b2b0790e884d.png)





### 查看操作记录

1. 单击左侧导航栏【操作记录】。

2. 资源类型一列使用"弹性伸缩"来过滤，查看已经发生的弹性伸缩活动记录。

3. 在操作详情中用户可以看到具体的伸缩活动信息，包括什么指标触发了伸缩活动，实例数的变化情况。

   ![](https://main.qcloudimg.com/raw/11c60ac9188426f65a37a9dcc0643e4a.png)