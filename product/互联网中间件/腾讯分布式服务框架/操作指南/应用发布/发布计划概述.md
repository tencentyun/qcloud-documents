应用部署到 TSF 后，还会不断进行升级迭代，TSF 单应用发布支持多部署组批次发布、蓝绿发布，用户可以根据业务场景需求不同进行选择。当发现升级后的应用出现异常，可以将应用回滚到历史版本，待问题修复后再进行升级发布。

本文介绍 TSF 的发布类型，适用场景和发布回滚功能。

>?TSF 发布计划目前为白名单功能，您可以 [提交工单](https://console.cloud.tencent.com/workorder/category) 申请开通。


## 升级应用

**批次发布：**应用规模较大或服务架构比较复杂，可以按批次进行应用部署，分批发布过程中如果出现故障，可以及时终止并回滚，待问题修复后重新发布，降低因版本发布导致业务中断的风险。

**蓝绿发布：**蓝绿发布的含义是分别蓝、绿两个分组部署服务不同版本，蓝组为存量版本，绿组为更新版本。发布步骤如下：
1. 发布前先将流量切换至蓝组（存量版本）。
2. 发布绿组，发布成功后将流量切换至绿组。
	- 如果流量异常则即时切换至蓝组，避免业务异常。
	- 如果流量正常则更新蓝组版本或下线蓝组版本。



## 回滚应用

使用批次发布或者蓝绿发布新版本应用时，若在发布过程中或者发布完成后发现新版本应用异常，可以使用回滚功能回滚应用，待问题解决后再次发布新版本。

- 发布中回滚：对于正在运行中的发布单，若发现异常，需要先终止发布再进行回滚，终止发布未执行的任务节点不再进行发布操作。
- 发布后回滚：对于已发布的发布单，若发现异常，直接回滚历史版本即可。

回滚应用的具体操作，请参见 [发布回滚](https://cloud.tencent.com/document/product/649/63645)。
