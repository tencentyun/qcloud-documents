## 概述

**弹性伸缩含义**：根据预先设定的弹性伸缩规则，动态增加或者减少部署组的实例数。

**弹性伸缩规则**：由规则名、扩容活动、缩容活动、冷却时间等参数构成的规则，用来描述弹性扩缩容的触发条件、实例数量变化和限制。

**弹性伸缩指标**：

| 指标 | 说明 |
|---------|---------|
| CPU 利用率 | 在指定时间范围内，部署组内所有实例 CPU 利用率的平均值。|
| 内存利用率 | 在指定时间范围内，部署组内所有实例内存利用率的平均值。|
| 请求 QPS | 在指定时间范围内，部署组内所有实例请求 QPS 的平均值。|
| 响应时间 | 在指定时间范围内，部署组内所有实例响应时间的平均值。|

**冷却时间**：设置冷却时间，可以确保在上一扩（缩）容活动生效前弹性伸缩不会启动或终止其他实例。弹性伸缩会等待冷却时间完成，然后再继续扩（缩）容活动。建议设置冷却时间大于持续时间。

以下视频将为您介绍 TSF 的弹性伸缩功能：

<div class="doc-video-mod"><iframe src="https://cloud.tencent.com/edu/learning/quick-play/2038-24397?source=gw.doc.media&withPoster=1&notip=1"></iframe></div>

## 新建规则

1. 在 TSF 控制台左侧导航栏，单击 **[弹性伸缩](https://console.cloud.tencent.com/tsf/scalable)**。
2. 在弹性伸缩页面左上方，单击**新建规则**。
3. 在新建弹性伸缩规则中，填写弹性伸缩规则内容。
   - **规则名**
   - **扩容活动**
     a. 触发条件：由指标、阈值、持续时间构成。多条触发条件为逻辑或（OR）的关系，满足任一条件。
      b. 增加实例数：每次部署组的指标达到了触发条件后，增加的实例数量。
      c. 最大实例数：部署组的实例数上限。
   - **缩容活动**
     a. 触发条件：由指标、阈值、持续时间构成。多条触发条件为逻辑与 AND 的关系，必须同时满足。
     b. 减少实例数：每次部署组的指标达到了触发条件后，减少的实例数量。
     c. 最小实例数：部署组的实例数下限。
   - **冷却时间**：建议设置冷却时间大于持续时间，如持续时间设置1分钟，冷却时间设置5分钟。
   - **标签**：用于分类管理资源，可不选。详情参考 [标签](https://cloud.tencent.com/document/product/649/53869)。
   - **数据集**：将新建的集群添加到已有数据集中。非必填字段。数据集使用，请参阅 [数据集管理](https://cloud.tencent.com/document/product/649/38326)。

## 关联部署组

创建弹性伸缩规则后，将规则关联到部署组上。

1. 在弹性伸缩列表的操作栏，单击**关联部署组**。
2. 在关联部署组页面，选择应用，然后选择部署组。
3. 在关联部署组页面左下方，选择是否立刻开启规则。如果选择开启，则规则会在部署组上立刻生效，否则将不生效。用户可以后续在规则详情页的**关联部署组** tab 页中修改启用状态。

## 解除规则和部署组的关联

1. 单击规则名称进入详情页，单击**关联部署组**标签页。
2. 在关联部署组列表右侧操作栏，单击**删除**，解除规则和部署组的关联。

## 删除规则

前提条件：已解除规则和部署组的关联。

1. 在弹性伸缩列表的操作栏，单击**删除**。
2. 在弹出的对话框中，单击**确认**，即可删除规则。
