## 操作场景
该任务指导您通过 TSF 控制台，完成分布式任务调度的创建、执行、查看等详细操作流程。
>?分布式任务调度当前发布的为 beta 版本，如果您在使用中有任何不便或诉求，欢迎 [提交工单](https://console.cloud.tencent.com/workorder/category?level1_id=876&level2_id=931&source=0&data_title=腾讯微服务平台%20TSF&step=1) 向我们反馈，我们将持续改进，非常感谢您的支持。

## 操作步骤
### 创建任务
1. 登录 [TSF 控制台](https://console.cloud.tencent.com/tsf/index)。 
2. 在左侧菜单栏中，找到【组件中心】分类，单击【分布式任务调度】>【任务管理】，进入任务管理页面。
3. 在任务管理页面，单击【新建任务】，在新建任务的弹框中输入您的任务设置。
 - **任务名称**：必填，最长64个字符，支持英文字母大小写、中文，可以包括短横杠`-`、下划线`_`、小数点`.`。
 - **执行部署组**：必填，执行任务的实例组，您可从已有的部署组中选择一个。
 - **任务类型/内容**
    - 任务类型：目前只支持 Java 类型。
    - 任务内容：必填，需输入任务文件的完整路径和类名。
 - **状态**：任务的启用状态；状态为“启用”的任务才会被执行。
 - **执行方式**
    - 随机单节点执行：在所有实例中随机挑选某一实例执行任务
    - 广播执行：所有节点同时执行任务
    - 分片执行：部署组每个节点获取控制台指定的分片参数信息并发执行，提升执行效率
 - **任务参数**：任务执行传递的参数，可在任务执行中通过上下文参数获取。
 - **触发方式**
    - 定时触发：触发方式为“定时触发”时，可通过 cron 表达式设置任务的执行时间（所设置的 cron 表达式需符合 Quartz 规范）。
    - 周期触发：通过设置任务触发的间隔时间来设置任务的执行时间；可支持 cron 表达式所不支持的周期设置。
    - 工作流触发：通过工作流的上下游依赖关系触发任务执行。
 - **超时设定**：判定任务执行失败的执行时长；执行时间超出此预设值且任务还没有执行完成时，将此次执行判断为“超时”。
 - **执行成功设定**：针对广播、分片执行方式通过设置执行成功率进行任务执行批次成功状态判定，仅在所有节点执行完毕后进行执行成功率计算。
例如，一个执行批次有10个实例，设置执行成功率>60%，则当该批次所有实例执行完毕后6个以上节点执行成功则该批次判定为成功状态。
 - **重试次数**：不为0时，会在正常执行失败后自动重试所设置的次数。
 - **重试间隔**：“重试次数”不为0时必填，上次执行失败后，间隔所设置的时长进行重试。
![](https://main.qcloudimg.com/raw/166c1a4b8feb69b61ca23ef79204aba3.png)
4. 设置完成后，单击【保存】，所创建的任务将显示在任务列表中。
>?
>- 每个用户最多可创建50个任务。
>- 执行任务的实例，需正确 [配置 SDK](https://cloud.tencent.com/document/product/649/41639) 后，才可执行任务。


### 执行任务
1. 在【[任务管理](https://console.cloud.tencent.com/tsf/tct-task)】中，找到任务列表中的目标任务。
2. 单击操作列中的【更多】>【运行一次】，手动触发所选任务的一次执行。
任务将无视所设置的触发方式和时间执行一次，您可在【[执行记录](https://console.cloud.tencent.com/tsf/tct-exec)】或【任务详情】中查看此次执行的情况。

### 查看任务详情
1. 在【[任务管理](https://console.cloud.tencent.com/tsf/tct-task)】中，找到任务列表中的目标任务。
2. 单击任务 ID，进入任务的详情页，查看任务的配置信息和执行情况。
![](https://main.qcloudimg.com/raw/21ab1bb399007666cacabfbc33c7a5a0.png)

### 编辑任务
任务创建后，您可以在【[任务管理](https://console.cloud.tencent.com/tsf/tct-task)】中随时修改任务的设置及启用状态。

- 编辑任务设置
	- 方式一：在任务列表页中找到目标任务，单击操作列中的【编辑】
	- 方式二：进入目标任务的任务详情页，单击【基本信息】页右上方的【编辑】
	编辑完成后，单击【提交】，成功后任务的修改即实时生效
- 启用 / 停用任务：您也可以通过任务列表页，单击操作列中的【更多】>【启用/停用】，快速修改任务的启用状态

>?任务的修改只对修改后触发的执行有效，不影响修改前已开始的执行。

### 删除任务
任务创建后，您可以在【[任务管理](https://console.cloud.tencent.com/tsf/tct-task)】中随时删除任务。
1. 在任务列表中的目标任务。
2. 单击操作列中的【更多】>【删除】，任务将被自动停用，不会再触发新的执行，但不影响已经开始的执行。






