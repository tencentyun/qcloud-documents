### 客户端的 ID 有哪些格式要求？
ClientID 由两部分组成，组成形式为“Instanceid@DeviceID”，ClientID 的长度不超过 64个字符，请不要使用不可见字符。其中
- Instanceid 为 IoT MQ 的实例 ID。
- DeviceID 为每个设备独一无二的标识，由业务方自己指定，需保证全局唯一，例如每个传感器设备的序列号。


### 发布消息的 QoS 和订阅消息的 QoS 不同时，以哪个为准？
MQTT 协议发布消息 QoS 保证不是端到端的，是客户端与服务器之间的。订阅者收到 MQTT 消息的 QoS 级别，最终取决于发布消息的 QoS 和主题订阅的 QoS。当二者不同时，会产生 QoS 降级，以最低的 QoS 为准。

|发布消息的 QoS|主题订阅的 QoS|最终接受消息的 QoS|
|----|----|----|
|0|0|0|
|0|1|0|
|1|0|0|
|1|1|1|

> **注意：**
> IoT MQ 暂不支持 QoS2。



### 消息队列 IoT MQ 连接被异常断开该如何处理？
可能的原因：
- IoT MQ 服务器在客户端发送 CONNECT 报文时进行权限验证，如果权限验证失败则会断开连接。
- 不同的客户端使用相同的 ClientID 连接 IoT MQ 服务时会被强制断开，即当有一个客户端使用 ClientID1 连接上 IoT MQ 服务后，新的客户端使用同一个 ClientID 会被拒绝连接。

### 使用客户端连接 IoT MQ 时端口是多少？
客户端连接 IoT MQ 时使用默认端口 1883。

### IoT MQ 的消费方式是 Pull 还是 Push？
IoT MQ 的消费方式是 Push，订阅者订阅 Topic 后，消息队列会把消息 Push 给订阅者。









