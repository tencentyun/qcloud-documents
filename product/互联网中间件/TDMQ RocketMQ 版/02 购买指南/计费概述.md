TDMQ RocketMQ 版按照售卖形式分为专享集群和共享集群：

- 共享集群当前处于公测阶段，您可以免费使用。共享版预计于 2022年11月结束公测，全面商业化并开始计费。具体公测结束时间和价格届时会提前以短信、站内信和控制台公告的形式进行提前通知。
- 专享集群目前已经商业化并正式对外开放。 

本文主要介绍 TDMQ RocketMQ 版专享集群的计费方式、计费组成等信息。

## 计费方式

 TDMQ RocketMQ 版专享集群提供**包年包月**的的计费模式。

#### 包年包月

包年包月为一种预付费方式，即**先付费再使用**。您在购买专享集群时，系统会根据您选择的集群规格和购买时长计算出费用账单，您需要先结清账单，才能开始使用包年包月资源。此种计费方式适用于适用于业务流量峰值在不同时间段比较平稳，且长期使用的场景。



## 计费项目

选购 TDMQ RocketMQ 版专享集群的总费用计算方式如下：

集群整体价格 = 起步配置价格 + 计算配置价格 + 存储配置价格 = 起步配置价格 + 单节点价格 × 节点数量 + 存储单价 × 存储大小。

| 计费项   | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 起步配置 | 新建集群的基础服务费用（如集群管理、消息管理、可观测性、高可用等），是固定费用，不会随着集群规模的增加而增加。 |
| 计算配置 | 主要为计算的服务费用，根据需求提供多种节点规格，每种规格的单节点价格固定，有起步节点数和最高节点数范围限制，计算配置价格根据节点数量呈线性变化。 |
| 存储配置 | 主要为存储的服务费用，可以自定义存储空间（步长是100GB），存储配置价格根据存储大小呈线性变化。 |





## 价格说明

具体价格以 [购买页](https://buy.cloud.tencent.com/tdmq?protocol=RocketMQ&rid=9&clusterType=standard) 配置计算展出的费用为准，本小节介绍不同规格的专享集群规格性能差异。

> ?如当前规格的节点数量限制不满足您的业务量需求，您可以 [提交工单](https://console.cloud.tencent.com/workorder/category) 申请支持。



### 起步配置

如下规格性能为我们设定的一个参考基准值，实际性能不会低于此规格，以用户压测的数据为准，且不会产生规格外突发弹性能力费用。

| 规格类型 | 单节点规格                     |
| -------- | ------------------------------ |
| 基础型   | 2000 QPS<br>40MB/s<br>4000 Topic 分区    |
| 标准型   | 5000 QPS<br>80MB/s<br>8000 Topic 分区    |
| 高阶I型  | 10000 QPS<br>150MB/s<br>10000 Topic 分区 |
| 高阶II型 | 18000 QPS<br>300MB/s<br>12000 Topic 分区 |





### 计算配置

计算配置费用 = 节点价格 × 节点数量

集群性能规格说明：**集群整体性能 = 节点性能 × 节点数量 ，**在节点范围内呈线性变化。

| **规格类型** | **起步节点数（个）** | **最高节点数（个）** | **单节点起步QPS规格（4KB计算）** |
| ------------ | -------------------- | -------------------- | -------------------------------- |
| 基础型       | 2                    | 10                   | 2000                             |
| 标准型       | 2                    | 10                   | 5000                             |
| 高阶I型      | 2                    | 20                   | 10000                            |
| 高阶II型     | 2                    | 20                   | 18000                            |

TPS 计算规则

- 消息收发 TPS 即为每秒钟消息发送和订阅消息次数的最大总和。
- 消息大小以4 KB为计量单位。例如，每秒钟消息接收量为10000条，消息发送量为10000条，平均每条消息体大小为16KB，则消息收发 TPS 为（16/4）×（10000+10000）=80000次/秒。



### 存储配置

存储费用 = 存储空间 × 存储单价。

专享集群各版本单节点均提供起步存储 200GB，您可以根据您的业务需求，选择更高的存储空间。选择步长为100GB。
