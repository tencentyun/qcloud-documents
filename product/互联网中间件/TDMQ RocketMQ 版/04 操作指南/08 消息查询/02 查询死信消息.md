## 操作场景

死信队列是一种特殊的消息队列，用于集中处理无法被正常消费的消息的队列。当消息在达到一定重试次数后仍未能被正常消费，TDMQ RocketMQ 版会判定这条消息在当前情况下无法被消费，将其投递至死信队列。

实际场景中，消息可能会由于持续一段时间的服务宕机，网络断连而无法被消费。这种场景下，消息不会被立刻丢弃，死信队列会对这种消息进行较为长期的持久化，用户可以在找到对应解决方案后，创建消费者订阅死信队列来完成对当时无法处理消息的处理。


## 查询限制

消息查询最多可以查询近3天的消息。



## 特性说明

- 当消息被投递到死信队列后，消息不会再被消费者正常消费。消息查询最多可以查询近3天的消息，请尽量在死信消息产生的的3天内进行处理，否则消息可能会被删除。
- 一个死信队列包含了对应的一个 Group 中所有 Topic 产生的所有死信消息。如果一个Group 中没有产生死信消息，则不会为其创建死信队列，也查询不到死信消息。



## 操作步骤

1. 登录 [TDMQ RocketMQ 控制台](https://console.cloud.tencent.com/tdmq/rocket-cluster) ，在左侧导航栏单击**消息查询**。
2. 在消息查询页面，选择好地域后根据页面提示输入查询条件。
   - 时间范围：选择需要查询的时间范围，支持近30分钟，近1小时，近6小时，近24小时，近3天和自定义时间范围。
   - 当前集群：选择需要查询的死信消息所在的集群。
     > ?当前仅支持查询**专享集群**下的死信消息。
   - 命名空间：选择需要查询的死信消息所在的命名空间。
   - Group：选择需要查询的死信消息所在的Group。
   - 消息ID：非必填。
     - 不填写消息ID：属于**模糊查询**。根据 Group ID 和死信消息产生的时间范围，批量查询该Group ID在某段时间内产生的所有死信消息。
     - 填写消息 ID：属于**精确查询**。根据Group ID与Message ID精确定位到任意一条消息。
3. 单击**查询**，下方列表会展示所有查询到的结果并分页展示。
![](https://qcloudimg.tencent-cloud.cn/raw/6462120fe9853a5e648e3e078d80d3c0.png)
4. 找到您希望查看内容或参数的消息，单击操作列的**查看详情**，即可查看消息的基本信息、内容（消息体）以及参数。
![](https://qcloudimg.tencent-cloud.cn/raw/d6b775e76dfde82e48e64d50d3352751.png)      
5. 单击操作列的**查看消息轨迹**，或者在详情页单击 Tab 栏的**消息轨迹**，即可查看该消息的消息轨迹（详细说明请参见 [消息轨迹查询结果说明](https://cloud.tencent.com/document/product/1493/81799)。
![](https://qcloudimg.tencent-cloud.cn/raw/1578c4fc6c451017b48644038be302c9.png)
