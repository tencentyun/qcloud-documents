

## 基本概念

工作流定义了业务逻辑描述以及执行过程所需要的通用信息。例如一个订单管理流程可能包含创建订单、处理支付、订单发货和通知用户等。在创建工作流后，您可以多次执行工作流，通常每次执行有不同的输入。例如用户每次下单会执行一次订单管理流程，执行的输入是订单信息。 

## 工作流配置

在工作流创建时，您需要指定以下信息：

- 工作流名 FlowServiceName ：必选，作为工作流的唯一标识名称，创建后不可修改。
- 类型 Type：必选，指定工作流的类型，创建后不可修改。
- 工作流定义  Definition：必选，工作流的定义，为JSON代码，创建后可修改。
- 角色资源  RoleResource ：可选，工作流运行角色， 授予工作流执行任务所需权限 。可以选择新建角色去执行。
- 工作流描述 Description：可选，可用于记录工作流相关作用等信息。
- 日志投递  EnableCLS ：可选，用户开启cls日志投递功能。

## 工作流类型

﻿在创建工作流工作流时，必须选择**标准**或**快速**的**类型**。在这两种情况下，都可以使用 [TCSL状态语言](https://cloud.tencent.com/document/product/1272/51544)  定义工作流。工作流的执行方式将有所不同，具体取决于选择的**类型**。创建后无法更改您选择的**类型**。

- **标准工作流**：适合运行时间长的工作流。最久可以运行1年，并可使用 [腾讯云 API](https://cloud.tencent.com/document/product/1272/49725) 检索完整的执行历史记录。标准工作流采用 **Exactly-Once** 模型，除非您在 TCSL 中指定了 **Retry** 逻辑，否则不会多次执行您的任务和状态。这样，它们就适合执行长时间或持续性检查点的任务/工作流程。常用于机器学习模型训练、视频转码、大数据任务、自动化运维等，时间较长的数据抽取清洗转换作业等场景 。
- **快速工作流**：适合需要快速启动、高执行并发的场景。最多可以运行五分钟。快速工作流使用 **At-Least-Once** 模型，在这种模型中可能会运行多次执行（虽然我们尽力避免宕机，但当执行引擎发生宕机后，我们会从头开始执行整个工作流）。适用于执行短时间，高发生频率，对计算性能和效率要求高的任务/工作流程。快速模式下，支持的并发会更高（10倍于标准模式）。常用于微服务/原子算法编排、流式数据处理/提取、机器学习模型推理、云函数编排等场景。 

**下表简要的对比了快速工作流和标准工作流的部分区别**

|            对比项        | 快速工作流            | 标准工作流            |
| ------------------ | ---------------------- | ---------------------- |
| 最大执行时长       | 5分钟                  | 1年                    |
| 默认执行时长       | 60秒                   | 1天                    |
| 执行语义           | At-Least-Once          | Exactly-Once           |
| 服务集成           | 支持所有腾讯云上的服务 | 支持所有腾讯云上的服务 |
| 支持的启动频率     | 较高                   | 较低                   |
| 支持的状态转换频率 | 较高                   | 较低                   |
