本教程将向您介绍如何开始使用边缘函数，通过演示创建一个简单的函数，实现请求重定向到其他URL，并返回自定义响应头。

## 准备工作
* 边缘函数归属于站点，因此使用边缘函数，您需要先创建站点。
* （可选）站点创建成功后，您可在此站点下创建用于函数测试的子域名。
## 创建并部署函数
登录 [边缘安全加速平台](https://console.cloud.tencent.com/edgeone) 控制台；
点击左侧导航栏 [边缘函数](https://console.cloud.tencent.com/edgeone/edgefunctions)；  
![菜单](https://user-images.githubusercontent.com/114125357/197441352-1272199e-2d41-4bf7-863d-3e3792655a8c.png)   

在边缘函数列表页，点击**新建函数**；
<img width="1784" alt="image" src="https://user-images.githubusercontent.com/114125357/197540226-9fa2a58a-4bcb-49d2-8fda-d59f0bfa18d2.png">  
* 函数名称：必填项，如：test-edgefunctions；
* 描述：非必填，如：自定义HTML页面和响应头；  

复制如下函数代码，将其粘贴到控制台的代码编辑器中，替换编辑器中的默认代码；
```
const testhtml = `<!DOCTYPE html>
<body>
  <h1>Hello World</h1>
  <p>This markup was generated by a TencentCloud  <br>EdgeOne Functions.</br></p>
  <a href="https://cloud.tencent.com/product/teo">边缘安全加速平台(TencentCloud EdgeOne)</a>
</body>`;

async function handleRequest(request) {
  return new Response(testhtml, {
    headers: {
      'content-type': 'text/html;charset=UTF-8',
       'test': 'Welcome to use Edge Functions.',
    },
  });
}

addEventListener('fetch', event => {
  return event.respondWith(handleRequest(event.request));
});
```
上述代码的语义为自定义HTML，并且添加自定义响应头 test：Welcome to use Edge Functions

点击**创建并部署**当弹窗提示如下所示，即表示部署成功。
![image](https://user-images.githubusercontent.com/114125357/197462205-077f355b-20c9-492e-81bb-64a9c4e76fd4.png)  



## 配置触发规则
创建并部署函数成功后，按照提示点击**新增触发规则**
![image](https://user-images.githubusercontent.com/114125357/197462253-abaa89b1-a155-455c-b341-83e49b8a741c.png)  

选择匹配类型为“HOST”、运算符为“等于”、值为您已添加的子域名，点击确定即可创建触发规则。  

## 验证边缘函数
### 前置操作
1. 您已创建了站点（已生效状态），且在此站点下已创建用于边缘函数测验的子域名；
2. 您已成功创建了边缘函数；
3. 您已成功创建了触发规则。
### 验证方式
验证函数是否按照预期运行，您可通过在浏览器或Curl发起请求测验：

* **浏览器验证**：在浏览器输入URL匹配已设置的触发条件触发函数的执行，执行结果如下：
![image](https://user-images.githubusercontent.com/114125357/197462592-ef6ba67a-b415-40b4-bf8d-fceaa106fc83.png)  

* **Curl验证**：  
![image](https://user-images.githubusercontent.com/114125357/197462669-f8b474d3-7cb7-4bb5-bc05-b6d779f02602.png)  

## 编辑边缘函数
如已部署的函数通过验证不符合您的预期，您可在 [边缘函数](https://console.cloud.tencent.com/edgeone/edgefunctions) 点击**详情**进入到函数信息页，点击**编辑**    
![image](https://user-images.githubusercontent.com/114125357/197463186-4483659d-7995-4121-922e-59d11d3deb60.png)  
修改代码后点击**保存并部署**，按照提示点击**确认部署**即可完成函数的编辑和再次部署操作。
![image](https://user-images.githubusercontent.com/114125357/197463225-37bd4a82-a837-4c4d-908a-9eeb6d8bda1e.png)   

