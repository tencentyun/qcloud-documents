本文通过示例创建一个简单的函数，实现请求重定向到其他 URL 并返回自定义响应头，来向您介绍如何使用边缘函数。

## 准备工作
- 边缘函数归属于站点，因此使用边缘函数，您需要先 [创建站点](https://cloud.tencent.com/document/product/1552/70788)。
- （可选）站点创建成功后，您可在此站点下 [创建用于函数测试](https://cloud.tencent.com/document/product/1552/70825) 的子域名。

## 步骤1：创建并部署函数
1. 登录 [边缘安全加速平台](https://console.cloud.tencent.com/edgeone) 控制台，在左侧导航栏中，单击**边缘函数** > **函数管理**。
2. 在边缘函数页面，单击**新建函数**。
3. 在新建边缘函数页面，配置相关参数，单击**创建并部署**。
![](https://qcloudimg.tencent-cloud.cn/raw/f9b5805c6877b099890b77b8585ae42e.png)
参数说明：
 - 函数名称：必填项，如：test-edgefunctions。
 - 描述：非必填，如：自定义 HTML 页面和响应头。
 - 函数代码：复制如下函数代码，将其粘贴到控制台的代码编辑器中，替换编辑器中的默认代码。
```typescript
const html = `
  <!DOCTYPE html>
  <body>
    <h1>Hello World</h1>
    <p>This markup was generated by TencentCloud Edge Functions.</p>
    <a href="https://cloud.tencent.com/product/teo">边缘安全加速平台 (TencentCloud EdgeOne)</a>
  </body>
`;

async function handleRequest(request) {
  return new Response(html, {
    headers: {
      'content-type': 'text/html; charset=UTF-8',
      'x-edgefunctions-test': 'Welcome to use Edge Functions.',
    },
  });
}

addEventListener('fetch', event => {
  event.respondWith(handleRequest(event.request));
});
```
>?上述代码的语义为自定义 HTML，并且添加自定义响应头 x-edgefunctions-test：Welcome to use Edge Functions。
>
4. 当弹窗如下对话框，即表示部署成功。
![](https://qcloudimg.tencent-cloud.cn/raw/c58b33c8e113ceb54401d89af0fb61d0.png)

## 步骤2：配置触发规则
1. 创建并部署函数成功后，按照提示单击**新增触发规则**。
2. 在新增触发规则页面，选择匹配类型为“HOST”、运算符为“等于”、值为您已添加的子域名，单击**确定**即可创建触发规则。  
![](https://qcloudimg.tencent-cloud.cn/raw/2d9b7bececc78c140c2617f6fe877277.png)

## 步骤3：验证边缘函数
### 前置操作
1. 您已创建了站点（已生效状态），且在此站点下已创建用于边缘函数测验的子域名。
2. 您已成功创建了边缘函数。
3. 您已成功创建了触发规则。

### 验证方式
验证函数是否按照预期运行，您可通过在浏览器或 Curl 发起请求测验：
- **浏览器验证**：在浏览器输入 URL 匹配已设置的触发条件触发函数的执行。

![](https://qcloudimg.tencent-cloud.cn/raw/089b02878ef4abd4ffce4fe948d909e4.png)

- **Curl 验证**。

![](https://qcloudimg.tencent-cloud.cn/raw/66f78ca4ab101658a46bc86c3eff36d5.png)

## 步骤4：编辑边缘函数（可选）
1. 如已部署的函数通过验证不符合您的预期，您可在 [边缘函数页面](https://console.cloud.tencent.com/edgeone/edgefunctions)，选择需要修改的函数，单击**详情**。
2. 在函数信息页面，单击**编辑**，修改代码后单击**保存并部署**。
![](https://qcloudimg.tencent-cloud.cn/raw/0203a7d96fcda48b83ff6f47d5dcb60e.png)
3. 按照提示单击**确认部署**，即可完成函数的编辑和再次部署操作。<br><img src="https://qcloudimg.tencent-cloud.cn/raw/7bbbbbb67fbbf79f9e5d7f5f7b0f0b63.png" width=650px>
