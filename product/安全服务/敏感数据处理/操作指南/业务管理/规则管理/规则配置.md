规则指 DMask 针对每种类型的数据的定制化脱敏方案。脱敏任务都可能会有多种数据类型，每次脱敏可能会用到多个规则，将常见脱敏任务的规则进行整合，即为规则集。
规则配置，即对规则集进行管理与配置。
## 登录控制台
1. 登录 [数盾控制台](https://console.cloud.tencent.com/cds)，在左侧导航单击【敏感数据处理】，进入管理页面。
 ![1](https://main.qcloudimg.com/raw/363ff52438bb3614428e63035685c16c.png)
2. 找到需要管理的实例所在行，单击【管理】，进入数盾 DMask 系统登录页面。
 ![2](https://main.qcloudimg.com/raw/5e61fe9aa155318c9dbfbae77fbc78ec.png)
3. 以 useradmin 角色账号登录数盾 DMask 系统。
 ![3](https://main.qcloudimg.com/raw/e830368b923e13255cbbcc0a487ae2da.png)
4. 在左侧导航栏中，单击【规则管理】>【规则配置】，进入管理页面。
 ![4](https://main.qcloudimg.com/raw/7958a41a8cdd56ac9be32619e6522d4f.png)

## 新增规则集
1. 规则配置页面的每行为一个规则集，系统默认配置了一个规则集。单击【+ 添加】，进入添加页面。
 ![](https://main.qcloudimg.com/raw/992212a40c412d3bb15095b8cbda98af.png)
2. 填写规则名称和备注信息，确认是否启用规则。
 - 每个规则集在新建时，默认配置 20 个规则，分别是手机、身份证、银行卡号、车牌、IP、email、XML、URL、标准日期、标准地址、公司名、中国人名、工商注册号、纳税识别号、组织机构代码、性别、宗教信仰、军官证、MAC 地址、驾驶证号的脱敏方案。
 - 当您不清楚脱敏算法效果时，可单击算法下拉框左下方的问号，查看效果说明。
 - 默认规则正则表达式复杂，删除后还原困难，因此，默认规则不可删除，但是可以停用。
 - 当您停用或修改默认规则过多，又需要还原时，单击【默认字段还原】，即可将默认规则还原为初始状态。

 ![](https://main.qcloudimg.com/raw/6543b005465a09d10fd6597bbbc46679.png)
3. 当您需要新增自定义字段的脱敏规则时，单击字段规则行的【+ 新增】。
 ![](https://main.qcloudimg.com/raw/8bdb630f6b72be652d0f67425d79cdde.png)
4. 系统将在列表底部新增一行，用于配置该字段的脱敏规则。填写内容说明如下：
  - 正则表达式：通过正则为敏感字段配置发现规则。
 - 敏感字段类型：用于给敏感字段命名，名字在一个规则集内不可重复。
 - 主外键脱敏算法：当脱敏数据为主键或者外键时，所采用的脱敏算法。仅提供令牌化、格式保留、全保留三种脱敏算法。
 - 非主外键脱敏算法：当脱敏数据不是主键或者外键时，所采用的脱敏算法。可使用系统提供的任意算法，用户自定义的脱敏算法，也将出现在此下拉菜单中。

 ![](https://main.qcloudimg.com/raw/f39a2d45d9c1ff8078eabb45a71678c5.png)
5. 单击【提交】即可。

##  修改规则集
1. 在“规则配置”页面，找到需要修改的规则集所在行，单击【修改】。
 ![](https://main.qcloudimg.com/raw/00a00ab39f1545718c6cb02cabb3fa56.png)
2. 在“修改规则”页面，编辑规则集信息。
 ![](https://main.qcloudimg.com/raw/c5f07b21d0cd93a3c0428a00ca964eca.png)
3. 单击【提交】即可。

## 删除规则集
1. 在“规则配置”页面，找到需要删除的规则集所在行，单击【删除】。
 ![](https://main.qcloudimg.com/raw/3b6d26456a734d3ad2983215592bdba9.png)
2. 单击【确认】即可。
 ![](https://main.qcloudimg.com/raw/baa9ae4367b1538c71e2b22a43254446.png)
