## 概述
### 手游现状
#### 市场规模
根据第三方数据统计，国内移动游戏在 2016 年的市场收入规模已达 1,022.8 亿人民币。伴随着网络游戏的兴起， 游戏虚拟社交系统、PVP 系统、高价值的游戏经济系统在手游中越来越普遍，使得手游行业面临着巨大的安全风险。据腾讯天御安全估计，国内手游市场因外挂导致的经济损失达 45 亿人民币。
#### 安全风险
目前，手游市场中的修改器、变速器、破解版等作弊手段层出不穷，对游戏造成了巨大伤害，游戏面临的主要安全风险和危害如下：
![安全风险](https://mc.qcloudimg.com/static/img/dd32362b46c1e65d042782f1a532690b/image.png)
由上图可以看出，手游的外挂类型多种多样，对游戏造成了严重的影响：
- 严重影响游戏平衡性：外挂给使用外挂的玩家带来巨大的利益，最大的特点就是影响游戏的平衡性，；
- 游戏大量玩家流失：没有使用外挂的玩家和使用外挂的玩家相比，处于明显劣势。如果玩家对游戏的安全环境感到失望，就会逐渐流失；
- 游戏生命周期缩短：混乱的游戏环境，导致玩家流失，大大缩短了游戏的生命周期；
- 企业收入降低：外挂会导致游戏的经济系统混乱，大幅降低企业的收入。

除了上面列举的危害之外，外挂对游戏企业的口碑等方面也有不可估量的危害。 因此，解决手游安全问题刻不容缓。
### 手游反作弊简介
手游反作弊 MTP 是腾讯云移动安全与腾讯手游安全团队在多年经验积累基础上，开发的一套轻量级移动游戏安全解决方案。手游反作弊 MTP 方案专门针对手游安全问题，在对游戏进行全面有效的安全保护同时对游戏的影响降到最低，针对性、兼容性和稳定性都很强。

手游反作弊 MTP 接入流程简单清晰，接入方只需要按照指引即可快速完成 SDK 的接入、验收。通过手游反作弊方案，可实现对调试器、修改器等进行实时对抗，加固后可以有效的防止破解版，同时可以获得全面的游戏安全运营数据。

手游反作弊 MTP 的 SDK 方案针对外挂的各种作弊方式进行有针对性的对抗，保护游戏安全。
## 优势
手游反作弊 MTP 的优势主要包括以下三点：
### 稳定
近百款手游，上亿用户量持续稳定运行，尤其在王者荣耀、酷跑等千万 DAU 级别的游戏上表现稳定。
### SDK 多语言支持
SDK 全面支持 Android、iOS 系统上的 Java 接入、C++ 接入、C# 接入等各种版本；
### 多游戏引擎适配
全面支持 Unity3D、Cocos 2D、虚幻 4 等各种游戏引擎。

## SDK 介绍
### SDK 总体方案
SDK 目前主要包含主动防御模块的防修改器和防变速器。详细描述参见 [SDK 特色功能](#SDK 特色功能)。
SDK 除了安全保护功能外，对性能也进行了不断优化，在流量使用、内存占用、CPU 使用上不断压缩，尽量将对游戏的影响降到最低。
<a id="SDK 特色功能"></a>
### SDK 特色功能
#### 完整接入仅需 0.5 天
SDK 对外封装为两个简单的接口调用，游戏在接入 SDK 时候只需要选择正确的 SDK 版本，在合适的位置对两个接口进行调用，将运行日志在控制台上上传完成自助验收，便可以轻松完成 MTP 的接入。
手游反作弊 MTP 接入平均仅需要 0.5 天。相对于游戏研发周期，0.5 天的接入成本较低，手游反作弊 MTP 真正做到了 **0.5 天的付出，365 天的守护 **。

#### 防修改器功能
市场上的修改器种类众多，葫芦侠、烧饼、八门神器、GG 修改器、晃游修改器等层出不穷。如果不针对修改器进行防护，作弊者可以使用修改器轻松地修改游戏数据，金币、生命值、攻击力等重要数据都是容易被修改的对象。

手游反作弊的 SDK 针对修改器的常用手段进行针对性对抗，能够在修改器发挥作用时，迅速发现问题，并将游戏退出，以保护游戏。作弊者面对这种情况，往往会推出各种外挂版本和外挂变种，手游反作弊 MTP 方案会提取外挂的核心特征，即使面对外挂变种，SDK 也能够准确识别。

#### 变速器检测
变速器分为加速、减速两种情况，加速可以节省玩家时间，减速可以降低游戏难度，因此，变速器的使用会严重影响游戏的平衡性。
下图展示了手游玩家使用变速器时候的场景：
![使用变速器](https://mc.qcloudimg.com/static/img/ed9d5e72de871a8d96e9623efdabbdc7/image.png)
变速器的实现原理通常是通过 Hook 来修改 Libc.so 库中的时间相关的函数，例如 gettimeofday，clock_gettime 等。
手游反作弊的 SDK 对变速器的各种实现原理进行深入分析，对变速器的变速行为进行全面监控，发现变速器发挥作用时，立即退出游戏。此外，在防变速器时，SDK 也具有防变种功能，面对修改器变种，SDK 也能够准确识别。
## 使用效果展示
下图展示了在玩家试图使用熊队侠修改器（葫芦侠修改器的变种）修改王者荣耀的游戏数据时，手游反作弊 MTP 会检测到修改器修改内存，立即退出游戏，保护游戏安全。
![效果展示](https://mc.qcloudimg.com/static/img/d27ed0a4743ed4b20d07d1934fa6afd3/image.png)
