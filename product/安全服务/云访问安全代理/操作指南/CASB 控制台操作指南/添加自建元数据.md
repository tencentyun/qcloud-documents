如果您需要添加腾讯云云数据库产品以外的自建数据库实例，可参考本文档内容进行添加，在进行添加之前，需要获取自建数据库的基础信息，包括 IP 地址、子网地址、私有网络等相关信息。

## 前提条件
- 已注册 **腾讯云**，并已购买 **云访问安全代理服务实例**。详情可以参考云访问安全代理的 [快速入门](https://cloud.tencent.com/document/product/1303/47856)。
- 已获取自建数据库的 IP 地址、子网地址、私有网络等相关信息，同时相对应的子网中含有可用的 IP 配额。
- 需要在自建数据库所在 vpc 下有空闲的20网段可用。

## 约束条件
目前能添加云访问安全代理支持的数据库类型及版本，其中所支持的数据库详情如下表：

| 数据库类型 | 版本          |
| ---------- | ------------- |
| MySQL      | 5.6、5.7、8.0 |
| PostgreSQL      |  postgre 9.3.5 |

## 操作步骤
1. 登录 [云访问安全代理控制台](https://console.cloud.tencent.com/casb)，单击实例菜单下的【实例列表】，进入实例列表页面。
![](https://main.qcloudimg.com/raw/b07241931dd1c6c36bc091db902e4787.png)
2. 在实例列表页面，单击左上角的“区域下拉框”，切换区域。
![](https://main.qcloudimg.com/raw/dfb74dc2bd7e809da22f2f0259f8fbe3.png)
3. 在左侧导航菜单栏中，单击元数据管理菜单下的【关系型元数据】，进入关系型元数据总览页面。
![](https://main.qcloudimg.com/raw/35abfec3265505b16c6a242e4ab6bf48.png)
4. 在关系型元数据总览界面中，单击 【新建自建元数据】，弹出新建自建元数据的对话框。
![](https://main.qcloudimg.com/raw/43db4b7862f9d96971b006a0e1c4464b.png)
5. 在新建自建元数据的对话框中，填入配置项中的参数，单击【确定】完成参数配置。
 ![](https://main.qcloudimg.com/raw/9ee12f821ac3d3dd36b16c2abcdc0eeb.jpg) 

**参数列表：**

| 参数名称   | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| 元数据名称 | 自定义参数，最小0字节，最大60字节。（可选）                                                 |
| 元数据类型 | 目前只支持 MySQL 类型的数据库。                                |
| 云产品     | 支持的云产品 cvm、lb。                                        |
| 选择实例   | **“云产品”** 中选择“cvm”时，会自动拉取 cvm 实例信息；选择 lb 时，会自动拉取 lb 实例信息。根据实际情况选择对应云产品。 |
| IP         | 云产品实例对应的 IP 地址。                                     |
| 私有网络   | 根据实例信息自动填充实例的私有网络信息。                     |
| 子网       | 根据实例信息自动填充实例的子网信息。                         |
| 端口       | 根据实际情况输入数据库服务监听的端口号。                     |
| 用户名     | 用于登录数据库的账号名。                                     |
| 密码       | 用于登录数据库的账号名对应的密码。                           |
| 测试连通性 | 测试数据库的连通性，检测是否能正常访问。                       |
| 描述       | 自定义参数，最大1024字节。（可选）                                                  |
