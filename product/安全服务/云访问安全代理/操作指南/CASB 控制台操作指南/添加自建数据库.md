## 添加自建数据库
如果您需要添加腾讯云云数据库产品以外的自建数据库实例，可参考本文档内容进行添加，在进行添加之前，需要获取自建数据库的基础信息，包括 IP 地址、子网地址、私有网络等相关信息。

## 前提条件
- 已注册 **腾讯云**，并已购买 **云访问安全代理服务实例**。详情可以参考云访问安全代理的 [快速入门](https://cloud.tencent.com/document/product/1303/47856)。
- 已获取自建数据库的 IP 地址、子网地址、私有网络等相关信息，同时相对应的子网中含有可用的 IP 配额。
- 需要在自建数据库所在 vpc 下有空闲的20网段可用。

## 约束条件
目前能添加云访问安全代理支持的数据库类型及版本，其中所支持的数据库详情如下表

| 数据库类型 | 版本          |
| ---------- | ------------- |
| MySQL      | 5.6、5.7、8.0 |

## 操作步骤

1. 登录 [云访问安全代理控制台](https://console.cloud.tencent.com/casb)。
2. 单击左上角的区域下拉框，切换区域
3. 在左侧导航菜单栏中，单击 **元数据管理** > **关系型元数据**，进入关系型元数据总览界面。
4. 在总览界面中，单击 **新建自建数据库**。
5. 在弹出的新建自建数据库的对话框中，填入配置项中的参数，参数详细描述参考[参数列表](#test1)。
   图1 添加自建数据库：
   ![](https://main.qcloudimg.com/raw/8521cd90f070dcb5cca614d54368f1cf.png)

参数列表：
<span id="test1" ></span>

| 参数名称   | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| 元数据名称 | 自定义参数                                                   |
| 元数据类型 | 目前只支持 MySQL 类型的数据库。                                |
| 云产品     | 支持的云产品 cvm、lb。                                        |
| 选择实例   | **“云产品”** 中选择“cvm”时，会自动拉取 cvm 实例信息；选择 lib 时，会自动拉取 lib 实例信息。根据实际情况选择对应云产品。 |
| IP         | 云产品实例对应的 IP 地址。                                     |
| 私有网络   | 根据实例信息自动填充实例的私有网络信息。                     |
| 子网       | 根据实例信息自动填充实例的子网信息。                         |
| 端口       | 根据实际情况输入数据库服务监听的端口号。                     |
| 用户名     | 用于登录数据库的账号名。                                     |
| 密码       | 用于登录数据库的账号名对应的密码。                           |
| 测试连通性 | 测试数据库的连通性，检测是否能正常访问                       |
| 描述       | 自定义参数                                                   |
