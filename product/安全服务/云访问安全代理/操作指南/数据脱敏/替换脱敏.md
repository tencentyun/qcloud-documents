本文档将为您介绍在控制台中创建类型为 **替换脱敏** 的脱敏算法，具体步骤如下。


## 前提条件

- 已获取 [云访问安全代理](https://console.cloud.tencent.com/casb) 控制台的登录账户与密码。

## 操作步骤
1. 登录 [云访问安全代理控制台](https://console.cloud.tencent.com/casb)，单击左上角的区域下拉框，切换区域。
2. 在左侧导航菜单栏中，单击 【数据脱敏】> 【脱敏算法】，选择该区域下的实例，进入脱敏算法管理页面。
![](https://main.qcloudimg.com/raw/d4be5fb5b9392f2ca0adc5b24445026d.png)
3. 在脱敏算法总览页面中，单击 【新建脱敏算法】，输入所需参数单击【确定】，即可完成算法的创建。
>?替换脱敏相关参数说明，请参见下文 [参数说明](#CSSM)。
>
![](https://main.qcloudimg.com/raw/b4cf70e21d376b8b0b74a9af832b1cc4.png)


### 参数说明[](id:CSSM)
#### 1. 基本信息

| 参数名称   | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| 算法名称   | 算法的名称，长度1~50个字符。                               |
| 来源       | 自定义算法，系统会自动填充。                         |
| 描述       | 可选参数，长度为0~100个字符。用于该算法的备注信息，区别于其他自定义算法。 |

#### 2. 算法配置
| 参数名称   | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| 算法类型       | 选择算法的具体类型。<br>鉴于本文是描述替换脱敏，故选择 **替换脱敏**。 |
| 替换类型       | 选择替换脱敏规则中的类型，其中系统会根据算法类型提供对应的替换规则。<br>替换规则支持 **正则匹配**、**关键字替换**、**身份证映射替换**、**身份证随机替换**、**保留格式映射替换**。                         |

- **情况一**
  替换规则选择为： **正则匹配**；<br>规则说明：对于输入字符串中的内容，可以被正则所匹配的部分，将会使用替换字符串进行替换。

| 参数名称   | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| 正则表达式       |正则表达式需由正则表达式字符串组成，如：[0-5A-Z]。                      |
| 替换字符串       |用于替换的字符串内容，非空。                      |

- **情况二**
  替换规则选择为： **关键字替换**。<br>算法描述：输入字符串的内容与 **关键字** 相同的部分，将会使用替换字符串进行替换。

| 参数名称   | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| 关键字       |输入所需的关键字内容，非空。                      |
| 替换字符串       |用于替换的字符串内容，非空。                      |

- **情况三**
替换规则选择为： **身份证映射替换**；<br>算法描述：（18位）前6位根据映射表进行映射，7-14位以 **起始出生日期**  和 **结束出生日期**   为区间随机替换，15-17位不变，第18位动态生成校验码；（15位）同理，替换前6位地区和第7至12位生日。

| 参数名称   | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| 起始出生日期       | 起始出生日期需由数字组成，长度8个字符，如：19000101。若为空，默认使用19000101。 |
| 结束出生日期       | 结束出生日期需由数字组成，长度8个字符，如：21000101。若为空，默认使用21000101。 |
| 映射表       |行政区划映射表需由如下格式字符串组成：{"320101":"321322", "320102":"320801"}                      |

- **情况四**
替换规则选择为： **身份证随机替换**。<br>算法描述：（18位）前6位使用随机地区码替换，7-14位以 **起始出生日期**  和 **结束出生日期**   为区间随机替换，15-17位不变，第18位动态生成校验码；（15位）同理，替换前6位地区和第7至12位生日。

| 参数名称   | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| 起始出生日期       |起始出生日期需由数字组成，长度8个字符，如：19000101。若为空，默认使用19000101。                     |
| 结束出生日期       |结束出生日期需由数字组成，长度8个字符，如：21000101。若为空，默认使用21000101。                      |

- **情况五**
替换规则选择为： **保留格式映射替换**。<br>算法描述：根据映射表，对输入字符串进行映射替换，匹配到表中的键的字符用对应值替换，否则不变。

| 参数名称   | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| 映射表       |输入保留格式映射表。若为空，使用默认映射表。<br>保留格式映射表需由如下格式字符串组成：{"A":"I","B":"P","d":"g","e":"h","0":"6","1":"7","#":"/"}。                      |


#### 3. 测试验证
数据输入完成之后，单击 【测试】，即可完成测试验证。

| 参数名称   | 参数说明                                                     |
| ---------- | ------------------------------------------------------------ |
| 原始数据     | 输入待验证的字段。                                           |
| 验证     | 基于算法的配置、输入的字段，展示输出脱敏后的结果内容。           |

