## 类型概述
腾讯云提供两种类型的云上 WAF，SaaS 型 WAF 和负载均衡型 WAF。两种 WAF 的安全防护能力基本相同，但接入方式不同，适用场景不同，您可以根据实际部署需要选择不同类型的 WAF。

| 类别 | SAAS 型 | 负载均衡型 |
|---------|---------|---------|
| 适用场景 | 适合所有用户（云上用户或本地 IDC 用户），通过 DNS 解析调度实现域名接入。 | 腾讯云上已使用或计划使用七层负载均衡的用户，可通过腾讯云底层联动实现流量调度。 |
|核心优势|适用范围广阔，广泛覆盖腾讯云上和非腾讯云上用户。|<li>无感知接入，毫秒级延迟，WAF 接入不需要调整现有的网络架构。</li><li>网站业务转发和安全防护分离，一键 bypass，保障网站业务安全、稳定可靠。</li><li>支持多地域接入。</li>|
|如何选择|若用户在腾讯云上和本地均有网站需要防护需求，或腾讯云上未使用七层负载均衡，推荐使用 SAAS 型 WAF。|若用户已上腾讯云，已使用或计划使用是腾讯云负载均衡，对延迟敏感、稳定要求高，推荐使用负载均衡型 WAF。|

## SaaS 型 WAF
WAF 通过 DNS 将域名解析到 WAF 集群提供的 CNAME 地址上，并通过 WAF 配置源站服务器 IP ，将流量转发到后端 Web 服务器，实现域名恶意流量清洗和过滤，将正常流量回源到源站，保护网站安全。
![](https://main.qcloudimg.com/raw/500867d4463c19f31fbbf523c38f2644.png)
## 负载均衡型 WAF
WAF 和腾讯云负载均衡集群进行联动，将负载均衡的 HTTP/HTTPS 流量镜像到 WAF 集群，WAF 进行旁路威胁检测和清洗，将用户请求的可信状态同步到负载均衡集群，进行威胁拦截或放行，实现网站安全防护。
![](https://main.qcloudimg.com/raw/10590291f47edc5b26ad1a9f3348cf42.png)
负载均衡型 WAF 提供两种流量处理模式：
- **镜像模式**：通过域名进行关联，CLB 镜像流量到 WAF 集群，WAF 进行旁路检测和告警，不返回请求可信状态。
![](https://main.qcloudimg.com/raw/2fe27df05354c1252c930e4455fec1ef.png)
- **清洗模式**：通过域名进行关联，CLB 镜像流量到 WAF 集群，WAF 进行旁路检测和告警，同步请求可信状态，CLB 集群根据状态对请求进行拦截或放行处理。
![](https://main.qcloudimg.com/raw/0e62defb24d023951f0c4eeecc7c88f5.png)


