## RefText 文本录入说明
### 评测文本组成
评测头部主体由**单词/汉字或者单词/汉字+发音块**的序列组成。此外，亦可包含**可选的命令块与发音块**。**命令块**可在部分模式下实现附加功能的开关，以此来拓展评测返回的参数。**发音块**可用于自定义单词/汉字的发音。除上述字符之外其他所有字符、标点均会被过滤（过滤规则见下文“RefText 文本过滤规则”）。评测文本均不区分大小写。

不同评测模式的评测文本格式如下：

|        **类型**    |               **格式**                          |                       **说明**                                         |
| -------- | ------------------------------------- | ------------------------------------------------------------ |
| 单词     | <命令块>一个单词/汉字<发音块>组成 | 描述块用来描述单词/汉字的某些评测信息，例如自定义发音或者其他 |
| 句子     | <命令块>多个单词/汉字<发音块>组成 | 描述块用来描述单词/汉字的某些评测信息，例如自定义发音或者其他 |
| 段落     | <命令块>多个单词/汉字组成         |             -                                                 |
 
 | 描述块类型 | 语法格式                                                     | 说明                                                         |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 命令块     | {::cmd{f1},{f2}}<br>具体应用：<br>（1）开启音素到字母的映射功能：使用控制命令“F_P2L=true”，可在<strong>单词模式、单词实时模式、单词音素纠错模式</strong>下开启该功能。<br>（2）开启拼音声调检测功能：使用控制命令“F_TDET=true”可在<strong>拼音模式</strong>下开启该功能。 | 定义控制内容，可以包含一个或者多个控制命令，需要用户传递评测文本时在文本头部加入完整的命令描述块。 |
| 发音块     | 单词/汉字{::pron {p1,p2..},{p3,p4..}..}<br>具体应用：<br>（1）指定汉字发音："RefText":'{"wordlist": [{"word": "钢","pron": [["gang1"]]},{"word": "镚","pron": [["beng4"]]}]}'<br>（2）指定单词发音："RefText":'{"wordList":[{"word":"spout","pron":[["s","p","ao","t"]]}]}' | 定义单词的发音，可以包含一个或者多个发音单元为音素，用户需要将指定发音的 IPA（英语国际音标）通过 IPA-音素映射表进行转换（映射表请查看：[音素标注](https://cloud.tencent.com/document/product/884/33698)）。定义汉字的发音，仅可以指定一个有效拼音。 |

### RefText 转换标准（英语）

| **单词类型** | **组成元素**          | **内部转换**                                                 | **示例**                                            |
| ------------ | --------------------- | ------------------------------------------------------------ | --------------------------------------------------- |
| 普通单词     | a-z,0-9的组合         | 不转换                                                       | apple                                               |
| 单词缩写     | 包含一个"'"的单词     | 不转换                                                       | it's                                                |
| 常见组合词   | 由"-"连接的两个单词   | 对常见组合词不转换；对 OOV 组合词，单词模式不转换，其他模式拆分为两个单词 | bye-bye                                             |
| 整数         | 数字序列              | 0 - 99 转换为对应单词，其他转换为数字序列                    | 23→twenty three<br>123→one two three                    |
| 浮点数       | 包含一个"."的数字序列 | 分别将整数和小数部分转换为数字序列，小数点转换为"point"      | 1.23→one point two three                            |
| 数字组合词   | 包含"-"的数字序列     | 去除"-"转换为纯数字序列                                      | 86-130→eight six one three zero                     |
| 序数词       | 1st - 99th            | 转换为对应的单词                                             | 1st→first                                           |
| 时间         | 小时+":"+分钟         | 按照英语顺序读法转换                                         | 09:00→nine o'clock<br>09:05→nine o five<br>09:40→nine forty |

### RefText 文本过滤规则

1. 我们支持 GBK 编码集内的所有文本，并对下述符号进行了过滤（即 RefText 中可以出现下述符号，且不会影响评测结果）：
～﹜﹚＇＝＋″々°ˇ〕＆─℃﹩＂`】﹙/〖’﹨[=﹣﹟′”＊『#』%‖〔￥:¨〈—－「〉」＃*〗( 〃＞+﹝【‘“·^.&﹦…＄﹤﹞％]<>)(（）~_——-$"﹪﹥﹢﹡﹠﹑﹛ˉ＜／'、。？！，；：?!,;﹐﹒﹔﹕﹖﹗．》《
注：个别评测模式下，上述符号可能会影响评测结果。当出现冲突时，以上方表格“评测文本要求”一列中的描述为准。
2. 不支持当前评测模式以外的语言（如日、韩语等），不支持填写开发语言（如前端语言）。
3. {}大括号只用于指定发音的情况，所以出现{}大括号时，一定要保证指定发音格式完整。

### RefText 字符限制说明
对于长期合作的大客户，我们可以根据实际情况放宽每个模式的评测字符限制和收音时长限制，如有需要请联系 [在线客服](https://cloud.tencent.com/online-service?from=doc_884) 进行申请。

### 拼音评测说明
拼音评测无法正常评测 ü，需要使用 v 代替。当 ü 与 jqxy 拼读需要使用 u，例如 ju1。当与 üe，ün 拼读，需要使用 u，例如 nue1。
### 阿拉伯数字说明
阿拉伯数字在不同评估语言发音不同。例如数字1，在英文模式下为 one，中文模式下为一。


