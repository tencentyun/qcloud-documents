流计算 Oceanus 作业有5种操作方式：发布、运行、暂停、继续、停止。本文将对这5个作业操作进行概览解析与讲解。

## 发布
### 概念解析
流计算作业的"发布"操作成功后，会进入"运行中"状态。此时，可以对其进行运维操作（例如暂停、停止等），查看各项运行时的监控指标。当作业被"暂停"后，可以通过“继续”从暂停的状态恢复。

### 操作步骤
在草稿中完成作业开发后，单击**发布并启动运行**即可发布新版本并将其提交至系统启动运行。新版本的版本编号由系统自动生成，用户需输入版本说明并选择运行策略。

若线上没有运行中或暂停状态的作业，则可以直接启动运行。若线上有运行中的作业，则需要选择停止作业，丢弃状态数据后重新启动运行，或者暂停作业，保留状态数据，用此状态数据继续运行。
![](https://main.qcloudimg.com/raw/e0bdde0268eac10f9397fa2b0bf14912.png)

## 运行
### 概念解析
作业的“运行”操作与“停止”相对应，表示全新启动一个新的作业运行实例。对于已经运行中的作业，若再次启动运行，可以选择先停止线上运行中的作业，丢弃作业状态数据，重新启动运行，也可以选择暂停线上作业，保留作业状态数据，再继续运行。

### 操作步骤
当一个作业进入“停止”状态后，如果需要继续运行，可在流计算的**作业管理 > 操作**中单击**更多**，然后在下拉菜单中选择**运行**。随后，作业的状态会变成“操作中”。一段时间后，最终状态会变成“运行中”，此时表示作业已经启动成功。

### 特别提示
在作业的操作过程中，如果遇到任何异常情况，则会回退到作业的实际状态（例如，如果作业在暂停时异常退出，则状态会显示为“停止”；如果作业暂停不成功，且仍在运行，则回退到“运行中”），并在状态栏右侧显示一个三角形的叹号⚠，当鼠标移过时，会显示出具体的报错信息。

对于常见的错误信息会有对应的操作建议，效果如下图：
![](https://main.qcloudimg.com/raw/81b23104716cdf038efd14685cab8fbc.png)
如有全英文报错信息，不便理解时，您可通过 [售后在线支持](https://cloud.tencent.com/online-service?from=connect-us) 咨询，我们会持续优化报错信息的展示。

> ! 在作业的运行过程中，请务必谨慎修改上下游对接产品的配置，包括但不限于对 CKafka 数据源和数据目的所使用的 Topic 做删除、扩容；以及对 MySQL 数据源和数据目的所使用的库表做锁表、修改表结构、新增约束、停机等，否则会对正在运行的流计算作业造成影响，导致数据不完整或作业异常。

## 暂停
### 概念解析
作业的“暂停”，表示创建一个快照点（checkpoint），以保存作业当前的运行状态（数据源消费的偏移量、运行中的状态数据，以及数据目的的一些信息等），然后结束这个作业的运行。用户可以稍后从这个暂停点进行恢复。

### 操作步骤
当一个作业处于运行中状态时，可在流计算的**作业管理 > 操作**中单击**更多**，然后在下拉菜单中选择**暂停**。随后，作业的状态会变成“操作中”。一段时间后，最终状态会变成“暂停”，此时表示作业已经成功被暂停。

## 继续
### 概念解析
作业的“继续”操作与“暂停”相对应，表示将作业从上次暂停的快照点恢复，作业的各种状态也会和暂停前保持一致，然后开始继续数据处理过程。

> !如果上游数据源的消费偏移量所处的位置已经无法消费（例如，在消费 CKafka 时，超过了消息过期时间，之前的旧数据已经过期），那么仍然会导致部分数据丢失。因此，请确保暂停的时间不要超过外部数据源中数据的过期时间。

### 操作步骤
当一个作业进入“暂停”状态后，如果需要继续运行，可在流计算的**作业管理 > 操作**中单击**更多**，然后在下拉菜单中选择**继续**。随后，作业的状态会变成“操作中”。一段时间后，最终状态会变成“运行中”，此时表示作业已经恢复成功，正在从上次停下的快照点开始，继续开始处理数据。

## 停止
### 概念解析
作业的“停止”操作表示终止它的执行，并**丢弃**所有运行时的状态。
> !如果您希望保留作业当前的运行状态，并让作业下次启动时从上次停下的地方开始消费，请不要选择停止操作，而要选择上文提到的“暂停”。

### 操作步骤
当一个作业进入“运行中”状态后，如果需要停止，可在流计算的**作业管理 > 操作**中单击**更多**，然后在下拉菜单中选择**停止**。作业的状态即会变成“操作中”。一段时间后，最终状态会变成“停止”，此时表示作业已经完全停止运行。
