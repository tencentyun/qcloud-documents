

## 背景
在线推理服务除了内置的镜像环境外，支持用户自定义的推理镜像，用户可以方便灵活的部署已有的镜像为在线推理服务；

## 自定义镜像限制及建议

1. 在线推理服务端口限制为8501；
2. 服务必须以HTTP协议接受请求，并且只支持POST方法;
3. 自定义的代码及数据**不能**置于 /data/model 目录，否则会被平台覆盖；
4. dockerfile 文件中必须包含启动命令;

## 自定义运行环境准备步骤
1. 本地配置 docker 环境，并开通 [腾讯云容器镜像服务](https://console.cloud.tencent.com/tcr/instance?rid=1);
2. 创建命名空间及新建个人镜像仓库；
3. 编译自定义推理镜像，推送到个人镜像仓库；
4. 在启动模型服务时，实例容器栏选择不使用模型文件，选择运行环境进入个人镜像仓库列表，选择上一步推送的自定义镜像环境；
5. 配置好参数，启动服务。

