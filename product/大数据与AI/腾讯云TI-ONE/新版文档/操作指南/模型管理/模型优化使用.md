模型优化是 TI 平台模型推理加速的模块，使用了 TI-ACC 的能力，可对模型仓库里纳管的模型进行推理优化加速，降本增效，目前限时免费，但模型优化后的模型仅能支持在 TI 平台模型服务进行推理服务使用。

## 优化任务列表
优化任务列表中可查看优化任务名、优化进度以及加速比等信息，并支持对优化后的模型进行保存到模型仓库等操作。优化进度会包含“启动中”、“加速中”、“加速完成”等状态，一般该过程需要持续几分钟的时间。
![](https://qcloudimg.tencent-cloud.cn/raw/4bd5c881feabe498ba695b2022b51b59.png)

-	支持对优化中（启动中、加速中）的任务进行停止，单击**停止**按钮，此任务即被停止。
-	支持对加速完成的任务进行保存和发布服务，单击**保存到模型仓库**按钮，此优化任务得到的优化模型和推理脚本以及配置文件即保存到模型仓库优化模型列表页面。
-	支持对加速失败的任务进行重新加速，单击**更多** > **重新加速**按钮，可对该优化任务进行重新编辑和加速。
-	支持对优化任务进行删除，单击**删除**按钮，此任务即被删除。
-	支持对标签进行编辑，单击**编辑标签**按钮，可进行标签编辑。

## 新建优化任务
当模型格式支持 TorchScript 、 Detectron2 和 ONNX 格式，参考如下指引进行接入。
![](https://qcloudimg.tencent-cloud.cn/raw/7502f56d27bb28a6870520be595e2106.png)
1. 输入**任务名称**。
2. 选择**模型来源** ，与模型仓库的模型来源字段一致，会在模型名称根据选择的模型来源进行对应的筛选。
3. 选择**模型名称** ，即待优化的模型。
4. 选择**模型版本** ，即待优化的模型版本。
5. 选择**模型文件**，即待优化的具体模型文件，模型文件一般以.pt或.pth结尾。
6. 优化级别可以选择 FP16 或无损**两种方式**，无损代表使用模型原始精度进行优化，FP16 代表转为 FP16 精度进行优化，FP16 一般不会造成精度下降
7. 输入 **Tensor 信息**， 并可以添加多个 Tensor 信息，Tensor 信息有三种情况，固定维度、动态连续、动态离散。固定维度：input_name[tensor_name]:type(shape)，如input_0[image]:float(3 \* 1024 \* 1024)；动态连续维度：input_name[tensor_name]:type(shape_min，shape_max)，如input_0[image]:float(3 \* 1024 \* 2048,3 \* 2048 \* 2048)；动态离散维度：input_name[tensor_name]:type([shape1，shape2，..shapeN])，如input_0[image]:float([3 \* 1024 \* 1024,3 \* 2048 \* 2048]) 。
8. 单击**选择路径**，即选择优化后的模型要保存的位置，当对加速完成的模型单击**保存到模型仓库**时，会在该路径下生成一个包含推理脚本和配置文件的 [优化模型包](https://cloud.tencent.com/document/product/851/74145)，放在该路径下的新生成的 m-xxx/mv-xxx 文件夹里。
9. 单击**确定** ，即开始进行优化任务，并返回到优化任务列表页。


## 优化任务详情

单击**优化任务名称**可进入优化任务详情页面，可以查看详细的任务信息和优化报告，并进行相应的操作。
![](https://qcloudimg.tencent-cloud.cn/raw/f7739131326f1b482c8d99c5f7330383.png)
