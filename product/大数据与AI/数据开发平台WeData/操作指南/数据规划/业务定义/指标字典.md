指标分为基础指标和衍生指标两类进行定义管理，可以单击左侧树节点双击查看对应分类、主题域、过程下的指标全集：
![](https://qcloudimg.tencent-cloud.cn/raw/3dff25ea361d440f5b299f0191118c05.png)
指标支持单个新增、批量导入两种模式：
批量导入：其中增量导入对于同名指标（中文名&英文名相同）采用跳过策略；全量覆盖则对于同名指标采用覆盖模式（先删除后添加）：
![](https://qcloudimg.tencent-cloud.cn/raw/36a1a50abc6e647940eaebe7a28e947a.png)

## 基础指标
- 指标新增：其中，业务目录用于将指标归属于分类—主题—业务过程下，指标编码根据指标类型、业务目录自动生成。
- 关联明细表/关联字段：基础指标会唯一关联一张明细表的一个字段。
- 数据类型/生产周期：指标绑定明细表的字段后，其数据类型继承关联字段的类型，生产周期继承所关联明细表的生产周期。
- 计算函数：基础指标的统计函数，包括sum、avg等常用函数。
- 度量单位：指标单位定义，基于数据标准模块定义的度量单位进行展示选择。
- 度量精度：指标数据精度，支持0~9精度等级。
![](https://qcloudimg.tencent-cloud.cn/raw/019e6d6964d51b7dfe3d01674044507f.png)
- 指标发布&下线：
基础指标发布后可用于衍生指标生产使用，发布后的指标进入不可编辑状态，如果需要编辑可以单击下线转到草稿状态后编辑：
![](https://qcloudimg.tencent-cloud.cn/raw/83b9b845c9ce584e047d2ad6efc53abb.png)
若发布的指标已经生成了衍生指标，则需要先下线相关衍生指标后才能下线。

- 指标复制：
指标复制后中英文名会自动添加 _copy 字段，单击保存后复制指标会保存草稿：
![](https://qcloudimg.tencent-cloud.cn/raw/af780bffc289c5fe2482a03ce68cde3c.png)
- 指标删除：
处于草稿状态的指标才可以删除，发布状态指标需要先下线。

## 衍生指标
创建了基础指标并发布成功后，可以继续创建衍生指标，衍生指标创建可以基于维度条件或基于指标的组合计算进行定义： 
![](https://qcloudimg.tencent-cloud.cn/raw/94623679ce73da45811425482b0bb543.png)
1. 维度条件定义
维度条件需要所选择的四类维度在维度管理页创建发布后可见，单类维度不能超过3个，累计不能超过9个条件。
  - 来源指标：选择同一业务过程下的基础指标，选择后会自动展示基础指标关联的来源表；此时衍生指标会继承来源指标的计算函数、度量单位、度量精度。
  - 关联字段：根据来源表的字段进行下拉展示并关联，已经被指标、维度关联的字段会置灰不能重复绑定；字段关联保存后会在对应的模型字段详情展示已经绑定的指标/维度。
  - 过滤条件：包括 >、=、< 等条件选项。
  - 参数表达式：支持引用 ${} 参数变量或绝对数值。
  - 条件：连接 where 条件的 and/or，单击进行 and/or 切换。
2. 组合计算定义
另一种是基于多个衍生指标通过组合计算得出的衍生指标。
  - 度量单位/度量精度：组合计算后指标单位和精度会变化，因此需要重新定义选择。
  - 公共维度：指标计算需要基于统一维度条件，当筛选了公共维度后，会筛选出此维度下的衍生指标，在“来源指标”进行展现备选。
  - 来源指标：可以双击选中来源指标下的衍生指标清单，在计算规则中编辑运算表达式。
  - 计算规则：支持通过四则运算符对多个指标进行组合计算，也可增加数值、变量到计算规则中；单击“规则检查”对运算表达式规范性进行检查，检查成功后可以顺利保存。
![](https://qcloudimg.tencent-cloud.cn/raw/db79edd4d926f4c5969721c228b47edf.png)
  - Sql 代码：
衍生指标编辑完成口径规则并保存后，会根据配置自动生成该指标的etl-sql代码，代码拼接逻辑参考：
    - 衍生指标-组合计算：SELECT ({组合计算规则}) AS {指标英文名} FROM {指标表名1}，{指标表名n} group by {公共维度}
    - 衍生指标-维度条件：SELECT ({来源指标字段}) AS {指标英文名} FROM {来源指标表名} group by {普通维度} where {时间周期} and {业务限定} and {退化维度}
![](https://qcloudimg.tencent-cloud.cn/raw/8a56858a4013c8f40e5fcda8fb5c21f8.png)
  - 指标发布&下线：
衍生指标发布后可用于衍生指标生产使用，发布后的指标进入不可编辑状态，如果需要编辑可以单击下线转到草稿状态后编辑：
![](https://qcloudimg.tencent-cloud.cn/raw/507bfee3291c1c5f94792febf3dd2ed2.png)
若发布的指标已经生成了衍生指标，则需要先下线相关衍生指标后才能下线。
  - 指标复制：
指标复制后中英文名会自动添加 _copy 字段，单击保存后复制指标会保存草稿：
![](https://qcloudimg.tencent-cloud.cn/raw/accdbdde725a9b220247e252627368e8.png)
  - 指标删除：
处于草稿状态的指标才可以删除，发布状态指标需要先下线。
