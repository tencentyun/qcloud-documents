## 功能介绍
弹性 MapReduce（EMR）支持集群从按量计费模式转成包年包月计费模式，或在混合计费模式的集群中把节点从按量计费模式转换成包年包月计费模式。

## 转换规则
1. 支持按量计费模式集群转换成包年包月计费模式集群；且支持混合计费集群中把按量计费节点转换成包年包月计费节点。
2. 按量计费模式转换成包年包月模式后，不再支持转化成按量计费模式，请谨慎确认。
3. 按量计费集群转化包年包月计费模式时，需保证集群模式（HA 和非 HA 模式）中各节点最少转换数量。各个集群最少节点数详情可参考 [节点类型说明](https://cloud.tencent.com/document/product/589/14624)。
4. 当前集群包含 MetaDB，若需将集群转成包年包月计费，请先前往 [云数据库控制台](https://console.cloud.tencent.com/cdb)，对实例 MetaDB 转换成包年包月计费。
5. 按量计费转换包年包月计费时会产生一个续费订单，必须完成该订单的支付流程，计费方式的变更才能生效。
6. 计费模式由按量计费转换为包年包月计费的节点不支持五天内无理由退还。
7. 计费模式转换成功及支付成功后，集群实例和集群节点会即刻按照包年包月计费，新包年包月实例的起始时间为转换成功时间。
8. 在未成功支付前，不可对该实例进行重复的计费模式转换操作。
9. 按量计费转换包年包月计费时磁盘（数据盘和系统盘）的计费方式也将同时改变成包年包月计费模式。

## 使用限制
1. 自动伸缩添加的 Task 节点不支持转换成包年包月计费模式。
2. 可用区包年包月剩余配额小于待转换的按量实例数量时不支持转换。
3. 仅支持 HOST 节点转换，POD 节点不支持转换。

## 操作步骤
### 一、将按量计费模式集群扭转成包年包月计费集群
1. 在集群列表中，按量计费集群在**管理 > 更多 > 按量转包年包月**，默认勾选所有节点转化成包年包月计费；Task 节点和 Router 节点支持取消勾选，保留为按量计费模式。
 ![](https://qcloudimg.tencent-cloud.cn/raw/eab3479a3914f181324c58799e8fb0e6.png)
2. 默认勾选除自动伸缩扩容的 Task 节点外的所有节点转化成包年包月计费；Task 节点和 Router 节点支持取消勾选，保留为按量计费。
 ![](https://qcloudimg.tencent-cloud.cn/raw/8223259fd806c6858d022ed072562a0c.png)
 
>?若当前集群包含 MetaDB，且需将集群转成包年包月计费，请先前往 [云数据库控制台](https://console.cloud.tencent.com/cdb)，对实例 MetaDB 进行转化成包年包月计费。
 ![](https://qcloudimg.tencent-cloud.cn/raw/3180282ecc6227dcc556e61ec82a1057.png)
转换成功后，集群列表中显示集群类型更改为“包年包月”，实例信息中计费模式更改为“包年包月”。资源管理中对应节点列表中，节点计费类型更改为“包年包月”，并正确展示到期时间和是否自动续费。

### 二、将混合计费模式（包年包月）集群中按量计费节点转化成包年包月计费节点
在集群详情页，选择**集群资源 > 资源管理 > 更多操作 > 按量转包年包月**，可进行单节点扭转和节点批量扭转。
- 节点批量扭转：在资源管理页中，批量勾选计费类型为按量计费且资源类型为 HOST、非自动伸缩扩容的 Task 节点和 Router 节点。
- 单节点扭转：在资源管理页中，勾选计费类型为按量计费且资源类型为 HOST、非自动伸缩扩容的 Task 节点或 Router 节点。

>!勾选计费类型为包年包月节点或资源类型有 POD，以及自动伸缩的节点时，**按量转包年包月**不可点击。
>
 ![](https://qcloudimg.tencent-cloud.cn/raw/fc40715ec8f53e6027cd0d90c469f7a6.png)
 

