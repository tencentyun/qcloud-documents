钻取包括上钻、下钻、以及穿透钻取，其中上钻、下钻功能适用于表、交叉表、图表，穿透钻取只适用于图表。图表钻取时会影响其它组件数据联动。

数据段之间存在包含关系，例如省包含市，国家包含省，钻取与绑定数据段的层次有关。

## 层次的设置
数据段之间层次关系的确定是在查询中设置的，在查询的元数据的部分右键选择新建层次，输入层次名称，则在维度目录下生成层次文件夹。用户可通过鼠标的拖拽把数据段放到该层次中，注意在该层次文件夹下数据段的排放顺序决定了数据段间的级别关系，默认排列在上方的数据段的级别最高，依次往下类推。

层次的详细介绍见数据类型和字段类型。

## 下钻
### 绑定界面
下钻是自动添加比自己级别小一级的一个字段。假设在查询中存在年、季度、月份三个数据段，年包含季度，季度包含月份，绑定界面上绑定年数据段，则在年数据段前有个加号“+”，当用户单击加号时，在绑定窗口中会增加比当前数据段级别低一级数据段。
![](https://main.qcloudimg.com/raw/fb9deff9df6ca9461aa24f70d21a8f00.png)

### 单元格
表、交叉表上支持单元格下钻，如下图所示：
![](https://main.qcloudimg.com/raw/eca12f60539e7a6094d2efe4763686d2.png)

### 图表钻取联动
- 图表下钻
鼠标放在轴上数据位置，显示钻取图标，如下图所示。不同图表类型，钻取图标的位置有所不同，例如组织结构图的钻取图标在标记上、地图的钻取图标通过右键触发。
![](https://main.qcloudimg.com/raw/caa9ba5bd1a29cb660d648e73939304e.png)
>?图表的轴和标记上若有钻取图标，都支持鼠标移上时显示，移出时消失。
>
- 图表下钻会带动联动
原始数据如下图：
![](https://main.qcloudimg.com/raw/e150b3033bf3e134a63d0c7ba79c1fcb.png)
单击图表轴上 Coffee 的下钻图标，钻取后数据显示如下图。**矩形树图不支持钻取。**
![](https://main.qcloudimg.com/raw/399e0e092ac769dfaf466f7bffb2c886.png)

## 上钻
### 绑定界面
上钻是把在该层次中比自己级别小的字段都从绑定窗口中删除。假设在查询中存在年、季度、月份三个数据段，年包含季度，季度包含月份，绑定界面上绑定季度数据段，以及月份数据段，则在季度数据段前有个减号“-”，当用户单击减号时，在绑定窗口中会移除所有比当前数据段级别低的数据段。
![](https://main.qcloudimg.com/raw/3332acbf32d576c8312e3c8ef2516968.png)

### 单元格
表、交叉表上支持单元格上钻，同理也支持单元格下钻。

### 图表钻取联动
- 图表上钻
鼠标放在轴上数据位置，显示钻取图标，如下图所示：
不同图表类型，钻取图标的位置有所不同，例如组织结构图的钻取图标在标记上、地图的钻取图标通过右键触发。
![](https://main.qcloudimg.com/raw/cc06bce4953c8a4817faf0a3e77336d8.png)
- 图表上钻会带动联动
原始数据如下图：
![](https://main.qcloudimg.com/raw/c4902a7318cafe8d995586d233213eaa.png)
单击图表轴上 Amaretto 的上钻图标，上钻后数据显示如下图：
![](https://main.qcloudimg.com/raw/2be142cbb407bb2a695e1e7d657eaef5.png)

## 穿透钻取
只适用于图表中，在图表中的显示具体数据按钮来进行数据的穿透钻取。选中图表的指定区域再单击此按钮显示详细数据，则详细数据中只显示指定区域的数据。如下图所示，选中图表 X 轴数据“Coffee”后单击详细数据，详细数据中“PRODUCT_TYPE”列只显示“Coffee”的数据。
![](https://main.qcloudimg.com/raw/f5758c837c416382b28fe5b1a3c22103.png)
不同的区域送出的维度信息不同，当图表中没有维度信息时，默认显示所有数据。

| 图表区域 | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 标记     | 可以选择一个标记，或使用 Ctrl 键进行多选，在单击显示具体数据按钮后把该标记对应的维度信息作为筛选显示数据的条件。 |
| 轴       | 绑定了维度数据段的轴，可以选择一个坐标，或使用 Ctrl 键进行多选。在单击显示具体数据按钮后把该坐标对应的维度信息作为筛选显示数据的条件。 |
| 图例     | 绑定了维度数据段的图列，可以选择一个图例选项，或使用 Ctrl 多选。在单击显示具体数据按钮后把该图例选项对应的维度信息作为筛选显示数据的条件。 |
| 标记值   | 可以选择一个标记值，或使用 Ctrl 键进行多选，再单击显示具体数据按钮后把该标记对应的标记的维度信息作为筛选显示数据的条件。 |
