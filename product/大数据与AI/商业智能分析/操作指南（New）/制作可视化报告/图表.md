图表组件（Chart）是以图表的形式展现数据的载体。图表可以绑定任意一查询的多个字段。图表组件除了有表格组件支持的功能外， 还有自身特有的、更丰富的功能。

一个组数据系列采用什么形式（颜色、符号、形状、纹理）显示在图表上，被称作标记。支持的标记种类包括点图、线图、面积图、柱状图、饼图、雷达图、组织图、气泡、词云、矩形图和盒须图等。

为给图表支持丰富的交互，图表被划分为多个区域。大粒度来讲，可以分成 Title（标题）、Axis（轴）、Legend（图列）和 Mark（标记）。另外还有一个图表对象的大底图，我们称为 Chart Area，它是整个图表的最外层容器。还有一个专门放标记的基址图，是在中间的部分，可以理解为所有标记的容器，或底图；我们称为 Plot Area。包含关系是：Chart Area 包含 Title、Axis、Plot 和 Legend。Plot 包含 Mark、Grid line（网格线）、Target Line、Trend Line 和 Form（Annotation）等。大粒度的区域又可以包含小粒度的区域。例如，标题分 X 方向和 Y 方向。轴分成 Label、Tick 和 Line。图例分 Title、Item 和 Band 等，标记又分不同类型的 Mark。

这个章节主要介绍如何创建图表，以及如何定义属性，如何绑定数据，和各种交互功能。

## 制作图表
### 创建图表
拖拽右侧面板-组件中的图表按钮到报告编辑区，则在报告中生成相应的图表。
![](https://main.qcloudimg.com/raw/47b18e9a1e4ca67c9241b99d63bb9299.png)

### 绑定数据段
图表：把鼠标移动到图表内的“单击以绑定数据”图标，鼠标变成手状，单击则可打开图表的绑定界面。或者在图表的悬浮菜单栏中单击绑定数据按钮，打开图表的绑定界面。绑定界面包含三部分：查询树、美化界面以及图表的绑定窗口。在查询树中支持 Shift 键连续选中，以及 Ctrl 键不连续多选。
图表支持以下三种方式来绑定数据段：

#### X 轴或 Y 轴绑定
- 拖拽数据段到绑定窗口实现 X 轴或 Y 轴绑定，如图所示：
![](https://main.qcloudimg.com/raw/75cbaf4f7e642f0a721860dbd90e2553.png)
也可以拖拽数据段到绑定窗口替换绑定。
- 拖拽数据段到图表区域的 X 轴、Y 轴、图表展示区域实现绑定，初始状态的 X 轴和 Y 轴的划分区域如图所示，深灰色的是图表展示区域：
![](https://main.qcloudimg.com/raw/dc948db35ef13810278ff77eb22767dd.png)
也可以拖拽数据段到 X 轴或者 Y 轴替换绑定。还可以拖拽数据段在 X 轴或 Y 轴插入绑定（可以插入到 X 轴数据段的顶部或底部或者插入到 Y 轴的左侧或者右侧），如图显示：
![](https://main.qcloudimg.com/raw/df4e8049401b07b21bc95ddac506fbc6.png)
- 双击查询树列表的数据段实现绑定。

#### 标记组的绑定方法
1. 拖拽数据段到图表区域实现绑定。
标记组添加数据段的规则：数据绑定在标记组上，顺序为颜色、形状、大小、标签；如都绑定了字段，再进行拖拽到区域绑定，只在颜色上进行改变。如图所示：
![](https://main.qcloudimg.com/raw/54cfd587562df1ff84ca9c7a639932fd.png)
2. 拖拽数据段到标记组窗口实现绑定。

### 移除数据段

移除绑定数据段，有以下三种方法：
- 绑定窗口的下拉列表中选择删除。
- 拖拽绑定窗口的数据段到查询树中实现移除。
- 拖拽绿色小三角到查询树中实现移除。如图所示：
![](https://main.qcloudimg.com/raw/365e5fa48f60a9883bc41170fb12e08a.png)

## 切换图表类型
图表包括多种类型，如柱状图、线图、点图、雷达图、组织图等，下面详细介绍图表的类型。
切换图表类型的方式有两种，一种是通过右侧面板-常规-图表类型切换图表类型，另一种是直接单击切换图标更改图表类型。
1. 通过右侧面板-常规-图表类型切换图表类型：
![](https://main.qcloudimg.com/raw/2cc65932c2108f4b53372c3deee6beb8.png)
2. 通过单击标记图标切换图表类型（单击下图中红色框内区域）：
![](https://main.qcloudimg.com/raw/b2ab00368d1bd5e0ad1cce24b6c2f095.png)
弹出如下图所示的对话框，即可切换：
![](https://main.qcloudimg.com/raw/388351e7e96a784dc17c7761dfc4b540.png)

### 柱状图&3D 柱状图

柱状图用于显示一段时间内的数据变化或显示各项之间的比较情况。在柱状图<img src="https://main.qcloudimg.com/raw/7535cbbb12ca85a0ad09515a0f70f6a1.png"  style="margin:0;">中，通常沿横坐标轴组织类别，沿纵坐标轴组织值。

3D 柱状图使用三维透视效果显示数据，使用隐藏的第三条数值轴。
![](https://main.qcloudimg.com/raw/4488025db8344953296f409900c3507d.png)

### 堆积柱状图&3D堆积柱状图
堆积柱状图显示单个项目与总体的关系，并跨类别比较每个值占总体的百分比。堆积柱状图使用二维垂直堆积矩形显示值。当有多个数据系列并且希望强调总数值时，可以使用堆积柱状图。
![](https://main.qcloudimg.com/raw/0ef43986de1262ff23949387c4825cab.png)
3D 柱状图使用三维透视效果显示数据。
![](https://main.qcloudimg.com/raw/3cf8c10345d8a1ffc6f351cf2f96419f.png)

### 折线图
折线图可以显示随时间（根据常用比例设置）而变化的连续数据，因此非常适用于显示在相等时间间隔下数据的趋势。在折线图中，类别数据沿水平轴均匀分布，所有值数据沿垂直轴均匀分布。
![](https://main.qcloudimg.com/raw/24b63bc26ed76d25739cc11a7129f607.png)

### 堆积折线图
堆积折线图可用于显示各个值的分布随时间或排序的类别的变化趋势，但是由于看到堆积的线很难，因此请考虑改用其他折线图类型或者堆积面积图。
![](https://main.qcloudimg.com/raw/a5bef7510795db22a285e191bfac8603.png)

### 面积图
面积图强调数量随时间而变化的程度，也可用于引起人们对总值趋势的注意。例如，表示随时间而变化的利润的数据可以绘制在面积图中以强调总利润。
![](https://main.qcloudimg.com/raw/218314b3acc3209ff2d02a17cbb15870.png)

### 堆积面积图
通过显示所绘制的值的总和，面积图还可以显示部分与整体的关系。
![](https://main.qcloudimg.com/raw/072f829f4867e68e2e241a5c25a65c7e.png)

### 点图
点图显示若干数据系列中各数值之间的关系，或者将两组数绘制为 xy 坐标的一个系列。
点图有两个数值轴，沿横坐标轴（x 轴）方向显示一组数值数据，沿纵坐标轴（y 轴）方向显示另一组数值数据。点图将这些数值合并到单一数据点并按不均匀的间隔或簇来显示它们。点图通常用于显示和比较数值，例如科学数据、统计数据和工程数据。
![](https://main.qcloudimg.com/raw/18b2724fe4970c0b1ce51e327c212688.png)

### 堆积点图
堆积点图可用于显示各个值的分布随时间或排序的类别的变化趋势，但是由于看到堆积的点很难，因此请考虑改用其他折线图类型或者堆积面积图。
![](https://main.qcloudimg.com/raw/fa611528fa64462d7a7da96e6eed63d2.png)

### 饼图&3D 饼图
饼图，只有 X 轴绑定度量字段或只有 Y 轴绑定度量字段。饼图显示一个数据系列（数据系列：在图表中绘制的相关数据点，这些数据源自数据表的行或列。图表中的每个数据系列具有唯一的颜色或图案并且在图表的图例中表示。可以在图表中绘制一个或多个数据系列。饼图只有一个数据系列。）中各项的大小与各项总和的比例。饼图中的数据点（数据点：在图表中绘制的单个值，这些值由条形、柱形、折线、饼图或圆环图的扇面、圆点和其他被称为数据标记的图形表示。相同颜色的数据组成一个数据系列。）显示为整个饼图<img src="https://main.qcloudimg.com/raw/d8b0059da223e1e87a3c3180255def81.png"  style="margin:0;">的百分比。

3D 饼图使用三维透视效果显示数据。
![](https://main.qcloudimg.com/raw/bdd9b32d3eb1a0494597a17779019871.png)

### 环状图
环状图，只有 X 轴绑定度量字段或只有 Y 轴绑定度量字段，可以绘制到环状图中。显示数据的方式和饼图一样。
![](https://main.qcloudimg.com/raw/99ffbd5cf7996cb12e2b813873793106.png)

### 地图
用户可通过地图来统计不同区域的销售等指标。
地图分为两种数据类型，一种是区域数据，一种是点数据，具体名称请参考下表。其中“自定义”是用户提供的地图数据。

| 地理信息 | 区域数据   | 点数据      |
| -------- | ---------- | ----------- |
| 自定义   | 区域       | 点          |
| 世界大洲 | 大洲(区域) | 大洲(点)    |
| 世界国家 | 国家       | 市          |
| 世界省份 | 省         | 市          |
| 世界城市 | 市         | 市(点)      |
| 世界县城 | 县(区域)   | 县(点)      |
| 澳大利亚 | 州         | 市          |
| 法国     | 大区       | 省          |
| 加拿大   | 省         | 市          |
| 美国     | 州         | 郡          |
| 日本     | 地区       | 都/道/府/县 |
| 英国     | 地方       | 郡          |
| 中国     | 省         | 市          |

区域数据四两种渲染方式：区域渲染、点渲染、迁徙渲染、热力渲染，用户可在已绑定字段的下拉列表中选择渲染类型；而点数据不支持区域渲染，只能是点渲染、迁徙渲染、热力渲染。

#### 地图定位
地图中有两种方式来定位，通过经纬度来定位与通过地标来定位。
##### 通过经纬度来定位
经纬度接收的字段类型为处于维度和度量目录下的数值类型的字段。
![](https://main.qcloudimg.com/raw/9294ee14d25aa83644980d73156e3883.png)
如果是第一次绑定经纬度字段，会根据经纬度数据自动匹配相应的国家地区。
在绑定的度量字段的下拉列表中，可以设置地理信息，例如：世界国家、中国、美国等。
经纬度的数据类型为点数据，可以在绑定的度量字段的下拉列表中选择渲染方式：点渲染、迁徙选取或热力渲染。

##### 通过地标来定位
地标行接收的字段类型为字符串类型，在地标处绑定字段时，首先要将字段转换为地图列才能进行绑定，如下图所示：
![](https://main.qcloudimg.com/raw/36e1d58e92d913ae42d6ba98d8ccb714.png)

若是用户第一次编辑地图列会弹出提示对话框：地图列是全局属性，继续修改？若选择“是”并勾选“记住我的选择”则修改属性并且以后将不再弹出此提示，若选择“否”则不修改。如果不慎误选了“记住我的选择”，则需先退出产品再清除浏览器（cookie）缓存。选择“是”打开地图列对话框，如图：
![](https://main.qcloudimg.com/raw/2e94693f6d8cc2c91bb2c11e067c0862.png)
【地理信息】选择地图的地理信息，例如世界国家、世界省份、世界城市、世界县城（目前只包括中国地区）、中国和美国等。
【地理数据】地图的匹配数据类型，“国家”是区域数据，有两种渲染方式：区域渲染和点渲染，用户可在已绑定字段的下拉列表中选择渲染类型。“市”是点数据只能是点渲染。
【地理数据匹配】单击超链接【数据未匹配】，打开地理数据匹配对话框，进行数据匹配，如下图：
![](https://main.qcloudimg.com/raw/32c2e4f181f64aa511c5fa6d83182279.png)
本产品提供了四种匹配算法，已匹配的数据将在地图中显示，数据全部匹配确定后，地图列对话框中的地理数据匹配项会变成数据已匹配，确定后，结果如下图所示：
![](https://main.qcloudimg.com/raw/c403f33bbeb355bce8c557cb949d924a.png)
【隐藏无数据区域】勾选后会优化地图展示范围，如图所示：
![](![](https://main.qcloudimg.com/raw/51cb2fbaf5f5b9a36fdb10ce158b36bf.png))
>?地理数据匹配支持自动匹配：绑定地图列，或是打开报表时，如果地图列数据有更新，数据会自动进行匹配。

#### 渲染类型
用户可在已绑定字段的下拉列表中选择类型：区域渲染、点渲染、迁徙渲染、热力渲染。用户可选择世界或者某个特定国家的地图，展现形式为区域渲染、点渲染、迁徙渲染或热力渲染，迁徙渲染、热力渲染详见迁徙图、热力图。
世界地图且为区域渲染如下图所示：
![](https://main.qcloudimg.com/raw/28c7c0afd608d9ac43daf291a3888b81.png)
中国地图且为点渲染如下图所示：
![](https://main.qcloudimg.com/raw/4eb7c010cc8d18ab74c74e303334a81b.png)
当地图选择的类型为点渲染的时候，可以将 map 上面的点标记为饼图，只需要在美化界面上绑定相应的字段，如下图所示：
![](https://main.qcloudimg.com/raw/cbfd23830c36cd5b47be262702685c48.png)

#### 自定义地区数据
支持地理区域编组行为，可按大区显示（如华中、华南等），可对省、市等同级别的地理数据设定组合，变为一个区域进行展示。
自定义大区数据，需要在地图列对话框中设置地理数据为大区，此时出现自定义超链接，单击即可进入定义大区对话框中对数据进行编组，如下图所示：
![](https://main.qcloudimg.com/raw/a1a288c9b255dc9c03d945ebed524cbb.png)
地理信息不同时，可分别对该层次的数据进行编组：

##### 世界大洲
在地图列对话框中，设置地理信息为世界大洲，地理数据为大区，单击自定义进入定义大区对话框中：
![](https://main.qcloudimg.com/raw/e3d0e1303e8893946496a987ceb21c98.png)
  数据展示区域会将系统中世界大洲级别的数据展示出来。
【分组到】选中一个或多个数据，选择列表下的组名，将数据分组到该组下。
【分组到“其他”】勾选此选项会生成名称为“其他”的分组，如果有的数据没有进行分组，则会放到“其他”分组下面。
【新建分组】单击后会生成分组，默认名称是分组1，分组2......，新建后光标会选中并能修改分组名称。
【重命名】选中某个分组，单击重命名能够对分组修改名称。
【取消分组】选中某个分组，单击取消分组，当前分组被清除。
【重置】清除所有的分组。

##### 世界国家
在地图列对话框中，设置地理信息为世界国家，地理数据为大区，单击自定义进入定义大区对话框中：
![](https://main.qcloudimg.com/raw/119ac1296abe60d910a95b71381f8634.png)

##### 世界省份
在地图列对话框中，设置地理信息为世界省份，地理数据为大区，单击自定义进入定义大区对话框中：
![](https://main.qcloudimg.com/raw/4051fc586520eb386fd411f44058f4af.png)
此时需要选择国家，数据展示区域会展示出该国家的省份数据，设置分组后，可切换国家继续对数据进行编组。例如设置国家为中国：
![](https://main.qcloudimg.com/raw/bd77026324c7f362e7219d08793b1d63.png)

##### 世界城市
在地图列对话框中，设置地理信息为世界城市，地理数据为大区，单击自定义进入定义大区对话框中：
![](https://main.qcloudimg.com/raw/15faf4f16fe7d3cd3c270482c72236a5.png)
此时需要选择国家、省，数据展示区域会展示出该省份的城市数据，对该省的城市分组后，可切换省份继续编组。例如设置国家为中国，省为河北：
![](https://main.qcloudimg.com/raw/53bf79544491afa5878ec21ee3e1d843.png)

##### 世界县城
在地图列对话框中，设置地理信息为世界县城，地理数据为大区，使用方法同世界城市：
![](https://main.qcloudimg.com/raw/ea8d1866463478e3ac128a10086d76f4.png)

##### 中国
在地图列对话框中，设置地理信息为中国，地理数据为大区，单击自定义按钮进入定义大区对话框中：
![](https://main.qcloudimg.com/raw/532cb2196b6f8ad2907a9fc8e44ff326.png)
产品提供了中国的默认大区： 
- 东北：吉林、辽宁、黑龙江；
- 华东：上海、安徽、山东、江苏、浙江、福建；
- 华中：江西、河南、湖北、湖南；
- 华北：内蒙古、北京、天津、山西、河北；
- 华南：广东、广西、海南；
- 港澳台：中国台湾、中国澳门、中国香港；
- 西北：宁夏、新疆、甘肃、陕西、青海；
- 西南：云南、四川、西藏、贵州、重庆。

数据匹配后，就可以画出大区分组的中国地图，如图：
![](https://main.qcloudimg.com/raw/0fc31c2cdb0df03dfbf93ede57ecfb09.png)
如果用户需要将中国按照自己设置的分组进行展示，可以对默认大区分组数据进行编辑。

>?澳大利亚、法国、加拿大、美国、日本、英国设置自定义大区时，使用方法同中国。

#### 地图钻取
Map 天生就存在着一定的层次（Hierarchy），例如一开始是全球，用户可以选中国，下钻，显示中国的各个省，选中广东，下钻，可以显示广东的各个城市，也可以通过上钻返回。地图的定义有两种，一种是通过地标列，另外一种是通过 x， y 经纬度的绑定，第一种才支持钻取，第二种无所谓上下层级关系，所以不支持。
当用户绑定带有层次的字段后，在地图上直接单击右键就可以直接上钻或者下钻，如下图所示：
![](https://main.qcloudimg.com/raw/ffa075c493d175e3f5769f093fa040fb.png)
大区也支持下钻，设置层次后，在地图上直接单击右键就可以进行钻取，如图所示：
![](https://main.qcloudimg.com/raw/a7088730b211bf0e62af7ff4ac150abc.png)

#### 地图颜色
地图背景色是默认的灰色，数据区颜色可通过美化界面上的颜色进行修改。

### 盒须图
盒须图是一种显示数据分布情况的统计图，从中可以观察到数据的分布是否密集、是否具有偏向性、是否存在异常值。
创建盒须图，通常需要先将度量字段绑定到 X 轴或 Y 轴上，然后将维度字段绑定到分组或者标记组中。
![](https://main.qcloudimg.com/raw/22865297c67b6ffbe62d3a7386a06e70.png)

### 热力图
热力图，支持自定义底图展示（散点图）、地图的热力图（自主地图）。通过热力图可以简单地聚合大量数据，并使用一种渐进的色带来表现，最终效果一般优于离散点的直接显示，可以很直观地展现空间数据的疏密程度或频率高低。
#### 制作热力图
##### 自定义底图
新建热力图，在 X 轴 Y 轴上绑定合适的字段；或者绑定数据后，单击绑定字段前的图标或通过字段下拉菜单中的图表类型 - 更多，转化为热力图，通常会在组件增加背景图片，说明分析的场景。
![](https://main.qcloudimg.com/raw/7d4d589a8e76273d91cfcfd03fb1844e.png)

##### 地图热力渲染
- 通过地图列定位
绑定地图列后，打开绑定字段的下拉列表，转换为热力渲染。
![](https://main.qcloudimg.com/raw/053a18a0d1a7681413e6213763de8108.png)
![](https://main.qcloudimg.com/raw/41e43c3bceed5cb2ed1c7b96c942d511.png)
- 通过经纬度定位
绑定经纬度后，打开绑定字段的下拉列表，转换为热力渲染。
![](https://main.qcloudimg.com/raw/ad634d21bf3a3931ba7e45362a12d629.png)
![](https://main.qcloudimg.com/raw/dacf563b2d529dec371286bef82fc7b2.png)

#### 热力效果
提供了两种热力效果展示形式：彩虹热力展示，自定义渐变热力展示。选中热力图，在其右侧面板-设置中打开热力效果的下拉菜单，用户可根据自己的需要设置想要的热力展示效果。
![](https://main.qcloudimg.com/raw/d3c0f9a471e3da269ffe66a073ef816b.png)
彩虹热力展示：
![](https://main.qcloudimg.com/raw/16df3724927edfba07e2b377fdcd3b0a.png)

定义渐变热力展示（设置颜色由绿色向蓝色渐变）：
![](https://main.qcloudimg.com/raw/2514e8934e4bc576c1ee9c10ea25372f.png)


### 迁徙图
地图支持了迁徙渲染，展示了数据目标在地图上的位置变化情况。可设置迁徙动画来添加动态迁徙效果。
#### 制作迁徙图
##### 数据准备
迁徙图支持地图列定位，也支持经纬度定位。但是迁徙图的数据需要两列。

- 地图列定位时的数据准备：
![](https://main.qcloudimg.com/raw/7265a5268857ffc9d5aecacc729d7701.png)

- 经纬度定位时的数据准备：
![](https://main.qcloudimg.com/raw/db30fbe77246b2b2889ba3f7812a1472.png)

#### 创建迁徙图
- 通过地图列定位：
绑定地图列后，打开已绑定字段的下拉列表，选则迁徙渲染，X 轴 Y 轴上展现出起始列与到达列，如图所示：
![](https://main.qcloudimg.com/raw/6fc2328c0d036be855c0127b4033815b.png)
此时在起始列、到达列绑定数据就可生成迁徙图：
![](https://main.qcloudimg.com/raw/4ac451fc7e83e4694d33feed0f333c2f.png)
![](https://main.qcloudimg.com/raw/317a1d7196ce2ed40953eae3fc92cdd0.png)
- 通过经纬度定位：
绑定经纬度后，打开已绑定字段的下拉列表，选择迁徙渲染，轴上绑定区域转换为起始列与到达列，如图所示：
![](https://main.qcloudimg.com/raw/94fc5e51e1cc4bccc53b835836dc2d24.png)
绑定起始经度、起始纬度、到达经度、到达纬度后，即可生成迁徙图：
![](https://main.qcloudimg.com/raw/72e3fc85e5c6f036b27eaabf5a875586.png)
![](https://main.qcloudimg.com/raw/3e1bd9cf30904261f4610ba1a2b68e77.png)

### 雷达图&填充雷达图
雷达图可只绑定度量，也可在轴上绑定维度来展示度量数据。
第一个轴以角度90度起。轴上只绑定度量时，会根据度量数进行等分；轴上既绑定了度量，又在对面绑定了维度，会根据维度数进行等分，逆时针分布所有的维度。
网格线将一直显示，如下图：
![](https://main.qcloudimg.com/raw/fb8fc328fe5064b65664b509477b6d43.png)

雷达图显示各值相对于中心点的变化，其中可能显示各个数据点的标记，也可能不显示这些标记。
![](https://main.qcloudimg.com/raw/d21133342de26dc780fca20d492237d4.png)

在填充雷达图中，由一个数据系列覆盖的区域用一种颜色来填充。
![](https://main.qcloudimg.com/raw/09ba2fe650fd025b58d794bed6c31711.png)

### 气泡图
气泡图可用气泡的颜色、大小、数目等来形象的反映出仪表盘中数据的定量关系。
在标记组的颜色、大小、标签字段上绑定合适的值生成气泡图。或者先绑定字段到 X 轴或 Y 轴上，然后单击字段前面的图标或通过右侧面板-常规-图表类型 - 更多，转化为气泡图。
![](https://main.qcloudimg.com/raw/b14d8e036b49dd21e5c7624dd53b2d49.png)

### 瀑布图
瀑布图<img src="https://main.qcloudimg.com/raw/b0a8c5b9495ecf3e78bad21f96a0468d.png"  style="margin:0;">可显示数据的累积效果，最后进行汇总。当用户需要对汇总的柱子进行大小或颜色等的调整时需要通过该柱子的右键菜单中相对应的属性或格式进行设定。

### 帕累托图
帕累托图是按照发生频率大小顺序绘制的直方图，表示有多少结果是由已确认类型或范畴的原因所造成。它是将出现的质量问题和质量改进项目按照重要程度依次排列而采用的一种图表。可以用来分析质量问题，确定产生质量问题的主要因素。二八分析线可以更直观的表达出是在哪些条件作用下对结果产生了80%的影响。
当用户需要对帕累托图的线进行大小或颜色等的调整时需要通过该线的右侧面板中常规或绘图进行设定。
![](https://main.qcloudimg.com/raw/faa431c61f1efb94dd4aa3fc0720fe4f.png)

### 组织图
组织图又名组织结构图、组织架构图等，是企业的流程运转、部门设置及职能规划等最基本的结构依据。
#### 组织图的绑定
直接在第三行【组织图】中绑定一个字段，或者在 x 或者 y 上绑定一个字段，再在图标类型中选择组织图来切换类型到组织图。在组织图中，通常绑定字段到组织图区域，绑定数值到标签，如下图所示：
![](https://main.qcloudimg.com/raw/81ddfe1dadf522adfbf0b61613ff9a92.png)

#### 组织图的钻取
组织图的钻取不同于其它图表，主要是将分支收起和展开，钻取的符号在标记上，如下图：
![](https://main.qcloudimg.com/raw/382a15b956f1ab68e7c9679c88d056c5.png)
也可通过轴上绑定的层次数据前的下钻 / 上钻符号来实现钻取。

### 矩形树图
矩形树图是一种有效的实现层次结构可视化的图表结构，全称是矩形式树状结构图。
直接在第三行【矩形树图】中绑定一个字段，或者在 x 或者 y 上绑定一个字段，再在图标类型中选择组织图来切换类型到矩形树图。在矩形树图中，通常绑定字段到矩形树图区域，绑定数值到大小和标签，如下图所示：
![](https://main.qcloudimg.com/raw/e5bc643d9322636d713a9144d6cc968d.png)

### 词云
词云图类似于气泡图。对于关键词予于视觉上的突出，形成“关键字云层”或“关键字渲染”从而大量过滤掉相对不重要信息，帮助浏览者找到它的关键信息。
在标记组的颜色、大小、标签字段上绑定合适的值生成词云图。或者先绑定字段到 X 轴或 Y 轴上，然后单击字段前面的图标或通过右侧面板-常规-图表类型 - 更多，转化为词云图。
![](https://main.qcloudimg.com/raw/27d4b03b3373b7cc9dc7ff0f67c62a29.png)

## 美化图表
图表的美化包含标记颜色、标记图案、标记形状、标记大小、以及标签的设置。其中标记图案和标记形状是互斥的，其中点图、线图、面积图、雷达图设定标记的形状，而其他图表类型则是设定图案。
美化界面提供标记组来对标记进行分组以及不同类型标记的美化，还提供共享机制更加方便用户的使用。

#### 打开图表美化界面
新建一个图表，打开其绑定界面，然后给图表绑定数据后，则在数据集资源树的下边打开美化界面，如下图所示。
![](https://main.qcloudimg.com/raw/b02584f98ddc29a30a8cb3387329be00.png)

#### 移除美化效果
用户可使用两种方法来移除已绑定数据段的美化效果。
用户可在已绑定数据段的下拉列表中选择移除选项，来移除当前数据段，如下图所示：
![](https://main.qcloudimg.com/raw/3b8ce06d56e2868b3603331208a1f3ca.png)

直接使用鼠标拖拽到查询树中来删除当前数据段。
![](https://main.qcloudimg.com/raw/325f8f45be490f37626afde6cad6424a.png)

#### 调整美化界面大小

纵向大小的调整：把鼠标移至下图红色框中的区域时，鼠标形状改变，通过上下移动来调整美化界面纵向的大小。
![](https://main.qcloudimg.com/raw/98ee7285a0b01bc6c31a3d973f9d0695.png)

横向大小的调整：把鼠标移至下图红色框中的区域时，鼠标形状改变，通过左右移动来调整美化界面横向的大小。
![](https://main.qcloudimg.com/raw/42bccca2b362e743358bdbb07bdea439.png)


### 标记颜色
用户可通过此属性来设定标记的颜色，本产品提供渐变模式。在渐变模式中可以设置为单色渐变或双色渐变，设置渐变类型。当用户不勾选效果时，标记的颜色高亮显示，当勾选效果时，颜色度量降低，颜色显示更立体。
![](https://main.qcloudimg.com/raw/006b87f895d20bbf18cc3520937c2df1.png)![](https://main.qcloudimg.com/raw/701f48e6642493939d1c50efb2274603.png)

用户还可拖拽当前查询中的数据段到颜色行中，则在图表上生成相应的图例，当用户拖拽维度目录下的数据段时，在图表上生成非连续的图例；当用户拖拽度量目录下的数据段时，在图表上生成连续的图例。
![](https://main.qcloudimg.com/raw/0221c908dd2b9addf64e769acd45e0ea.png)
![](https://main.qcloudimg.com/raw/69bb4fd7741837ca6ac1dc978dcfc069.png)

用户还可在已拖拽的数据段的下拉列表中对图例的颜色进行编辑。
当用户拖拽维度目录下的数据段时，用户可以在右侧下拉框中选择色系来调整每个字段对应的颜色，也可以勾选自定义后手动打开字段前的下拉列表选择想要的颜色。对话框中还存在反转选项，当勾选此项后图例中的数据显示顺序颠倒。
![](https://main.qcloudimg.com/raw/4dcf6864145153516cb1b98963b6c299.png)

当用户拖拽度量目录下的数据段时，度量数据段的颜色编辑对话框中可设置图例的表现形式，可以以渐变、亮度、饱和度或彩虹的形式来展现。当勾选上对数刻度属性时，图例的范围是按照该数据段的值的对数显示。用户可自定义图例显示的最小值以及最大值。也可以选择渐变离散，通过设置步长改变图例色。还可以通过反转改变图例色。
![](https://main.qcloudimg.com/raw/0d6d5107188c336b7f4dde82882c8ff3.png)

| 类型   | 说明                                                         |
| ------ | ------------------------------------------------------------ |
| 渐变   | 从一个颜色到另一个颜色的渐变。RGB 都会变化。需要选定一个起点颜色，和终点颜色。 |
| 亮度   | 亮度的线性变化。需要选择一个颜色作为基色。只改变其亮度。     |
| 饱和度 | 饱和度的线性变化。需要选择一个颜色作为基色。只改变其饱和度。 |
| 彩虹   | 按照彩虹的变化趋势                                           |

### 标记图案
当图表类型是柱状图、饼图、环状图类型时，在美化界面上可设置标记的图案。在标记图案中用户可单击图片选项，打开图样编辑器来设定图片作为标记的图案。在图样编辑器对话框中用户双击左侧图片列表中的图片，则在右下方显示示例图片，用户可设定图片的类型，拉伸、重复、按比例重复。
![](https://main.qcloudimg.com/raw/0a5a83d5619e27cd2495d9e21209373a.png)![](https://main.qcloudimg.com/raw/1e3ffdc98a519e1c849b377fcf2f3464.png)

当用户选择拉伸时，标记只是显示一个图片；当用户选择重复时，标记按照固定比例重复显示图片；当用户选择按比例重复时，用户可设定单位长度，如40000，则标记中每隔40000显示一个图片。当用户选择拉伸或重复时，不能设置单位，单位处于非激活状态。
![](https://main.qcloudimg.com/raw/01769769cb827f0c18bc9457d6bc4c99.png)

用户还可拖拽当前查询中的数据段到图案行中，则在图表上生成相应的图例，当用户拖拽维度目录下的数据段时，在图表上生成非连续的图例；当用户拖拽度量目录下的数据段时，在图表上生成连续的图例。
![](https://main.qcloudimg.com/raw/49e25b4f76903ff0168c61a87efd59cf.png)
![](https://main.qcloudimg.com/raw/f31e8227c4981ece9a1b4eff07ce2c7b.png)

用户还可在已拖拽的数据段的下拉列表中对图例的图案进行编辑。维度数据段的图案编辑对话框中存在反转选项，当勾选此项后图例中的数据显示顺序颠倒。
![](https://main.qcloudimg.com/raw/f722eb50e9d41c76b422522c8d2ff2c0.png)

当用户拖拽度量目录下的数据段时，度量数据段的图案编辑对话框中可设置图例的表现形式，可以按横向、纵向、格子、左倾、右倾或斜格子的形式来展现。当勾选上对数刻度属性时，图例的范围是按照该数据段的值的对数显示。用户可自定义图例显示的最小值以及最大值。
![](https://main.qcloudimg.com/raw/470700fd3a163a83641f0e83781db2dd.png)

| 类型   | 说明                         |
| ------ | ---------------------------- |
| 横向   | 水平方向，由疏至密变化       |
| 纵向   | 垂直方向，由疏至密变化       |
| 格子   | 十字网格，由疏至密变化       |
| 左倾   | 向左倾斜的方向，由疏至密变化 |
| 右倾   | 向右倾斜的方向，由疏至密变化 |
| 斜格子 | 倾斜的网格，由疏至密变化     |

### 标记形状
当图表类型是点图、线图、面积图、雷达图类型时，在美化界面上可设置标记的形状，其中有两个标记动态点1和动态点2具有动态的效果，如下图所示：
![](https://main.qcloudimg.com/raw/71f63ede4364647c1f420c8ff85089e6.png)

用户还可拖拽当前查询中的数据段到形状行中，则在图表上生成相应的图例，当用户拖拽维度目录下的数据段时，在图表上生成非连续的图例；当用户拖拽度量目录下的数据段时，在图表上生成连续的图例。
![](https://main.qcloudimg.com/raw/ef446ecdae77e939e3ce7a0942c4af06.png)
![](https://main.qcloudimg.com/raw/c025479961c71d237be89c24a22bd276.png)
用户还可在已拖拽的数据段的下拉列表中对图例的形状进行编辑。维度数据段的形状编辑对话框中存在反转选项，当勾选此项后图例中的数据显示顺序颠倒。
![](https://main.qcloudimg.com/raw/44d7f564475faf55eb6ab8a7fb426421.png)

当用户拖拽度量目录下的数据段时，度量数据段的形状编辑对话框中可设置图例的表现形式，可以以填充图、填充饼图、多边形图、填充多边形图、梯形或填充梯形的形式来展现。当勾选上对数刻度属性时，图例的范围是按照该数据段的值的对数显示。用户可自定义图例显示的最小值以及最大值。
![](https://main.qcloudimg.com/raw/6b0b9251d9ce6ae406c5b205acb8af3e.png)

| 类型         | 说明                                                         |
| ------------ | ------------------------------------------------------------ |
| 填充圆       | 变化方式：逐渐填满。                                         |
| 填充饼图     | 变化方式：逐渐填满。                                         |
| 多边形图     | 变化方式：逐渐边增多，达到趋向于圆。                         |
| 填充多边形图 | 变化方式：逐渐边增多，达到趋向于圆。                         |
| 梯形         | 变化方式：从倒三角形，变成倒梯形，变成方，变成正梯形，最后趋向于正三角形。 |
| 填充梯形     | 变化方式：从倒三角形，变成倒梯形，变成方，变成正梯形，最后趋向于正三角形。 |
| 填充矩形     | 变化方式：逐渐填满。                                         |


### 标记大小
通过此属性，用户可调节标记的大小。默认标记大小自动调整，自动选项被勾选，当用户调整标记大小后，不再勾选自动选项。
![](https://main.qcloudimg.com/raw/6ac9ae91686ffc19ea1c83be1e9488fc.png)

用户还可拖拽当前查询中的数据段到大小行中，则在图表上生成相应的图例，当用户拖拽维度目录下的数据段时，在图表上生成非连续的图例；当用户拖拽度量目录下的数据段时，在图表上生成连续的图例。
![](https://main.qcloudimg.com/raw/1272fe9015deaa12572b55beda623f7c.png)
![](https://main.qcloudimg.com/raw/93f6c2f456ab19dcab44bcc963dcf501.png)

用户还可在已拖拽的数据段的下拉列表中对图例的大小进行编辑。用户可选择图例显示大小的范围，维度数据段的大小编辑对话框中存在反转选项，当勾选此项后图例中的数据显示顺序颠倒。
![](https://main.qcloudimg.com/raw/3c4f4a3ab01e1a59206fa894f364e019.png)

当用户拖拽度量目录下的数据段时，在度量数据段的大小编辑对话框中，当勾选上对数刻度属性时，图例的范围是按照该数据段的值的对数显示。用户可自定义图例显示的最小值以及最大值。
![](https://main.qcloudimg.com/raw/819ece50cf72c072dc52d2e9cc3a73d1.png)

### 标记标签
用户可拖拽当前查询中的数据段到标签行，在图表标记上显示相应的标签值。
![](https://main.qcloudimg.com/raw/f4b15c7e8ff979f0e77ad2d1c4991df1.png)

### 多标记美化
当图表中含有多个标记时，使用多美化指标可以给每个标记设置颜色，形状或图案，标记大小。当图表中只有一个标记时，多美化按钮处于非激活状态，当含有两个及更多个标记时，多美化按钮变成激活状态。
![](https://main.qcloudimg.com/raw/c0389217fe6d1ee45e0adf309be09610.png)

单击多美化按钮，则在美化界面上添加标记行，打开标记行中的下拉三角，则存在各个标记的数据段名称以及全部选项。用户可选择给其中一个标记设置特定的颜色、形状或图案、标记大小；也可选择全部，给所有标记设置统一的颜色、形状或图案、标记大小。
![](https://main.qcloudimg.com/raw/e389cfcc1d07591d22f663f391157464.png)

假设给总和 \_BUDGET_PROFIT 标记设置不同的标记属性，如下图所示：
![](https://main.qcloudimg.com/raw/e8179ff066d8214cbfb6339a7be9cb1f.png)

在图表含有多个标记的情况下，用户也可给特定的标记的颜色、图案或形状、大小、标签绑定该查询中的数据段，当用户绑定的是度量目录下的数据段时，则美化效果只适用于当前标记，若用户绑定的是维度目录下的数据段时，则美化效果适用于所有标记。


### 图标美化共享机制
在图例中最多显示30个值。针对离散类型数据段需要做一个映射关系，已绑定的数据段的30个值和美化界面的值相对应。用户可能有自己对颜色的偏好。当用户给一个图表的颜色行绑定城市字段，设定好颜色后，也许用户希望给另外一个图表的颜色行绑定城市字段, 默认的颜色映射关系就可能不是上次的映射，就需要用户再进行颜色的修改，但有可能改得不太一致，会导致用户的误解。一个图表的红色表示北京，另一个图表的绿色才是北京。为了减少此弊端，提供了一个共享机制，所有使用该字段的地方，都共享一套映射。

例如：
1. 新建一个图表，对其 XY 轴绑定好数据段，并在其美化界面的颜色行绑定 MARKET 数据段，并编辑图例的颜色，如下图所示：
![](https://main.qcloudimg.com/raw/849b8e3143eef999caae3c97609dd02c.png)
2. 再新建一个图表，对其 XY 绑定不同于上图表的数据段，但其美化界面也绑定步骤1中的 MARKET 数据段，不对其进行颜色的编辑，则图例的颜色默认共享步骤1中图例的颜色，如下图所示：
![](https://main.qcloudimg.com/raw/64ee2549f9ef42567e0ba6da26215c8f.png)

## 设置图表的标题
在图表的右侧面板-常规中可以设置标题选项以及隐藏标题，如下图所示：
![](https://main.qcloudimg.com/raw/80931a323c5ad199d06dd896d77eb157.png)

### 标题
用户可设置标题的名称以及标题的位置，当选择左或右时，用户可设置标题所占的宽度；当选择顶部或底部时，用户可设置标题所占的高度；当选择漂浮时，用户可设置相对 X 轴的距离、相对 Y 轴的距离、标题所占的宽度、标题所占的高度。
如下图所示，设置图表的标题悬浮在图表上。
![](https://main.qcloudimg.com/raw/6ddc2f0a73c9bb1c76acc7df34a10238.png)


### 隐藏标题
当用户勾选了隐藏标题后，相应的轴的标题会被隐藏掉。当用户不勾选标题隐藏后，被隐藏的所有标题再次全部显示出来。


### 显示副标题
默认情况下，当 x 和 y 轴同时存在时，图表的右侧面板-常规中会显示副标题这项。去掉副标题隐藏的勾选状态后，打散 x 轴和 y 轴的标题，分别显示在相应的位置。
默认显示形式如下图：
![](https://main.qcloudimg.com/raw/407c83e646d5bdb435718abb09f272a2.png)
显示副标题后，标题的显示如下图：
![](https://main.qcloudimg.com/raw/bbe1518790784299c45d4d08eb4d6ab9.png)

## 设置图表
打开图表的右侧面板-设置，可以设置图表的组件名称、可见性、过滤器等属性。


### 设置迁徙效果
在迁徙图的右侧面板中打开设置-迁徙动画，即可设置迁徙图的动画形式，如下图所示：
![](https://main.qcloudimg.com/raw/47c75a9761ae6b1735ee68ca3a3743ca.png)

【迁徙动画】默认勾选隐藏。用户可根据需要设置动画效果及动画样式。当前动画样式支持飞机、汽车、卡车、火车及射线。
![](https://main.qcloudimg.com/raw/cfc68307b2371899ae491dc5d678b5a8.png)



### 设置热力效果
产品对热力图，提供了两种热力效果展示形式：彩虹热力展示，自定义渐变热力展示。选中热力图，在其右侧面板-设置中打开热力效果的下拉菜单，用户可根据自己的需要设置想要的热力展示效果。
![](https://main.qcloudimg.com/raw/d3c0f9a471e3da269ffe66a073ef816b.png)

彩虹热力展示：
![](https://main.qcloudimg.com/raw/16df3724927edfba07e2b377fdcd3b0a.png)
![](https://main.qcloudimg.com/raw/2514e8934e4bc576c1ee9c10ea25372f.png)

自定义渐变热力展示（设置颜色由绿色向蓝色渐变）：
![](https://main.qcloudimg.com/raw/49723342bf3c05b0f4ea280ffc291f34.png)
![](https://main.qcloudimg.com/raw/f622854edd5e40335515cd5f8af8bbbb.png)

## 设置图例（企业版功能）
打开图表的右侧面板-图例，可对图表的图例组、图例选项进行设置。
勾选图例选项中的隐藏可隐藏相应的图例，当用户去掉勾选时，被隐藏的图例会再次显示出来。
单击隐藏图例标题时，可隐藏当前图例的标题。去掉都选后，被隐藏的图例标题会再次显示出来。
![](https://main.qcloudimg.com/raw/096f43debcb3bb5d38e52c392c6a02bc.png)

## 设置轴（企业版功能）
选中图表，在右侧面板-轴中可以设置图表轴选项。其中轴选项包括：X 轴/Y 轴、字段、坐标轴隐藏、位置、轴线隐藏、网格线、标签、刻度、刻度设置。
![](https://main.qcloudimg.com/raw/47c279ef84524304bf2ff272cb746c06.png)

轴页面的属性如下：
【字段】 选择设置属性的轴。
【坐标轴隐藏】 设置坐标轴是否隐藏。
【位置】设置轴所在的图表的位置。X 轴包括自动、下方、居中、上方，默认为下方；Y轴包括自动、左方、居中、右方，默认为左方。
【轴线隐藏】设置轴线是否可见，勾选隐藏后轴线不显示。
【网格线】自动、显示网格、隐藏网格，默认为自动：绑定度量时，自动为显示网格；绑定维度时，自动时不显示网格。
【标签隐藏】设置标签是否可见，勾选隐藏后不显示轴标签。
【标签位置】设置轴标签的位置，分为内部、外部。
【标签显示间隔】 设置每多少个刻度显示一个标签。
【刻度隐藏】设置刻度是否可见，勾选隐藏则隐藏刻度。
【刻度位置】 设置刻度的显示位置。
【刻度设置】 设置轴刻度的属性，绑定维度时，该项有刻度类型、反转刻度、忽略空值；绑定 Measure 时，该项可设置刻度类型、反转刻度、共享轴、最大值、最小值、主要刻度、次要刻度、X轴数据起始值、是否以0为坐标轴中点、对数刻度、忽略空值；绑定 DATE 时，该项可设置刻度类型、向前、向后。


刻度设置的属性如下：
【刻度类型】分为时间刻度、离散刻度、连续刻度，可设置轴的类型。
【反转刻度】 是对轴的起始值和结束值的位置调换，并且 Mark 值也跟着变化。默认为自动，若绑定是维度字段，则自动与反转等效；若绑定为度量字段，则自动与不反转等效。
【忽略空值】计算的时候是否忽略空值。
【对数刻度】 对轴上的刻度取对数。
【X 轴数据起始值】 设置标记的起始值，下图为设置了 X 轴数据起始值为50000，此时小于50000的值都是从50000往下的，大于50000的值都是往上的。
![](https://main.qcloudimg.com/raw/a0d638ec68baef6005f0b3dcd45c5959.png)

【共享组】 可以设置同一个 chart 下的不同的轴是否共享范围，需要手动输入共享组名称，在其它轴上选择已经定义的共享组名称，被选到一个组的轴就能默认共享范围，共享范围的意思是轴上的刻度范围是一样的。
【最小值】 设置轴的最小值。
【最大值】 设置轴的最大值。
【以 0 为坐标轴中点】勾选后可设置轴区间以0对称。
【主要刻度】 设置主要刻度。
【次要刻度】 设置次要刻度。

## 设置标记与标签（企业版功能）
标记项可通过右侧面板-绘图进行设置，不同的图表类型具有不同的标记形式。不同的标记支持不同的设置。本章节介绍常见图表的标记与标签设置。
![](https://main.qcloudimg.com/raw/afb7251060a022385208d23864f9ab53.png)

### 设置标签重叠方式（企业版功能）
绘图的上方有标签重叠方式设置项，如下图所示：
![](https://main.qcloudimg.com/raw/7c7ef15c0bc424bccd0e5b46094e4147.png)

用户可打开标签重叠方式的下拉菜单，设置重叠标签的属性。
【保留】当标记的标签重叠显示时，进行保留，不对重叠标签进行修改。
【打散】当标记的标签重叠显示时，把重叠的标签打散，使其不再重叠显示。
【删除】当标记的标签重叠显示时，把重叠的标签删除。
如下图所示，标记的标签值重叠显示：
![](https://main.qcloudimg.com/raw/d5817a831a2c49eb7006695c3063be07.png)

在删除重叠标签后，如下图所示：
![](https://main.qcloudimg.com/raw/aa84b3520af03331c95e42d891647cd9.png)

### 设置显示百分比
在饼图、3D 饼图、环状图上的图表区域右键菜单中有显示百分比选项，通过此选项可以快速实现总数百分比。
![](https://main.qcloudimg.com/raw/e55ec55eda9522ccfa38a9417f4e20ec.png)

显示结果如下图所示：
![](https://main.qcloudimg.com/raw/d77e729d4b7f0dd59434ea0322c35561.png)

### 设置标签的引导线（企业版功能）
饼图、环状图、3D 饼图支持显示引导线。 
标记展示出标签后，可以通过右侧面板-绘图，设置引导线是否展出。
![](https://main.qcloudimg.com/raw/ba0cbf023e0563a8df8b1dce8cfc470f.png)

饼图显示标签后可以展示引导线，如下图所示：
![](https://main.qcloudimg.com/raw/8cb7c0c07aa6228e206964e37fc2d539.png)

### 设置标记值的显示（企业版功能）
#### 设置是否显示标记值
用户可以设置是否显示标记的值。当用户去掉隐藏数值标签的勾选状态时，图表的标记值（即标签）将会在相应的标记上显示。当用户需要在标记的内部显示标签时则可打开位置的下拉菜单，选择标记内部，若想恢复在标签的外部显示时选择标记外部即可。用户在其标签上右键选择隐藏标签时，则相应的标签被隐藏了起来，若右键选择显示标签则被隐藏的标签会全部显示出来。

#### 设置标记值的显示位置
用户在图表的右侧面板-绘图中打开位置的下拉菜单，可选择标记内部/标记外部设置标记值位置。
【位置】用户可设定标记值的显示位置是在标记的内部还是外部。
![](https://main.qcloudimg.com/raw/d6d74feb2f261150cae15eca4ee347fe.png)

如下图所示，标记值在标记的外部显示。
![](https://main.qcloudimg.com/raw/d77e729d4b7f0dd59434ea0322c35561.png)

如下图所示，标记值在标记内部显示。
![](https://main.qcloudimg.com/raw/a289c8624aebb064b91fb33ed6fa3565.png)

#### 设置隐藏标签
图表显示了标签后，用户可以选中标签在右键菜单中设置标签隐藏。
![](https://main.qcloudimg.com/raw/7404a21df265a7b19717b36944bb1324.png)

设置隐藏之后显示如下：
![](https://main.qcloudimg.com/raw/fcde07791ded7a8955709f3f525f0e63.png)

在图表区域的任意地方右键，右键菜单中会出现显示标签的菜单，如下如所示：
![](https://main.qcloudimg.com/raw/24f8b888601d709b57a3e17df10162a5.png)

单击显示标签后，会将隐藏的所有的标签都显示出来。

### 设置标记大小（企业版功能）
没有在大小上绑定数据段时，用户可以在右侧面板-绘图-标记中设置标记的大小。支持标记大小设置的图表有：柱状图、3D 柱状图、堆积柱状图、3D 堆积柱状图、线图、堆积线图、点图、堆积点图、盒须图、面积图、堆积面积图、饼图、3D 饼图、环状图、3D 环状图、雷达图、填充雷达图、点渲染地图、迁徙地图。
单击大小中的下拉三角，可对标记的大小进行调整。
![](https://main.qcloudimg.com/raw/1e0a1193ff00131257da9099df2503ea.png)

### 设置标记的提示信息（企业版功能）
通过图表的右侧面板-绘图-提示信息，用户可以自定义标记悬浮或选中后的提示信息。

- 支持直接输入文本，提示信息就是所输入的文本。
- 支持通过脚本来控制所绑定字段的展示格式，写法为：{ 字段名称 , 数据类型 , 数据格式 }。
- 字段名称：必须和绑定里面的名称一致，但是聚合要写成英文，例如“ 总和 \_SALES”应该写为“Sum_SALES”。字段中不支持空格，如 Y 轴绑定的字段为 Distinct Count_SALES 则在提示格式中应写成 {col[“DistinctCountSALES”],number,percent}。
- 数据类型：常用类型是 date， number。
- 数据格式：根据自己的需求输入需要的格式。日期和数字的格式请参考 [设置格式-数据格式](https://cloud.tencent.com/document/product/590/19755#.E6.95.B0.E6.8D.AE.E6.A0.BC.E5.BC.8F) 的详细介绍。

例如：
1. 日期，时间，时间戳字段的格式设置
日期：{col[“xxx”],date,yyyy-MM-dd}
时间：{col[“xxx”],date,HH:mm:ss}
时间戳：{col[“xxx”],date,yyyy-MM-dd HH:mm:ss}
2. 数值类型字段格式设置
货币：{col[“xxx”],number,currency}，
百分比：{col[“xxx”],number,percent}
千：{col[“xxx”],number,K}，也可以写“千”，“万”，“亿”
百万：{col[“xxx”],number,M}
十亿：{col[“xxx”],number,B}
其它数据式：{col[“xxx”],number,#,##0.00}
假设一图表如下图所示：
![](https://main.qcloudimg.com/raw/954fa16187b9b6bb20f5859bc2dd853b.png)

通过脚本来控制提示内容的格式，如下图所示：
![](https://main.qcloudimg.com/raw/3ac68e4df6a87230b898437e220059f9.png)

则图表的提示如下图所示：
![](https://main.qcloudimg.com/raw/77206d97a5a48fb4fab53507ed355847.png)

### 是否堆积负数（企业版功能）
通过图表的右侧面板-绘图-标记，用户可以设置是否堆积负数。支持标记堆积负数设置的图表有：堆积柱状图、3D 堆积柱状图。
当勾选堆积负数时，图表上的标记进行堆积，负数与负数进行堆积，正数与正数进行堆积。
堆积前的图表如下图所示：
![](https://main.qcloudimg.com/raw/a78307a38c24217120c201a350093c8c.png)

进行堆积负数，修改图表类型为堆积柱状图后，由于 USA 的“电脑”与“平板”产品利润值均为负数，故“电脑”与“平板”产品的利润进行堆积，-90加上-100后的堆积高度达到-190。而 China 中的“电脑”与“手机”产品的利润值均为正数，故“电脑”与“手机”产品的利润进行正向堆积，120加上55后的堆积高度达到175，如下图所示：
![](https://main.qcloudimg.com/raw/e4b3fd4a755dac38a805d7ffcf3f5127.png)

### 是否显示汇总值（企业版功能）
用户可以对堆积柱状图和 3D 堆积柱状图设置显示汇总值。
当用户勾选显示汇总值时，图表的各个维度对应的总和值将会显示在相应的位置。需要注意的是，当勾选显示汇总值后，标记的标签值都会显示在标记内部。
 X 轴绑定维度，Y 轴绑定度量时，汇总值的显示如图所示：
![](https://main.qcloudimg.com/raw/1d07ea4b64642b68a1fc27e28c1bc3b6.png)

X 轴绑定度量，Y 轴绑定维度时，堆积总和的显示如图所示：
![](https://main.qcloudimg.com/raw/d03eae1430df95e5ce05617ca83581df.png)

### 是否隐藏气泡图的标记外标签（企业版功能）
用户可以通过右侧面板-绘图-标记设置是否超出气泡隐藏。
勾选超出气泡隐藏后，会将超出标记的标签隐藏处理，如下如所示：
![](https://main.qcloudimg.com/raw/b14d8e036b49dd21e5c7624dd53b2d49.png)

去掉勾选状态后，会将所有的标签都显示出来：
![](https://main.qcloudimg.com/raw/d28f946f8aca4cff53979fd3610b81de.png)

### 设置线图、面积图的曲线（企业版功能）
用户可以设置折线图和面积图的曲线样式，包括是否显示折线上的点、是否显示光滑曲线。
#### 光滑曲线
当用户勾选此项时，线图将会以平滑的曲线进行展示，如下图所示：
![](https://main.qcloudimg.com/raw/557f22f5cf375d06850dc2417a40ab76.png)![](https://main.qcloudimg.com/raw/4bd5f5b7382b98cc803f3c99df013689.png)

#### 显示点
当用户不勾选此项时，线图中将不显示点，如下图所示：
![](https://main.qcloudimg.com/raw/36a95b19722112026da2ea78fd677fec.png)![](https://main.qcloudimg.com/raw/85267b8c7311500d25737dc1d9034a4e.png)


### 是否显示点图标记形状与基准线（企业版功能）
#### 设置标记的形状
用户可以设置点图的标记形状。
例如，点图默认显示圆点，如下图所示。
![](https://main.qcloudimg.com/raw/d8c88e971a49b4905bfef28fd5db081d.png)

用户可以选择其他的标记形状。
![](https://main.qcloudimg.com/raw/e120e635c352eccc25b6f16f20f79469.png)

改变形状后效果如下图所示。
![](https://main.qcloudimg.com/raw/cff387a6d2e07473fd4ad307ad281e9e.png)

#### 设置是否显示基准线
用户可以设置是否显示图中的点在 X 轴、Y 轴对应的位置。
当用户勾选此项后，鼠标悬浮在点图的标记上时将显示基准线，如下图所示：
![](https://main.qcloudimg.com/raw/6e6132367e4e3057e5ccda69d214ebb2.png)

### 设置饼图的分离距离、起始角度（企业版功能）
#### 分离饼图
设定分离尺度后，饼图将被分离，**分离饼图不能超50%**。如下图所示：
![](https://main.qcloudimg.com/raw/ed5fd1592caf2c12f0a4f6398b8b568e.png)

#### 起始角度
当用户设定角度后，饼图将按照逆时针旋转相应度数，**旋转度数不能超过360**。
![](https://main.qcloudimg.com/raw/28fd91a6ad96624d43057a37f7857ade.png)![](https://main.qcloudimg.com/raw/bda947c9903b1c5100b23d033f97342b.png)

### 设置环状图的内半径、分离距离、起始角度（企业版功能）
#### 内半径
设定环状图的内半径。
![](https://main.qcloudimg.com/raw/7f395f24b0cc4c71a892551eaa4f8c61.png)

#### 分离饼图
设定分离尺度后，环状图将被分离，**分离环图不能超50%**。如下图所示：
![](https://main.qcloudimg.com/raw/0824d13cbfd5b81b4df368745e566874.png)

#### 起始角度
当用户设定角度后，环状图将按照逆时针旋转相应度数，**旋转度数不能超过360**。
![](https://main.qcloudimg.com/raw/9b37bfb3e61696da41b5c81cee3feab0.png)![](https://main.qcloudimg.com/raw/b19fb3c22c6f723fa9de69a087ccd3dc.png)


### 设置组织图的方向、叶子、数值位置（企业版功能）
在组织图的右侧面板中选择绘图，打开标记下拉菜单，即可打开组织图的标记属性设置框，如下图所示：
![](https://main.qcloudimg.com/raw/362a7592b2caccb5c096b42ca7ced366.png)

【方向】设置组织图的展开方向，横向是由左向右，纵向是由上到下。默认是横向。
【值位置】设置标签值显示的位置。当方向是纵向时，位置是前置和后置，内部。默认是内部。
【合并叶子】设置最后的叶子节点是否合并显示。默认是自动。

例如：
属性设置：“方向：纵向；值位置：内部；合并叶子：合并”，显示如下图：
![](https://main.qcloudimg.com/raw/d0d8ab38d53daff21db7bf728f0ae27e.png)

### 设置不同渲染方式的地图标记（企业版功能）
不同的渲染方式对应的标记不同。

#### 点渲染
在地图的右侧面板上打开绘图-标记，即可打开点渲染的地图标记属性设置面板，如下图所示：
![](https://main.qcloudimg.com/raw/b167d97f55b0099d64ab2ba52a07f949.png)

显示值、大小、提示信息的详细介绍见柱状图。

#### 区域渲染
在地图的右侧面板上打开绘图-标记，即可打开区域渲染的地图标记属性设置面板，如下图所示：
![](https://main.qcloudimg.com/raw/8165ac79bfce3b8210a7ef580a905eeb.png)

显示值、提示信息的详细介绍见 [柱状图](https://cloud.tencent.com/document/product/590/19752#.E6.9F.B1.E7.8A.B6.E5.9B.BE.26amp.3B3d-.E6.9F.B1.E7.8A.B6.E5.9B.BE)。

#### 迁徙渲染

详见 [迁徙图的标记](https://cloud.tencent.com/document/product/590/19752#.E8.AE.BE.E7.BD.AE.E8.BF.81.E5.BE.99.E6.95.88.E6.9E.9C)。

#### 热力渲染

热力渲染时，不支持标记。

## 创建度量组
用户有时候会遇到不只是 stack 同一个 mark 内部的值，而是想 stack 多个 measure 的值，这个取决于用户的数据是如何定义的，如果有一列数据是产品，一列数据是北京的销售额，一列数据是上海的销售额，一列数据是南京的销售额，那么这个 stack 就比较有意义了。
例如：在 chart 的绑定的 tree 上的菜单 More 中可以创建一个度量组，见下图：
![](https://main.qcloudimg.com/raw/4246f9bfcebf2cd609fd488730957510.png)

然后就弹出新建度量组的对话框：
![](https://main.qcloudimg.com/raw/7f6fd22648175dc7de121561fd611e48.png)

输入度量组的名称，勾选要创建度量组的 Measure ，单击确定后生成了名为度量组的度量字段，同时在维度下面也生成了一个度量组 \_names 的维度字段，将度量组 \_names 绑定到美化界面上，此时就实行了放在一个组里的所有的度量字段都能堆积显示出来，此时显示出来的效果是如图所示：
![](https://main.qcloudimg.com/raw/e38a91453606baf814433da8f2c1aad1.png)

可以对绑定的度量组中的字段进行分别起别名，如下所示：
![](https://main.qcloudimg.com/raw/945a7baf70e7b049eb9a965b46672130.png)

单击组内度量别名后，可以在弹出的对话框中修改别名，情况如下图：
![](https://main.qcloudimg.com/raw/273e6a02e12c272130b2c70829982a10.png)

单击确定后的情况如下图：
![](https://main.qcloudimg.com/raw/18994f77b55d306b03d12c4e79e6f027.png)

## 设置图表格式

### 组件格式
用户可设置图表的整体格式，也可单独设置图表不同区域的格式。图表的整体格式即组件格式。
选择组件，在右侧面板打开常规，打开组件格式的下拉菜单，如下图所示：
![](https://main.qcloudimg.com/raw/e1e0d8684a7bcb9c8a270f8ed996e50d.png)

【字体】设置组件中文本的字体。
【字号】设置组件中文本的字体大小。
【背景颜色】背景颜色包括单色、双色、图片，用户可根据需要进行设置。
【粗体】设置组件中文本的字体为粗体。
【斜体】设置组件中文本的字体为斜体。
【下划线】为组件中的文本设置下划线。
【删除线】为组件中的文本设置删除线。
【字体颜色】设置组建中文本的字体颜色
【边框】可为组件添加边框，以及设置边框的格式和颜色。
【透明度】设置背景色的显示程度。

设置背景颜色：

- 图片：用户可以导入图片，在图片列表中单击图片的名称，可在右侧区域预览该图片。图片的类型分为拉伸、重复、九宫格缩放。

当图片类型为拉伸时，不能设定单位，图片按照当前图表的宽高比例进行显示，如下图所示：
![](https://main.qcloudimg.com/raw/bc8a3869574bd07bb21aa5dbc76ed1d1.png)
当图片的类型为重复时，图片按照原图比例在图表上显示，不能设定单位。当原图比图表的小时，则在图表上进行重复显示，如下图所示：
![](https://main.qcloudimg.com/raw/3ba16bac4310e92ec6932abad9a3bde2.png)
当图片的类型是九宫格缩放时，用户可设定缩放位置，则当前图片在图表上以此位置区域进行缩放，设置顶部100px，底部200px，左100px，右200px。如下图所示：
![](https://main.qcloudimg.com/raw/6c209ddd616737396581bec44d7cb15e.png)

- 单色：当选择图表的背景类型为单色时，用户可设定背景的颜色以及渐变类型，本产品提供多种颜色渐变类型，用户可根据需要进行选择。
![](https://main.qcloudimg.com/raw/e88bec5561c3207ea84386b4a9f2bedb.png)

- 双色：当选择图表的背景类型为双色时，用户可设定开始的颜色、结束的颜色，以及渐变类型，本产品提供多种颜色渐变类型，用户可根据需要进行选择。
![](https://main.qcloudimg.com/raw/21e6f565cbe22e09885f3c451b7d8cd6.png)

### 图表的标题区域格式

用户首先选中图表的标题区域，然后在右侧面板打开常规，即可设置标题的格式信息，如下图所示：用户可根据需求进行设置。
![](https://main.qcloudimg.com/raw/1b131cd6821050bc5caec61df85457dd.png)

如下图所示，对标题进行格式的设置。
![](https://main.qcloudimg.com/raw/67b33f7cb50b8ebf9dee1e9dfb0e2e9a.png)![](https://main.qcloudimg.com/raw/aff00b017304bb328705a26877782231.png)

### 轴的标签区域格式

用户首先选中轴的标签区域，然后在右侧面板打开常规，即可设置轴标签的格式信息，如下图所示：用户可根据需求进行设置。
![](https://main.qcloudimg.com/raw/d97f21455a3ba5292de3b5dab9a68901.png)

如下图所示，对轴标签进行格式的设置。
![](https://main.qcloudimg.com/raw/e1b93d4260ab7d33f9b42f148ded7821.png)


### 轴线格式
用户首先选中轴（在轴线设置），然后在右侧面板打开常规，即可设置轴线的格式信息，可对轴的显示颜色进行修改，如下图所示：
用户可根据需求进行设置。
![](https://main.qcloudimg.com/raw/0bf3743e9ab7e357bed0f3f84953c515.png)


如下图所示，用户对轴的颜色进行设置。
![](https://main.qcloudimg.com/raw/e76d1c3cfcf25ee6e12e8c7251573068.png)


### 图表区域格式

用户选中图表区域，然后在右侧面板打开常规，即可给图表区域添加边框，以及设置背景颜色和透明度，如下图所示，用户可根据需求进行设置。
![](https://main.qcloudimg.com/raw/606255dc501faab34176d09b5b1ca5dc.png)


用户给图表区域添加背景色以及添加左右下三个边框，如下图所示：
![](https://main.qcloudimg.com/raw/2518f2c2193912550718466b10ebead8.png)


其中地图图表区域的局部格式，是对应地图各个区域及区域间隔线的格式，用户给地图的图表区域添加背景色及边框线后，如下图所示：
![](https://main.qcloudimg.com/raw/876b3248bac519624ee9b2a45c6edf55.png)


### 标记区域格式

标记未绑定颜色时，用户选中标记，然后在右侧面板打开常规，即可设置标记的格式信息，如下图所示：
用户可根据需求进行设置。
![](https://main.qcloudimg.com/raw/d5b09547df11288414f6ce0db05cb493.png)


背景类型有四种：单色，渐变，图片，图案。其中单色，渐变，图片，请参见 [图表美化-标记颜色](https://cloud.tencent.com/document/product/590/19752#.E6.A0.87.E8.AE.B0.E9.A2.9C.E8.89.B2)  和  [图表美化-标记图案](https://cloud.tencent.com/document/product/590/19752#.E6.A0.87.E8.AE.B0.E5.9B.BE.E6.A1.88) 的介绍。

这里详细介绍图案，选择图案后，界面如下：
![](https://main.qcloudimg.com/raw/e254d084ca13872fd2062ea4a533d919.png)

【背景颜色】设置标记的背景色。
【图案颜色】标记图案的颜色。
设置后的图表显示如下（图案颜色 FFFF1C，形状第一行第二个）：
![](https://main.qcloudimg.com/raw/436ec6a2672e776db95785ccdd208170.png)

对于点图、堆积点图、地图，除了上面的样式外，用户还可以设置边框：
![](https://main.qcloudimg.com/raw/2f795e2fcf9a08b2da30f138b1809b48.png)

【曲线颜色】设置点的边框的颜色。
【线的样式】设置点的边框的样式。
设置后的图表显示如下（曲线颜色 FF2219，线的样式2px直线）：
![](https://main.qcloudimg.com/raw/d7a505303f477893d26a60a250d2e393.png)

### 标签区域格式

在图表上显示出标签，然后在右侧面板打开常规，即可设置标签的格式信息：
![](https://main.qcloudimg.com/raw/99b2c361f98d39dcfcd5f0b3291896ee.png)

设置格式，图表显示如下：
![](https://main.qcloudimg.com/raw/66dad536d7c9c7cbcb9d071e4f8d56b7.png)

### 图例的标题区域格式

用户首先选中图例的标题区域，然后在右侧面板打开常规，即可设置图例标题的格式信息，如下图所示：用户可根据需求进行设置。
![](https://main.qcloudimg.com/raw/c615fecf4ae92ca1467342bb20f702ff.png)

如下图所示，对图例标题进行格式的设置。
![](https://main.qcloudimg.com/raw/377cf5c99ac9903806a781f23023c459.png)

### 图例的标签区域格式
用户首先选中图例的标签区域，然后在右侧面板打开常规，即可设置图例标签的格式信息，如下图所示：用户可根据需求进行设置。
![](https://main.qcloudimg.com/raw/0148f9fb04d35db7746d1a483f21d3ab.png)

如下图所示，对图例的标签进行格式的设置。
![](https://main.qcloudimg.com/raw/4353cff0c49217aaed48b73d077ba82d.png)


## 设置叠放层次
叠放层次分为到顶部和到底部。当存在组件的重叠现象时，使用此功能可以调整组件的显示顺序。
例如：下面的报告中，文本框被表格组件遮挡，需要通过叠放层次的设置，把文本框放在报告的最顶层。
![](https://main.qcloudimg.com/raw/e785b2c6ed06d174a562e331ee880331.png)
1. 选中需要设置层次的组件，例如文本组件。
2. 单击更多，选择【叠放层次】>【到顶部】。
![](https://main.qcloudimg.com/raw/2a0506c4a98ffb3249ad7400c62f06bd.png)
3. 文本组件出现在表格上层，如图所示。
![](https://main.qcloudimg.com/raw/f2ad23f3849911cd157b00ba6d39f6ae.png)


## 可视化分析
在仪表盘中各个组件根据各自特性，可以提供不同语义的数据展现。腾讯云认为数据展现不是结束，而只是开始，看到问题，更需要解决问题。要满足用户的日常管理和决策，操作型商业智能的实时性要求就成为必然。为满足普通的用户对商业智能系统提供服务的实时性需求，不同特点的组件都提供了各自相符的数据分析的功能操作。

### 聚合计算
图表，表，交叉表，文本，仪表等组件绑定的度量列支持切换不同的聚合方式去展示数据。以表格为例，首次绑定一个度量列时，列的聚合方式默认为总和，可再次绑定4次，聚合方式默认依次为平均、计数、最小值、最大值，之后不能再绑定此列。
产品中提供了23种聚合方式，详细说明请参见 [表-聚合计算](https://cloud.tencent.com/document/product/590/19758#.E8.81.9A.E5.90.88.E8.AE.A1.E7.AE.97)。

### 动态计算（企业版功能）
动态计算器是表、交叉表和图表组件特有的，用来计算格子之间的数值变化。例如求同比，环比，年度百分比，总计百分比等等。此类计算器只能保持在单个组件里，不能被其他组件重复使用。
动态计算器指每个格子的数值是动态计算出来的，也可以称为是格间计算。主要解决在表格中沿着特定的方向来动态计算出数值。其中有两个要素，即计算方向，和计算方法（或函数）。
计算方向就跟表的结构有关系。如果想做产品关于季度增量的环比计算，就需要把产品字段和季度字段作为分组，沿着季度字段来计算。我们把分组叫做分区（Partition）。沿着什么方向叫做基于的方向（Addressing）。
计算函数包括差值，百分比，差值百分比，汇总百分比，累积计算，移动计算和排名计算。每一种计算函数都有一些特殊的属性和参数。
界面上提供了一些内置的计算函数和计算方向，用户也可以根据需要自定义计算函数和计算方向。对于自定义的计算函数，还可以使用二次计算的属性，即当前动态计算可使用其他动态计算的结果再做第二次计算。
详细说明请参见 [表-动态计算](https://cloud.tencent.com/document/product/590/19758#.E5.8A.A8.E6.80.81.E8.AE.A1.E7.AE.97.EF.BC.88.E4.BC.81.E4.B8.9A.E7.89.88.E5.8A.9F.E8.83.BD.EF.BC.89)。

### 同比/环比计算
同比环比适用于表、交叉表、图表组件，通常用来分析本阶段和上一个阶段的增长率。
同比（Year-on-year）是本阶段的某个周期与上个阶段的相同周期比较，适用于观察某个指标在不同阶段的变化，例如本周本日与上周本日比较，本年同月与上年同月比较等；环比（Month-on-month）是某个阶段与上一个阶段等时长比较，例如上周和本周，上月和本月，上季度和本季度等等，用于表示数据的连续变化趋势。
产品中提供两种方式计算同环比：按日期维度计算、按非日期列计算。详细说明请参见 [表-同比/环比计算](https://cloud.tencent.com/document/product/590/19758#.E5.90.8C.E6.AF.94.2F.E7.8E.AF.E6.AF.94.E8.AE.A1.E7.AE.97)。


### 数据分组（企业版功能）
在表、交叉表、图表组件中可以进行分组操作，也就是说可以将两个字段合并成一组，那么取消分组就是将合并在一起的字段再拆分的过程。

**示例1**：表、交叉表组件的分组。
1. 用鼠标选择想要分组的字段，然后右键选择【分组】，弹出了分组的对话框，如下图所示：
![](https://main.qcloudimg.com/raw/b0537d43abe017b48c412ce48e3fd137.png)
2. 单击【确定】，上面所选的两个字段分到了一组里面，见下图：
![](https://main.qcloudimg.com/raw/dba1fbb6486a35f736e3d94d36044e23.png)


**示例2**：图表组件的分组。
1. 用鼠标选择想要分组的字段，如下图所示。
![](https://main.qcloudimg.com/raw/2fcac683b160f4e5ecdf40a54a105169.png)
2. 右键选择【分组】，弹出了分组的对话框，设置分组名称，如下图所示：
![](https://main.qcloudimg.com/raw/04ab016275b910bb2328cf2b8cd7ccdc.png)
3 单击【确定】，上面所选的三个字段分到了一组里面，见下图：
![](https://main.qcloudimg.com/raw/71504dd9ae6cd1d0ca84b5ae94b3b708.png)


### 设置目标线

用户可通过右侧面板-设置界面在图表中设定目标线。
假设存在如下图表。
![](https://main.qcloudimg.com/raw/b3d46be3752dbd1eed399e5cb8e9a563.png)
选中图表，单击右侧面板的设置，单击目标线的添加按钮，打开目标线对话框。
![](https://main.qcloudimg.com/raw/799153f54d8400906626f030fe2d31d5.png)
【名称】设定目标线的名称。
【起始值】设定目标线的开始值，有填充颜色时才能看出效果。
【目标值】设置目标线的目标值：可通过下拉菜单选择计算依据的度量（在已绑定的度量列中选择）、进行计算的算法。其中目标值中可通过下拉菜单选择输入常量或者常用函数列表。
![](https://main.qcloudimg.com/raw/402585def8aa91a7469215f748d9aecf.png)
- 常量：默认的初始值为常量，用户可在右侧出现的文本输入框中输入需要的值。
- 常用函数：用户可选择函数：最大值、最小值、平均数、中位数，将以度量列计算后的结果为目标值。
- 特殊函数：四分位数，选中四分位数后右侧出现一个下拉菜单，
