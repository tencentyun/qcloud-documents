## 操作场景

Sparkling 数据仓库套件支持多样化的数据接入方式：

- 腾讯云数据库（CDB）数据接入：可以将云数据库中的数据接入到 Sparkling 中。
- 腾讯云对象存储（COS）数据接入：可以通过生成帐户密钥，建立存储桶（bucket）进行数据接入。

同时，支持 RDBMS 增量同步及定时数据接入功能，可以通过时间戳增量追加方式实现增量同步，通过自定义调度周期实现定时数据接入功能。
## 操作步骤

### RDBMS 数据接入

1. 进入 [集群管理](https://sparkling.cloud.tencent.com) 页面，在左侧导航单击【数据】进入数据接入页面。
2. 配置数据源。![](https://main.qcloudimg.com/raw/a6493af4828cda6588c695300804207d.png)
   a. 选择【RDBMS】数据类型。
   b. 填写云数据库所在【服务器地址】和【端口号】。
   c. 填写要接入的数据表所在的【用户名】、【密码】、【数据库名】、【表名】。
>?单击【测试连通性】确认是否可以连接到要接入数据表所在的数据库。
>
 d. 单击【预览表】可以查看表预览信息。

3.	选择目标表操作方式，支持【新建表】和【导入已有目标表】两种方式。
**新建表方式**
![](https://main.qcloudimg.com/raw/4bdfa11a4794c3642888dd4b14aa006c.png)
a. 选择【新建表】，并填写【标题】和【描述】。
b. 存储信息中可以设置字段名、描述、分区值及字段顺序，支持字段裁剪（即导入部分字段），可单击<img src="https://main.qcloudimg.com/raw/4b6a2b1323506799dbdfb1db1a38b978.png"  style="margin:0;">按钮将该字段设为分区列。
c. 选择格式类型，支持【ORCFILE】和【PARQUET】两种格式。
d. 设置定时任务配置，新建表方式仅支持单次调度，加载方式可选择【时间戳增量追加】或【整表全量导入】。选择【时间戳增量追加】后需增加过滤条件，该方式只导入符合该过滤条件所包含的时间范围的数据，具体可参看语法说明；选择【整表全量导入】后可选择【写入前清理已有数据】（Insert Overwrite）或【写入前保留已有数据】（Insert）。
e. 确认无误后，单击【确定】，即可完成新建表方式数据接入操作。

 **导入已有目标表方式**
![](https://main.qcloudimg.com/raw/36feef1aba387b42c9bcb4307e8426b8.png)
a. 选择【导入已有目标表】，并选择【目标表名】和【目标分区】，【目标分区】可参考提示进行选择，单击【字段映射】后将对字段名和类型一致的字段进行匹配。
b. 设置定时任务配置，可选择【单次】调度或【例行】调度，【单次】调度方式可参看上述新建表定时任务配置方式；选择【例行】调度后，需设置间隔周期并定义调度时间，例如天：00时00分，即每日0点0分自动开始执行任务。选择合适的例行时长、前序并发设置项、数据加载方式及清理规则后即可完成定时任务配置。
>?此处调度周期设置完成后，任务第一次执行是开始时间 + 一个调度周期。
>
![](https://main.qcloudimg.com/raw/bf2619d307dbe205dc0e79636e8d533e.png)
c. 确认无误后，单击【确定】，即可完成导入已有目标表方式数据接入操作。可在页面左侧【任务】栏查看该datasync任务具体细节。

### COS 数据接入
1. 在左侧导航单击【数据】进入数据接入页面。
2. 配置数据源。![](https://main.qcloudimg.com/raw/eb1873256808e5797cd8ede21ab989b5.png)
   a.数据类型：选择【COS】数据类型。
   b.地域：选择 COS 存储桶所在地域。
   c.授权方式：选择用户密钥授权。
   d.SecretID/SecretKey：填写您已生成的密钥，可在帐户信息中查看。
   e.存储桶：填写您在 COS 中已生成的存储桶名称和您的 appid。单击【浏览存储桶】可以查看当前存储桶下的数据。
	 >?存储桶名称需要按<目标存储桶名称-appid>格式填写，例如：sparkling-12334513，桶名和 appid 可在帐户信息中查看。
	 >
   f.预览数据：单击【预览数据】可以预览接入的数据。
   g.基本信息：填写接入的表信息。
   h.存储信息：选择格式类型，支持【ORCFILE】和【PARQUET】两种格式。
3. 确认信息无误后，单击【确定】完成数据接入操作。





