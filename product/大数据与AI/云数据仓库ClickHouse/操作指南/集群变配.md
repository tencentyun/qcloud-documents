## 功能介绍
当集群当前的规模及配置不满足使用需求时，ClickHouse 集群管理提供了水平扩容、垂直变配功能，帮助您完成集群横向集群节点扩展，纵向节点规格等调整。
>!
>- 操作集群需处于稳定的运行中状态。
>- 操作主账号无欠费、待支付订单情况。

## 水平扩容
>?
>- 水平扩容过程中，系统可读不可写，执行操作大约需要5 - 15分钟，请选择在非业务高峰期进行。
>- 在数据存储量及查询量均相对增长时，优先选择水平扩容。
 
1. 登录 [云数据仓库 ClickHouse 控制台](https://console.cloud.tencent.com/cdwch)，在需要操作的集群中选择**操作 > 水平扩容**。
![](https://main.qcloudimg.com/raw/c86f601f87e5fa180066e77315dba2ef.png)
2. 在集群水平变配页，选择将节点个数增加至需要量，新增节点默认增加至 default_cluster 分组，可选择添加至需要的分组中。按需选择**开启**同步建表，实现对新增节点库表的同步创建，需选择同步建表的参考节点；如不勾选**开启**同步建表，新加入的节点为空白节点。
>!
>- 当前同步建表支持常见的库引擎和表引擎，包括 MergeTree 类型、非 MergeTree 类型（如外表，Log 表等）、物化视图等。
>- 水平扩容中，可能因多种因素（如表不支持多节点创建等）导致同步建部不成功，因此水平扩容完成后，需用户根据同步表执行结果情况自行完成未成功表的同步。
>
![](https://main.qcloudimg.com/raw/381e6736cd6ebe78e62d9818e1cdbf37.png)
3. 单击**确定**，确认页完成订单支付，集群状态“变更中”将持续5 - 15分钟。
4. 扩容完成后，进入集群详情页，切换到**操作记录**页签，单击**查看节点同步信息**。在节点同步表信息页面，确认开启同步建表的执行结果，可根据提供的同步创建不成功表的 SQL 语句自行完成异常表的创建。
 ![](https://main.qcloudimg.com/raw/1f0f3ad545f509d641836a005a942104.png)

## 垂直变配
Clickhosue 集群的垂直变配包括：计算节点规格升、降配，存储规格扩展；高可用集群的 ZK 节点规格升、降配，存储规格扩展。
>?
>- 垂直变配过程中，系统不可读不可写，执行操作大约需要5 - 15分钟，请选择在业务低峰期进行。
>- 当集群的节点性能指标（包括 ZK 性能指标）与业务场景需求不匹配时，请优先选择垂直变配。
>- 仅标准型集群可操作垂直变配，单次只能操作计算节点或 ZK 节点的垂直变配。
>- 计算节点和 ZK 节点的存储规格仅支持升配，不支持降配，请悉知。
 
1. 登录云数据仓库 ClickHouse 控制台，在需要操作的集群中选择**操作 > 垂直变配**。
![](https://main.qcloudimg.com/raw/b3fabd0e611ebac0b71bed510aceaf6a.png)  
2. 在集群水平变配页，选择节点变配的计算规格，按需升配存储规格。
>!支持节点的计算规格和存储规格支持同时或单项升配，当操作计算规格降配时不可操作存储规格。
>
![](https://main.qcloudimg.com/raw/8fe943b0fdd61949354984a429c66eb2.png)
3. 单击**确定**，确认页完成订单支付，集群状态“变更中”将持续5～15分钟。
 
