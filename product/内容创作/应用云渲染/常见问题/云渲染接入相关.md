## 接入相关问题
### 在接入之前需要做哪些准备?
具体请参见 [接入准备文档](https://cloud.tencent.com/document/product/1547/72169)。

### 应用云渲染云 API 的 Region 参数指的是并发资源地区吗？
不是。Region 是云 API 的公共参数，在应用云渲染的云 API 中是不需要填的。应用云渲染服务会根据 UserIP 选择最优接入区域，不需要业务指定。

### 应用云渲染是否支持用户排队？
应用云渲染的排队页面是需要业务方来开发的，相关功能请参见 [排队功能](https://cloud.tencent.com/document/product/1162/56339)。

### UserId 和 RequestId 分别指的什么？
UserId 是业务方自定义并传给云渲染服务的用户唯一标示字符串，例如 user123456。云渲染服务接到请求的云 API 之后，会回给业务方一个 RequestId，例如 `01fdc815-c4e7-4642-819e-a011856dfd5a1`。

### 如何查看 RequestId?
1. 在 Chrome 浏览器开发者工具中 NetWork 获取 CreateSession 的 RequestId。
2. 云 API 返回值中包含 RequestId，建议业务后台记录下来。

### 业务可以获取到云渲染资源的公网 IP 来实现访问白名单或者其他功能吗？
不可以，因为云渲染服务提供的外网 IP 是不固定的。需要业务放开对所有来源 IP 使用 UDP 8000 端口限制，如无特殊安全问题，建议放开所有 UDP 端口限制。

---
## 并发资源调度相关问题
### 应用云渲染并发包指的是什么？如何确定购买数量？
应用云渲染并发包是应用云渲染最小购买单位，每个并发包可以包括若干个并发，一路应用云渲染并发最多只能同时支持一个用户连接。您可以根据您的业务需要（用户并发数的峰值、平均值以及潜在用户的所在地域）选择您购买并发的数量和地区分布，来为您的用户提供最优质的云渲染服务。

### 直接退出 web 页面等客户端时，应用云渲染并发需要多久释放？
如果前端用户直接关闭页面断开云渲染服务连接时，因为未调用 [DestroySession](https://cloud.tencent.com/document/product/1547/72812)，应用云渲染并发将保持 90s 的重连时间等待用户重连。

### 如何知道用户什么时候断开云渲染连接？
建议在客户的业务后台和客户端直接维持一个心跳，通过心跳来感知用户断开连接。

### 如何立即释放应用云渲染并发？
后端主动调用云 API 中的 [DestroySession](https://cloud.tencent.com/document/product/1547/72812)。

### 应用云渲染在调用申请并发的 API 接口时，提示”没有空闲并发”要怎样处理？
可以按照如下几项进行排查：
- 控制台没有并发包是无法调度的，确认是否已购买应用云渲染并发包。
- 控制台查看请求项目下是否绑定了并发包，没有的话需要绑定对应类型并发包。
- 控制台查看请求项目下是否有空闲并发，上一个用户退出应用后并发会有一个清理恢复过程，需要等待并发恢复空闲才可以申请成功。

### ApplyConcurrent 和 CreateSession 能不能重复调用? 重复调用是连接到新并发还是原来并发？
可以重复调用。如果原有并发没有被回收，则连接原来并发，同时会断开原来的客户端连接； 如果原来并发已经被回收，则连接新并发。
![](https://qcloudimg.tencent-cloud.cn/raw/0366de95821633f5f3aea04a8e84795d.png)

---
## JS SDK 相关问题
### 浏览器控制台报 setServerDescription 失败?
通常是 CreateSession 请求获取 ServerSession 的结构层次不对，把返回结果打印下就可以知道如何获取。 

### 打开数据通道为什么返回失败（code≠0）？
需要收到 SDK 回调的 onConnectSuccess 再创建数据通道。

### 移动端如何实现自动横竖屏？
因为云端推流是固定横屏，移动端要竖屏展示需要旋转操作。可传 init 参数，autoRotateContainer（旋转容器），autoRotateMountPoint（旋转挂载节点）。

### 微信上自动播放为什么受限？
微信 WebView 限制，需要有 User Action 才会播放，也可以监听 WeixinJSBridgeReady 回调后 init SDK。

### 鼠标模式有哪些？
目前有 3 种模式。鼠标模式 0 无鼠标下发，鼠标模式 1 下发鼠标由 SDK 进行鼠标绘制，鼠标模式 2 为云端绘制鼠标延迟比 1 大，建议优先用鼠标模式 0 或 1。默认鼠标模式 0，具体实现请参见 [JS SDK 接口说明](https://cloud.tencent.com/document/product/1547/72694)。

---
## SDK Plugin 相关问题
### 摇杆按钮点击方向为什么不对？
建议创建摇杆在 connectSuccess 之后再操作。

---
## 数据通道相关问题
### 数据通道在什么时候可以创建？
数据通道是基于连接正常而建立的，建议在 onConnectSuccess 之后再调用创建。

### 数据包传输大小是否有限制？
服务对传输数据包大小没有限制，但是需要注意 UDP 最大包长是 64KB，建议包大小应该小于 MTU 1500。如果包体过大，建议通过分包形式传输，如果太多数据上行容易导致拥塞影响体验。

---
## 画面相关问题
### 产品的编解码方式是怎样的？
云渲染服务默认使用 H.264 编码，在支持 H.265 的场景时会自适应的使用 H.265 和 H.264 编码。

### 窗口捕捉模式画面为什么显示不全？
可以按照如下进行排查：
确认启动是否只有一个应用，再确认下窗口大小是否超出了桌面大小。
确认启动过程中存不存在一个类名窗口名都和指定应用相同的进程出现过，可能抓到了这个临时进程。
