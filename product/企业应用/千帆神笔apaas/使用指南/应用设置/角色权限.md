## 功能简介

角色权限用于给应用的不同使用者添加不同的操作权限设置。权限在aPaaS应用中分为三大类，分别是页面功能权限、数据权限、流程权限。每一类在应用搭建的过程中会生成若干个权限子项，例如新建了一个页面，此时就会在功能权限中新增一个与之对应的页面访问控制权限子项。在千帆神笔 aPaaS 中，需要将角色与用户进行绑定，实现用户与权限的关联。
同时，神笔提供在两种状态下添加角色入口，分别是：在设计态情况下供开发者使用的预设角色管理，为方便预设角色和自定义角色随应用打包发布；以及在运行态情况下供业务人员使用的角色管理，为方便终端用户在使用应用过程中自定义添加角色。

## 预设角色管理

在设计态情况下供开发者使用的预设角色管理，为方便预设角色和自定义角色随应用打包发布。

### 角色设置

####  操作路径

登录 [千帆神笔 aPaaS 设计态](https://apaas.cloud.tencent.com/) 首页，进入应用设计，单击**应用设置**＞**角色权限**＞**预设角色管理**页面进行角色权限设置。

![image-20211207165712874](https://qcloudimg.tencent-cloud.cn/raw/bf641b1f9c1fffc93b2a74e773bab8b7.png)

#### 新建角色

当前系统已经预设一些角色权限，如果不能满足业务需求，可以单击**新建角色**进行新增角色权限配置。
>?新增权限策略中默认授权代表：当应用中有新增的权限项产生时，自动向有该应用访问权限且默认授权的角色授予此新增权限项。默认不授权代表：有新增的权限项产生时，默认对本角色不授予此新增权限项。

![image-20211207161040223](https://qcloudimg.tencent-cloud.cn/raw/a1a3b82da2ea54a60ec6885e1fbca226.png)

#### 复制角色

角色管理页面的**复制**功能用于复制当前角色及角色下配置的权限。![image-20211207162016494](https://qcloudimg.tencent-cloud.cn/raw/3c0c10d32ff49b4b7d7677a3056b04a1.png)        

#### 权限配置

对新增角色和预设角色的权限设置可单击**权限配置**按钮进行操作设置，权限配置支持设置功能权限、数据权限和流程权限，可根据业务需求针对不同角色进行不同权限配置。
![image-20211221114107235](https://qcloudimg.tencent-cloud.cn/raw/4c645bb06f6a1b1954690710da25a424.png)
权限配置界面如下：
![image-20211221114658820](https://qcloudimg.tencent-cloud.cn/raw/d1eec475e559e4f3de3dcb44216a2b5f.png)        

#### 删除角色

如需删除多余的角色，可单击**删除**按钮进行操作。
>?预设角色不可以删除，只能删除开发者新增的角色。

![image-20211221114757596](https://qcloudimg.tencent-cloud.cn/raw/c6d9fda51b595b9ad3f833b03b08ef02.png)

#### 编辑角色

如需重置角色名称或权限策略等，可单击**编辑**按钮进行操作。
>?预设角色不可以编辑，只能编辑开发者新增的角色。
>
![image-20211221115012184](https://qcloudimg.tencent-cloud.cn/raw/f7e9d17270913bcc32c2b10d1042c094.png)
修改界面如下：
![image-20211221115029688](https://qcloudimg.tencent-cloud.cn/raw/0322b300cbeb8dbbdd5125012f132ccf.png)

### 角色与用户绑定

1. 登录神笔应用中心页面（即千帆神笔 aPaaS 运行态首页），单击**管理后台**按钮。![image-20211207163804884](https://qcloudimg.tencent-cloud.cn/raw/c45f342acf6f5245c5da251c035bfef1.png)        
2. 单击**角色管理**页面，选择需要授权的应用以及应用下的角色。![image-20211207165901594](https://qcloudimg.tencent-cloud.cn/raw/2d4272e6271d37ca8c240acf3295c6f9.png)        
3. 单击**添加成员**或**添加部门**按钮，进行角色与用户绑定，将人员添加到对应角色中，单击**确定**按钮即可完成添加操作。![image-20211207164711965](https://qcloudimg.tencent-cloud.cn/raw/74262a92201bb2e1e4ea2d6ba7959055.png)         

## 运行态角色管理

在运行态情况下供业务人员使用的角色管理，为方便终端用户在使用应用过程中自定义添加角色。

1. 登录神笔应用中心页面（即千帆神笔 aPaaS 运行态首页），单击**管理后台**按钮。
![image-20211207163804884](https://qcloudimg.tencent-cloud.cn/raw/c45f342acf6f5245c5da251c035bfef1.png)        
2. 单击**角色管理**页面，进入后单击**添加角色**按钮，创建角色。
![image-20211207164827528](https://qcloudimg.tencent-cloud.cn/raw/72648f53fb07d551a76925f1d41fa03c.png)        
3. 填写角色名称（必填项），角色描述（非必填项），权限策略（必填项）和所属应用（必填项）。
>? 新增权限策略中默认授权代表：当应用中有新增的权限项产生时，自动向有该应用访问权限且默认授权的角色授予此新增权限项。默认不授权代表：有新增的权限项产生时，默认对本角色不授予此新增权限项。
>
![image-20211207165133815](https://qcloudimg.tencent-cloud.cn/raw/327639cedc8f05b7a9ce1bf7decfa84b.png)        
4. 已成功创建角色，建议单击**继续配置权限**按钮，为该角色配置业务权限。
![image-20211207165237501](https://qcloudimg.tencent-cloud.cn/raw/27aa9be299e1bc07364b959e52ee0186.png)        
5. 根据该角色的业务需求设置功能权限、数据权限和流程权限。
![image-20211207165258522](https://qcloudimg.tencent-cloud.cn/raw/e9679088701a7d8fe04cafab830bb580.png)



