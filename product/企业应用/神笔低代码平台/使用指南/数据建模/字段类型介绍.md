## 自定义业务对象
自定义业务对象是相对于客户、联系人、销售机会等标准业务对象而言，当标准业务对象无法满足特定场景下的需求时，使用自定义业务对象。本文主要介绍如何添加新的自定义业务对象以及如何根据个人需求来定义该业务对象的字段等。

## 添加自定义业务对象
1. 登录 [千帆 aPaaS 官网](https://apaas.cloud.tencent.com/sign/in)，创建空白应用。
2. 在进入应用首页后，单击【对象建模】，再单击左侧对象列表处的【+】 。
![img](https://main.qcloudimg.com/raw/15f6dce462bccedba616522021ee9603.png)        
3. 新建业务对象的页面如下图所示，其中有“\*”标识的为必填项。
 - 业务对象名称：对象名称用于页面定义、对象模型、权限模版里选择显示，至多100字符，可输入汉字、字母、数字、下划线等内容。
 - 对象 ID：对象 ID 用于接口调用元数据接口时使用。
 - 描述：用于记录该业务对象的信息。
 - 主字段类型：支持文本和自动编号。
    - 下图所示为选择“文本”的页面，如果选择文本，表示主属性字段的内容需要用户输入。
    - 下图所示为选择“自动编号”的页面，如果选择自动编号，表示主属性字段的内容将按照配置的规则自动生成，用户在新建页面上无法查看，且不能修改。关于自动编号的详细介绍请参考字段类型介绍中的自动编号部分。
 - 主字段名称：用于配置业务对象主属性字段的名称。
 - 主字段 ID：主字段 ID 用于接口调用元数据接口时使用。
![img](https://main.qcloudimg.com/raw/fa3ebe14151c05915343ba785d88b9d8.png)        
![img](https://main.qcloudimg.com/raw/cd2dde2d309cb024c5fa5e08713a12bf.png)        
4. 设置完成后，单击【确定】，新添加的业务对象将显示在业务对象列表中，如下图所示，可在左侧勾选框中选择是否在画布信息中展示。

## 设置自定义业务对象
###  添加字段
- 字段是用来承载业务对象上业务信息的载体，千帆 aPaaS 平台支持丰富的字段类型，可以根据业务的不同选择符合要求的字段类型来进行业务逻辑的配置。
- 字段分为系统标准字段和自定义字段两种。
 - 系统标准字段在创建业务对象时自动生成，用于存储标准的业务数据，例如：创建人、时间等。
 ![img](https://main.qcloudimg.com/raw/b268c45dc7d09502684c6b1a7957f06f.png)   
 - 自定义字段根据业务需求自行创建。自定义字段可通过对象中的添加字段添加或者通过右侧的元素列表进行拖动。
 ![img](https://main.qcloudimg.com/raw/5913576a82031daa5b2fed3cfeb3b119.png)        
    - 在属性列对字段基本属性进行设置，包括字段名称、字段 ID 等。
 ![img](https://main.qcloudimg.com/raw/df6b62b19f6e89071ea3d3e23227a9f9.png)        

### 字段类型介绍
不同的字段类型决定了该字段的展示方式以及允许存储的内容，千帆 aPaaS 平台支持的字段类型包括：自动编号、文本、枚举、级联枚举、实数、日期时间、整数、图片、文件、关联关系、主子关系、计算公式、富文本。

<dx-tabs>
::: 自动编号
系统会使用您定义的显示格式生成序列编号，对于每一条新记录编号都会自动递增。
![img](https://main.qcloudimg.com/raw/273ceb3102c7369b201b586b91ef5da6.png)        

**自动编号类型属性介绍** 

| 属性         | 属性说明                                                     |
| ------------ | ------------------------------------------------------------ |
| 前缀         | 自动编号生成的固定前缀                                       |
| 日期格式     | 年、年月、年月日、无（根据新记录产生时间生成）               |
| 基础编号位数 | 如果实际编号的位数小于此数，将在其前边置零                   |
| 开始编号     | 序列编号，根据开始编号，在新记录生成时依次递增生成         |
| 后缀         | 自动编号生成的固定后缀                                       |
| 重置规则     | 可选无或者固定周期，固定周期会在周期结束后编号会重置到开始编号 |
| NOTE         | 自动编号类型字段的内容为自动生成，无法设置                   |
::: 
::: 文本
允许用户输入任何字母合数字组合，文本类型在新建和新建完成后的展示如下图红框所示。  ![img](https://main.qcloudimg.com/raw/be90aa4907eab3778b31eaeae3d93f23.png)        
 ![img](https://main.qcloudimg.com/raw/8dc12fc023694465e6afbdf8faea4b92.png)        

**文本类型设置项介绍**

| 属性              | 属性说明                                                     |
| ----------------- | ------------------------------------------------------------ |
| 字段名称          | 字段的名称，支持字母、汉字、数字等字符                   |
| 字段 ID            | 字母开头加数字的组合形式，至多30个字符，只能使用大小写字母、数字及下划线，且必须字母开头 |
| 文本类型          | 255字符以内建议选短文本，超过255个字符建议选择长文本       |
| 长度下限-长度上限 | 可设置文本最小字符长度和最大字符长度                         |
:::
::: 枚举
允许用户自定义选项值，或者可关联通用选项集。
:::
::: 级联枚举
用户可以通用选项集定义多级枚举，创建字段时可关联通用选项集中的级联枚举。
 ![img](https://main.qcloudimg.com/raw/3ece5ddc56597f9f179123d3a4add0b5.png)   
:::
::: 实数
支持用户写入整数和小数，整数长度最大支持20位，小数长度最多支持8位。适用于场景金额、利率、平均数等，存储小数的场景使用。
:::
::: 日期时间
支持用户输入日期类型的数据。新建和新建完成后的展现形式如下图红框所示。     
![img](https://main.qcloudimg.com/raw/8ff49811e035de0472e4a40aa478c3c3.png)        
 ![img](https://main.qcloudimg.com/raw/30612249296a328445a73adbcc69159a.png)      
:::
::: 整数
支持用户输入任何整数，整数类型在新建和新建完成后的展示如下图红框所示。
![img](https://main.qcloudimg.com/raw/49125f8a03ca1562b0221673ec6552d6.png)        
 ![img](https://main.qcloudimg.com/raw/edccd3a5f0cc208a8d7c8e3c56d83914.png)        
:::
::: 图片
支持在创建新记录时上次图片。可单击【点击上传】进行图片上传，图片类型字段最多支持上传9张图片。图片类型在新建和新建完成时的展示形式如下图红框所示。
![img](https://main.qcloudimg.com/raw/e3746015d0a397e37dd630212eed96fe.png)                         ![img](https://main.qcloudimg.com/raw/9116663d9aa1321ff6f88c3f551ac578.png)        
:::
::: 文件
支持在创建记录时上传各种类型文件，文件数量最多10个，文件大小最大200M。
![img](https://main.qcloudimg.com/raw/0d282de6ce9910fa556682b0052c4783.png)        
 ![img](https://main.qcloudimg.com/raw/003b87a83ff5c39d2c88077a62984634.png) 
:::
::: 关联关系
**关联关系类型介绍**
- 创建一个对象链接到另外一个对象的关系，关联关系字段存储另外一个对象的唯一标识，将另外一个对象作为当前对象的父对象。
- 使用关联关系可以建立一对一的对象关系也可以建立一对多的关系。如果需要建立多对多的关系则需要通过建立中间对象去完成。例如：选课场景中的学生和课程即为多对多的关系。
- 关联关系建立后，可以通过定义级联删除规则，例如：对象 A 引用了对象 B，在删除 B 时可以选择删除 A 或者 A 对象引用 B 对象的字段数据被清除。可以根据不同的业务场景选择不同的删除类型。

**关联关系设置项介绍**
如下图所示，员工对象关联公司主体对象，在红框1中可以选择员工关联关系字段所关联的对象。红框2可以设置当公司主体记录删除时，此时员工记录的处理。
 -  提示不能删除：此时删除公司主体记录时会提示不允许删除。
 - 解除关联并删除：此时删除公司主体记录，会删除公司记录并且会清空员工对象关联的公司主体字段数据。
 - 无关联关系时删除：此时删除公司主体记录，如果存在当前记录被员工对象记录引用，则不能删除。     ![img](https://main.qcloudimg.com/raw/aa36cdb204e5b37b1a1201ccc0ecba05.png)        
:::
::: 主子关系
主子关系属于关联关系的一种情况，主子关系属于一对多关联关系，创建两个对象则存在父子关系。例如：订单对象和订单明细对象，订单明细依靠订单存在。

**主子关系设置属性介绍**

| 属性     | 属性说明                                                     |
| -------- | ------------------------------------------------------------ |
| 字段名称 | 必填，主子明细字段名称                                       |
| 字段 ID   | 必填，至多30个字符，只能使用大小写字母、数字及下划线，且必须字母开头|
| 主子关系|必填，选择需要关联的父对象名称 |
| 删除规则 | 默认为父对象删除时，子对象删除                                 |

![img](https://main.qcloudimg.com/raw/e09321e8a1129bfb359245bc87409361.png)        
:::
::: 计算公式
计算公式字段为通过表达式处理后的实数或整数。表达式使用介绍请参考 [表达式使用指南](https://docs.qq.com/doc/DTW5PZ2puUlhVVUtl)。
![img](https://main.qcloudimg.com/raw/c20424c057429fab3ef46e2e41e8cd32.png)        
:::
:::  富文本
富文本类型字段支持复杂类型文本。
:::

</dx-tabs>

