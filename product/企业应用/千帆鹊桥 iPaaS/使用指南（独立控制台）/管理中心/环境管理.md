## 操作场景

环境管理向用户提供一个便捷的环境和运行时环境查看、管理的路径，您可以一站式的查看部署环境的配置、使用情况以及运维信息。


## 环境管理页面

1. 登录 [腾讯云数据连接器控制台](https://ipaas.cloud.tencent.com/env)，在左侧导航栏单击**管理中心** > **环境管理**。
2. 环境列表页面展示各个环境的基本信息，如下图所示：
![](https://qcloudimg.tencent-cloud.cn/raw/479c5c1cb73011b2effea322fb2f13ac.png)
	- **环境名称**：展示当前用户有权限的所有集群的名称。 
	- **状态**：展示每个环境的瞬时状态，此处的展示会随着环境状态的变化而变化，目前暂不支持控制台操作创建、删除和扩容等操作，目前平台支持以下几种集群状态（后端执行对应操作，前端展示状态会更新），其中不同状态环境的可用性是有区别的：
<table>
<thead>
<tr>
<th>环境状态</th>
<th>可用性</th>
</tr>
</thead>
<tbody><tr>
<td>创建中</td>
<td>不支持发布</td>
</tr>
<tr>
<td>运行中</td>
<td>支持发布</td>
</tr>
<tr>
<td>扩展中</td>
<td>支持发布</td>
</tr>
<tr>
<td>删除中</td>
<td>不支持发布</td>
</tr>
<tr>
<td>不可用</td>
<td>不支持发布</td>
</tr>
<tr>
<td>创建失败</td>
<td>不支持发布</td>
</tr>
<tr>
<td>已停服</td>
<td>不支持发布</td>
</tr>
</tbody></table>
	- **区域-环境类型**：展示独立及共享环境的环境列表。当前平台支持两种不同的环境类型，不同的环境类型描述了不同环境的部署特点和资源能力。
		- 共享环境：所有用户共享的高可用的腾讯云数据连接器的运行环境，可用于快速发布应用。
		- 独立环境：基于数据和资源的安全性考虑，腾讯云数据连接器也提供资源和数据隔离性更强的部署模式，即独立环境。用户可以独占腾讯云数据连接器的运行环境，达到计算资源和数据的隔离，能够以较低成本，快速提升隔离级别。目前独立环境的已开放创建，需要使用该服务可以单击**购买环境**进行购买。
	- **环境套餐**：企业版（企业版独立环境才显示此字段）。
	- **到期时间**：对应环境使用的到期时间。
	- **资源**：CPU、内存、网络带宽的资源只有企业版环境显示购买时或升级后的配置信息，共享环境不展示。
	- **资源概览**：展示企业版环境的实际资源使用情况，共享环境不展示。
	- **操作**：目前支持应用管理、运行概况及配置信息等操作。


## 环境管理相关操作

### 购买环境
>?购买后会有1-3分钟的创建中状态，请耐心等待。
>
**共享环境**适用于新用户测试产品的基本功能，而独立环境（企业版）更适合作为线上业务的部署环境。
**独立环境**基于数据和资源的安全性考虑，提供了资源和数据隔离性更强的部署模式。用户可以独占腾讯云数据连接器的运行环境，达到计算资源和数据的隔离，能够以较低成本，快速提升隔离级别。适合作为线上业务的部署环境。

1. 登录 [腾讯云数据连接器控制台](https://ipaas.cloud.tencent.com/env)，在左侧导航栏单击**管理中心** > **环境管理**，单击**购买环境**。
  ![](https://qcloudimg.tencent-cloud.cn/raw/44edbfa993e18ea8635b57aad25483ac.png)
2. 进入配置选型界面，根据业务的需求选择对应的环境配置即可。若担心过高的配置造成资源浪费，可先选择基础环境配置，后续**变更配置**即可。更多购买相关内容可参考 [购买指南](https://cloud.tencent.com/document/product/1270/46585)。
![](https://qcloudimg.tencent-cloud.cn/raw/38d15375c3480a4b72c3ba688d0e5b99.png)

### 续费和升配
您可以在“环境管理”中对购买的企业版环境进行续费和升配。
#### 升配
>? 已停服的环境需先续费再升配。
>
登录到 [环境管理](https://ipaas.cloud.tencent.com/env)，单击**升配**。
![](https://qcloudimg.tencent-cloud.cn/raw/095405b4450e288b2da5664cd51ef565.png)
单击升配后，跳转至调整配置页面，选择对应要调整的目标配置即可。
![](https://qcloudimg.tencent-cloud.cn/raw/ee982a5cce914b55286ad208d7bf34df.png)

#### 续费
登录到 [环境管理](https://ipaas.cloud.tencent.com/env)，单击**续费**。
![](https://qcloudimg.tencent-cloud.cn/raw/f9dfe5cf4a000b06e0731be90d56999d.png)
选择要续费的时长即可。
![](https://qcloudimg.tencent-cloud.cn/raw/0052616b1d4d273ad03893258217950b.png)

### 查看环境详情
单击对应环境详情，可查看环境详情，包括：概况、应用管理、配置详情（独立环境展示）等信息。
![](https://qcloudimg.tencent-cloud.cn/raw/00c430f779a14765171fe0b07b31900d.png)
<dx-tabs>
::: 概况
在环境详情页的**概况**页签，对环境名称、状态、区域-环境类型、运行中集成应用数等相关信息做了集中展示，但共享环境和独立环境所展示的字段略有不同。如下图（红框标注为企业版环境特有展示字段，试用版环境不展示）：
![](https://qcloudimg.tencent-cloud.cn/raw/3abc9e8ed852bc5c2722d0c7d362bdf6.png)

- 共享环境：共享环境（试用版）的概况会展示该环境的基本信息、运行区域、运行状态等信息，同时会展示该环境中运行中的集成应用数以及运行中的集成流数。
- 独立环境：独立环境（企业版）的概况与测试环境类似，但是除了展示该环境的基本信息、运行区域、运行状态等信息，同时会展示该环境中运行中的集成应用数以及运行中的集成流数之外，还会展示当前环境的使用、运行状况（如CPU内存等的使用情况）。
:::
::: 应用管理
在环境详情页的**应用管理**页签，或从**环境管理** > **应用管理**，进入**应用管理**页签。此页面集中展示当前环境下的应用名称、应用状态、项目名称、部署时间、运行/调试版本及操作等内容，方便客户进一步查看和管理指定环境中的相关应用。
![](https://qcloudimg.tencent-cloud.cn/raw/598ef163f68512c2745ef98570c91a6d.png)
**应用管理的相关操作**：

- 开始：对环境内处于**已停止**状态的应用进行启动操作。
- 停止：对环境内处于**运行中**状态的应用进行停止操作。
- 移除：对环境处处于**已停止**状态的应用进行移除该环境的操作，移除后，将不支持日志查询。
  ![](https://qcloudimg.tencent-cloud.cn/raw/b3a918fb0cdda73350d7184e7d29df06.png)
:::
::: 配置详情
>!独立环境才展示配置详情页面，共享环境目前是共享环境使用，后台默认配置相关参数不可修改。
>
在环境详情页的**应用管理**页签，集中展示了环境配置（对应环境下的使用限制）、Dataway 配置、组件配置等参数配置，用户可根据使用场景修改对应上限值，修改后单击**保存**即可，恢复默认值单击**重新配置**。如下图：
![](https://qcloudimg.tencent-cloud.cn/raw/a38f55a92a49776bed3638b161792d40.png)

- 环境配置
- 使用限制
  - 每秒最大请求数：每秒最多可触发请求多少次。
  - 项目每秒最大请求数：单个项目每秒最多可触发请求多少次。
  - 流每秒最大请求数：单个流每秒最多可触发请求多少次。
  - 最大并发量：系统可支持的最大并发量。
  - 项目最大并发量：项目最大并发量。
  - 流最大并发量：单个流的最大并发量。
- 执行引擎
  - 最大消息大小 ：Message 在内存中的大小限制。
  - 流执行超时时间：流执行超时时间。
  - 内存最大消息大小：超过此大小的消息将保存至 COS 进行处理。
- 环境配置
- 超时时间：DataWay 超时时间，配置后需重启对应集成应用才能生效。
- 组件配置
- DB 
  - Fetch Size：每次最多从数据库查询多少条数据，配置后需重启对应集成应用才能生效。
:::
</dx-tabs>
