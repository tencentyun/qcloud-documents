## 操作场景
运行监控集合了集成应用维度、集成流、连接器维度、组件维度的基本运行情况概览、错误统计的数据上报、API 服务和单个 API 路径维度的监控数据，您可以查看某个集成流在一段时间内的实时及历史运行情况。
关于监控指标中各参数的说明请参见 [监控指标名词解释](#vocabulary)。
> ?目前腾讯云数据连接器的监控管理和 API 监控以项目维度划分，查看日志请先选择对应项目。
![](https://qcloudimg.tencent-cloud.cn/raw/a8587fafb271293b9c753d7ef7ae2643.png)


## 操作步骤
### 监控管理
支持查看实时和历史监控数据，可以通过监控数据分析对应流的运行情况。默认展示当天集成应用的监控概览，若需要查看历史数据，可自定义时间维度后选择对应应用或流点击搜索进行查看。默认展示最近应用的近一天的概览情况。
> !目前控制台支持检索近30天内的监控。若有检索更早期日志的需求，请 [提交工单](https://console.cloud.tencent.com/workorder/category) 联系我们。

#### 应用概览数据查询
1. 登录 [腾讯云数据连接器控制台 > 监控管理 > 监控管理](https://ipaas.cloud.tencent.com/monitor)。
2. 在**监控管理**页面，默认选中全部流即为应用概览数据，支持查看某个应用的应用触发次数、应用执行次数、应该告警次数、应用执行耗时（ms）、应用流量曲线（kb）等应用维度指标。
   ![](https://qcloudimg.tencent-cloud.cn/raw/5c5edb24a54b054502284e09cbca5077.png)
搜索应用监控数据说明：支持按应用名称、版本、集成流（必选全部流）、运行环境、时间等维度来进行搜索。
单击时间下拉，将显示设置搜索时间的面板，支持近5分钟、近15分钟、近1小时、近6小时、近1天、近3天、近7天、今天、昨天、前天、本周、自定义时间区间的时间设置。通过预定义的常用的时间段可快速此区间的日志。
![](https://qcloudimg.tencent-cloud.cn/raw/9c08e5e16f1e55bde7a90a07783fc50c.png)

#### 集成流数据查询
1. 登录 [腾讯云数据连接器控制台 > 监控管理 > 监控管理](https://ipaas.cloud.tencent.com/monitor)。
2. 在**监控管理**页面，选择应用中的某条集成流即可查询集成流概览数据及连接器概览数据。
   - 集成流概览：支持查看某个集成流的集成流执行次数（总次数/成功次数/失败次数）、集成流执行耗时（ms）、集成流流量曲线（kb）等集成流维度指标。
   - 连接器概览：支持查看集成流中连接器的连接器执行次数（总次数/成功次数/失败次数）、连接器执行耗时（ms）、连接器流量曲线（kb）等连接器维度指标。
     ![](https://qcloudimg.tencent-cloud.cn/raw/cc45045a62d55ca5c5cf2a8acdaeb55a.png)
搜索集成流监控数据说明：支持按项目、应用、版本、集成流（必选某个集成流）、运行地域、时间等维度来搜索查看指定集成流的集成流概览和连接器概览。
单击时间下拉，将显示设置搜索时间的面板，支持近5分钟、近15分钟、近1小时、近6小时、近1天、近3天、近7天、今天、昨天、前天、本周、自定义时间区间的时间设置。通过预定义的常用的时间段可快速此区间的日志。
![](https://qcloudimg.tencent-cloud.cn/raw/96d8e4c203486bcba8ed445c7b8a9c03.png)



### 错误管理
> !目前控制台支持检索近一个月的错误统计内容。若有检索更早期日志的需求，请 [提交工单](https://console.cloud.tencent.com/workorder/category) 联系我们。

#### 查看错误统计列表
支持对运行失败的应用的错误次数和错误类型等数据进行集中展示及快速处理。
支持通过项目、应用、错误状态、环境/地域、集成流、错误类型、时间等维度来进行搜索。列表如下：
- 错误应用统计：应用运行失败，应用中所有集成流的出现错误的总次数。 
- 错误类型统计：应用运行失败，应用中所有错误类型的出现总次数。
- 错误状态：已处理的错误不在显示，只展示未处理或已忽略。
- 错误类型：将常见的报错分为大类，方便根据错误类型筛选错误流。
- 错误描述：进一步解释报错的详细原因，方便尽快找到错误根源进行处理。
- 所在流：报错出现的集成流名称。
- 环境/地域：报错的应用所属的具体环境/地域。方便尽快定位出现错误的环境。
- 触发时间：集成流触发报错时的具体时间。
  ![](https://qcloudimg.tencent-cloud.cn/raw/fe146590a0c8eadc9b0089b8853ca28b.png)

#### 查看错误
单击**查看错误**将快速跳转到对应报错的集成流界面可快速定位到出现错误的集成流。
![](https://qcloudimg.tencent-cloud.cn/raw/9368b8a4f93d03817056ced11371c32f.png)

#### 忽略/批量忽略
忽略错误的操作，若某个集成流的错误已处理完成，其余相邻时间段内的相同报错可单击对应错误条目的忽略，即可忽略此错误。或者选中对应错误条目后单击批量忽略。
![](https://qcloudimg.tencent-cloud.cn/raw/5e1154c81ecc7a08c5ae1a01edb8f928.png)

### API 监控
支持查看 API 历史监控数据，可以通过监控数据分析对应 API 的运行情况。默认展示近1天的 API 监控概览，若需要查看历史数据，可自定义时间维度后选择对应应用或流单击**搜索**进行查看。

#### 服务维度、API 维度监控数据查询
1. 登录 [腾讯云数据连接器控制台 > 监控管理 > API 监控](https://ipaas.cloud.tencent.com/monitor)。
2. 在 **API 监控**页面，默认展示所选服务维度的“服务请求次数（次）”、“服务请求耗时（ms）”、“服务请求凭证分布（次）”。其中针对请求次数指标可以展示总次数、成功次数、失败次数。针对请求耗时指标可以展示最小值、最大值、平均值、P50、P95、P99、P99.9分位值。下同。
![](https://qcloudimg.tencent-cloud.cn/raw/1de619e06b88c5e70345f598f881bf64.png)
当再筛选栏中选择一个 API 时，可以查看针对所选 API 维度的监控数据，包括“API 请求次数（次）”、“API 请求耗时（ms）”、“API请求凭证分布（次）”指标。
![](https://qcloudimg.tencent-cloud.cn/raw/2d0169ab3212a2bbf04e3ac88ba1fc83.png)
搜索监控数据说明：支持按服务名称、服务版本、API 路径名称、运行环境、时间等维度来进行搜索。
单击时间下拉，将显示设置搜索时间的面板，支持近5分钟、近15分钟、近1小时、近6小时、近1天、近3天、近7天、今天、昨天、前天、本周、自定义时间区间的时间设置。通过预定义的常用的时间段可快速此区间的日志。
![](https://qcloudimg.tencent-cloud.cn/raw/0474c4c0f082b2fb6cb390252d7073fe.png)



### 投递管理
如果用户需要在控制台之外查看或处理集成应用监控数据，我们支持将集成应用监控数据投递到 Prometheus 平台，从而实现对监控数据做后续分析和处理。
用户在创建一个投递任务时，需要选择被投递的集成应用（最多10个）。并且完成目标集群配置，支持进行 BasicAuth 鉴权和免鉴权。
![](https://qcloudimg.tencent-cloud.cn/raw/3708ddcbfac6e2e996a750398772acb7.png)


[](id:vocabulary)
## 监控指标名词解释

<table>
<thead>
<tr>
<th>指标类别</th>
<th>指标名称</th>
<th>指标详解</th>
</tr>
</thead>
<tbody><tr>
<td rowspan="5">应用</td>
<td>应用监控概览</td>
<td>以应用维度对数据进行聚合（选中全部流默认展示应用维度），可以查看选定应用的符合筛选条件的对应数据和图表信息。</td>
</tr>
<tr>
<td>应用触发次数（次）</td>
<td>统计某应用下全部流被触发的次数之和，涵盖 Scheduler、HTTP Listener、Kafka Consumer 等触发器。触发一次会执行所引用的所有流，因此应用触发次数不超过应用执行次数。				</td>
</tr>
<tr>
<td>应用执行次数（次）</td>
<td>统计某应用下全部流被执行的次数之和，分为总次数、成功次数、失败次数。以“近1天（粒度10分钟）的总次数”为例，折线上每个值是指近10分钟内该应用被执行的总次数。				</td>
</tr>
<tr>
<td>应用执行耗时（ms）</td>
<td>统计某应用被执行所耗时间。以“近1天（粒度10分钟）的 P99.9 分位值”为例，折线上每个值是将近10分钟内该应用全部耗时数据正序排列后第99.9分位的值，即99.9%的耗时数据都不超过该值。其余分位值同理。				</td>
</tr>
<tr>
<td>应用消耗流量（kb）</td>
<td>统计某应用被执行所耗流量。以“近1天（粒度10分钟）的 P99.9 分位值”为例，折线上每个值是将近10分钟内该应用全部流量数据正序排列后第99.9分位的值，即99.9%的流量数据都不超过该值。其余分位值同理。	</td>
</tr>

<td rowspan="4">集成流</td>
<td>集成流监控概览</td>
<td>以流维度对数据进行聚合，可以查看选定应用的选定流的符合筛选条件的对应数据和图表信息。</td>
</tr>
<tr>
<td>集成流执行次数（次）</td>
<td>统计某条流被执行的次数，分为总次数、成功次数、失败次数。以“近1天（粒度10分钟）的总次数”为例，折线上每个值是指近10分钟内该流被执行的总次数。				</td>
</tr>
<tr>
<td>集成流执行耗时（ms）</td>
<td>统计某条流被执行所耗时间。以“近1天（粒度10分钟）的 P99.9 分位值”为例，折线上每个值是将近10分钟内该流全部耗时数据正序排列后第99.9分位的值，即99.9%的耗时数据都不超过该值。其余分位值同理。				</td>
</tr>
<tr>
<td>集成流消耗流量（kb）</td>
<td>统计某条流被执行所耗流量。以“近1天（粒度10分钟）的 P99.9 分位值”为例，折线上每个值是将近10分钟内该流全部流量数据正序排列后第99.9分位的值，即99.9%的流量数据都不超过该值。其余分位值同理。				</td>
</tr>

<tr>
<td rowspan="4">触发器</td>
<td>连接器监控概览</td>
<td>以连接器维度对数据进行聚合，只会统计被执行的连接器的情况，可以查看选定应用的选定流的选定连接器的符合筛选条件的对应数据和图表信息。</td>
</tr>
<tr>
<td>连接器执行次数（次）</td>
<td>统计某条流下各连接器被执行的次数，分为总次数、成功次数、失败次数。以“近1天（粒度10分钟）的总次数”为例，折线上每个值是指近10分钟内该连接器被执行的总次数。				</td>
</tr>
<tr>
<td>连接器执行耗时（ms）</td>
<td>统计某条流下各连接器被执行所耗时间。以“近1天（粒度10分钟）的 P99.9 分位值”为例，折线上每个值是将近10分钟内该连接器全部耗时数据正序排列后第99.9分位的值，即99.9%的耗时数据都不超过该值。其余分位值同理。				</td>
</tr>
<tr>
<td>连接器消耗流量（kb）</td>
<td>统计某条流下各连接器被执行所耗流量。以“近1天（粒度10分钟）的 P99.9 分位值”为例，折线上每个值是将近10分钟内该连接器全部流量数据正序排列后第99.9分位的值，即99.9%的流量数据都不超过该值。其余分位值同理。				</td>
</tr>

</tbody></table>
