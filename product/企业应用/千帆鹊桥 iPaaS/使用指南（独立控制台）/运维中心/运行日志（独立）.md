## 操作场景
运行日志集合了集成应用基本运行日志详情、定时任务管理（以 scheduler 为触发器的流）和 API 运行日志，您可以查看某个集成流在一段时间内的实时及历史运行日志情况。
> ?目前腾讯云数据连接器的运行日志以项目维度划分，查看日志前请先选择对应项目。
 ![](https://qcloudimg.tencent-cloud.cn/raw/61e8d1be6104407ee74ebd18398750a1.png)

## 操作步骤
### 运行日志
#### 步骤1：查询运行日志
运行日志支持查看历史日志和实时日志，可以通过日志信息回溯一次作业的运行情况和消息数据。
> !目前控制台支持检索近一个月的运行日志。若有检索更早期日志的需求，请 [提交工单](https://console.cloud.tencent.com/workorder/category) 联系我们。

1. 登录 [腾讯云数据连接器控制台](https://ipaas.cloud.tencent.com/login)，进入**运行日志** > [**运行日志**](https://ipaas.cloud.tencent.com/log) 页面。
2. 在 **运行日志**页面，默认展示最近应用的近30分钟的运行日志，日志按就近原则进行排序，日志列表包括：
   - 运行时间：产生日志的时间。
   - 日志级别：不同级别的日志采用不同颜色的图标标记。
   - 作业标识：产生日志时运行的标记，通过作业标识可将一次运行的日志全部找出来，便于分析。
   - 集成流名称：产生日志的集成流。
   - 组件/连接器：产生日志的组件或连接器。
   - 操作名称：产品日志时的操作。
   - 日志类别：如果是 Logger 组件输出的日志，记录用户自定义的日志类别，其它组件或连接器则记录默认的输出事件。
   - 环境：应用运行的环境。
   - 日志内容：日志内容摘要。
     ![](https://qcloudimg.tencent-cloud.cn/raw/0501742b8c333eeaf64e9277c2a688e5.png)
     搜索日志说明：支持按应用名称、版本、集成流名称、运行环境、日志级别、作业标识、日志内容、时间等维度来进行搜索。
单击时间下拉，将显示设置搜索时间的面板，支持近5分钟、近15分钟、近1小时、近6小时、近1天、近3天、近7天、近30天、今天、昨天、前天、本周、上周、自定义时间区间的时间设置。通过预定义的常用的时间段可快速此区间的日志。
     ![](https://qcloudimg.tencent-cloud.cn/raw/f1f18f7c20fd81e389b44671f927ae3f.png)
 - 支持自动刷新日志的能力：单击**自动刷新**开关将显示刷新间隔时间。设置自动刷新时间后将根据间隔时间不断刷新日志。
    ![](https://qcloudimg.tencent-cloud.cn/raw/f7fc97b82952aa203be3e99777f438c4.png)
 - 查看日志详情：单击某日志内容，右侧展示日志的详情。
    ![](https://qcloudimg.tencent-cloud.cn/raw/374e8decb6558f3305a1c7be6e72234e.png)

#### 步骤2：通过作业标识快速搜索
集成流运行一次产生一个作业标识，通过作业标识来标记集成流在一次运行过程中产生的日志，通过作业标识来快速搜索出集成流一次运行中所有生产的日志。
![](https://qcloudimg.tencent-cloud.cn/raw/53b97716748c4c8a16f2a0f1af949280.png)
快速搜索出一次运行的所有日志。
![](https://qcloudimg.tencent-cloud.cn/raw/5cb35fa4d57c9722e19ebbb069dd9935.png)

#### 步骤3：重试集成任务
在发布上线后，为了给集成项目保驾护航，腾讯云数据连接器已完善集成流监控指标，增加可靠性分析能力。当触发集成任务发布失败时允许自动重试或者用户手动重试，避免数据丢失。
- 自动重试：后台自动执行，若自动重试成功则更新控制台此条日志状态为成功，不记录之前失败的日志。
- 手动重试：若自动重试的最终结果是失败，则会更新控制台此条日志状态为失败，允许用户手动重试。
  ![](https://qcloudimg.tencent-cloud.cn/raw/a189cd8762cc61e6414882a13ceecdb3.png)

#### 步骤4：下载日志
运行日志提供日志下载功能。单击**下载日志**即可下载日志。
![](https://qcloudimg.tencent-cloud.cn/raw/32cc4ce7fd7027bced5e6f056a7159e9.png)



### 定时任务管理
对于使用了 Scheduler 组件，根据制定规则定时触发集成流的应用，支持查看30天内流运行详情，包括集成应用的触发时间、结束时间、状态及对应操作的详细列表。  
> !目前控制台支持检索30天内定时任务内容。若有检索更早期日志的需求，请 [提交工单](https://console.cloud.tencent.com/workorder/category) 联系我们。

1. 登录腾讯云数据连接器控制台，进入**运行日志** > [**定时任务**](https://ipaas.cloud.tencent.com/log) 页面。
2. 在 **定时任务**页面，默认展示最近应用的近30分钟的定时任务运行日志，日志按就近原则进行排序，日志列表包括：
   - 触发时间：触发应用的时间。
   - 结束时间：触发完毕的时间。
   - 状态：执行成功/失败的状态。
   - 作业标识：产生日志时运行的标记，通过作业标识可将一次运行的日志全部找出来，便于分析。
   - 集成流名称：产生日志的集成流。
   - 环境：应用运行的环境。
   - 操作：查看日志详情。
     ![](https://qcloudimg.tencent-cloud.cn/raw/ea7ea758e87d52561b842e3c0d5743d3.png)
搜索日志说明：支持按应用名称、版本、集成流名称、运行环境、作业标识、时间等维度来进行搜索。
单击时间下拉，将显示设置搜索时间的面板，支持近5分钟、近15分钟、近1小时、近6小时、近1天、近3天、近7天、近30天、今天、昨天、前天、本周、上周、自定义时间区间的时间设置。通过预定义的常用的时间段可快速此区间的日志。
![](https://qcloudimg.tencent-cloud.cn/raw/c48cd2fe86a20798501fc4444451574e.png)


### API 运行日志
API 运行日志集合了全部 API 服务基本运行日志详情，您可以查看某个 API 服务在一段时间内的实时及历史运行日志情况。

#### 查询运行日志
运行日志支持查看历史日志和实时日志，可以通过日志信息回溯一次作业的运行情况和消息数据。
> !目前控制台支持检索近7天的运行日志。若有检索更早期日志的需求，请 [提交工单](https://console.cloud.tencent.com/workorder/category) 联系我们。

1. 登录腾讯云数据连接器控制台，进入**运行日志** > [**API 运行日志**](https://ipaas.cloud.tencent.com/log) 页面。
2. 在 **API 运行日志**页面，默认展示最近应用的近30分钟的 API 运行日志，日志按就近原则进行排序。
![](https://qcloudimg.tencent-cloud.cn/raw/d8dbc2562f0270925c8efd8f7a854f10.png)
支持按照以下条件搜索 API 运行日志：API 服务名称、API 服务状态、请求路径、部署环境、日志级别、调用和订阅凭证、作业标识、时间。
按时间维度搜索时，时间跨度不能超过7天 。
单击时间下拉，将显示设置搜索时间的面板，支持近5分钟、近15分钟、近1小时、近6小时、近1天、近3天、近7天、近30天、今天、昨天、前天、本周、上周、自定义时间区间的时间设置。通过预定义的常用的时间段可快速此区间的日志。
![](https://qcloudimg.tencent-cloud.cn/raw/3bbb744dec21feac120a2cce5543e9be.png)

#### 下载日志
运行日志提供日志下载功能。单击**下载日志**即可下载日志。
![](https://qcloudimg.tencent-cloud.cn/raw/168413f301d129603b66eead19338835.png)

#### 设置列
可根据您的需求，自定义日志展示的列字段。
![](https://qcloudimg.tencent-cloud.cn/raw/e1f221b8b6ae78bdd28ddd65afc304da.png)


### 投递管理
为了满足用户对集成应用运行日志的后续分析和处理需求，我们支持将集成应用运行日志投递到 Kafka、ElasticSearch、CLS 平台上，从而灵活实现后续数据查看和处理。不同投递类型需要完成不同的配置内容，具体如下：

#### 投递到 Kafka
![](https://qcloudimg.tencent-cloud.cn/raw/b95fb8caa1a40916d5f786c2e93ab79f.png)


#### 投递到 ElasticSearch
![](https://qcloudimg.tencent-cloud.cn/raw/e06b40691684b79be38bd7ddee188fae.png)

#### 投递到 CLS
![](https://qcloudimg.tencent-cloud.cn/raw/654ba1963ddee0316e00a74fb72c9147.png)
