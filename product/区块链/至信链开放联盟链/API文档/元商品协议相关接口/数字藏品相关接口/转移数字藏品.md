

## 场景描述

转移数字藏品实现将数字藏品从一个地址转移到另一个地址。目前转移接口只支持数字藏品发行方发行后，无偿转移到数字藏品申领者地址中。

## 场景交互图
![](https://qcloudimg.tencent-cloud.cn/raw/274590cffcfb2d7d488169959bbf9d26.png)

流程如下：

1. 数字藏品持有者发起转移请求，经由平台转发到至信链。
2. 数字藏品平台查询转移任务，成功后返回状态。
3. （非必要）数字藏品平台可以通过 nftId 查询数字藏品信息、数字藏品交易记录等信息。

在需要一次转移多个数字藏品的场景中，可以使用 `api/v1/数字藏品/batch_transfer` 来批量转移。

## 相关接口



### 数字藏品转移

api/v1/nft/transfer

#### 鉴权方式

方案二

#### 请求方式

POST

#### 请求参数

|  字段名       	|  类型   	|  是否必填 	|  描述                                                                                                    	|
|---------------	|---------	|-----------	|----------------------------------------------------------------------------------------------------------	|
|  pubKey       	|  string 	|  是       	|  数字藏品可操作者的公钥                                                                                  	|
|  receiverAddr 	|  string 	|  是       	|  数字藏品接收者的地址                                                                                    	|
|  nftId   	|  string 	|  是       	|  要转移的数字藏品 Id                                                                                      	|
|  operateId    	|  string 	|  是       	|  请求 ID，每个请求需要填唯一的 id，重复请求用相同的 id。                                                    	|
|  signature    	|  string 	|  是       	|  操作者的私钥签名，签名对象是 (pubKey_receiverAddr_接口名_数字藏品 Id_operateId) <br>接口名：数字藏品_transfer 	|

#### 响应参数
|  字段名  	|  类型   	|  是否必填 	|  描述                                        	|
|----------	|---------	|-----------	|----------------------------------------------	|
|  retCode 	|  int    	|  是       	|  返回状态码，取值：0-成功， 其他-失败        	|
|  retMsg  	|  string 	|  是       	|  返回信息，取值：成功为 OK, 失败-错误原因说明 	|
|  data    	|  json   	|  是       	|                   -                           	|

data 结构如下：

|  字段名 	|  类型   	|  是否必填 	|  描述                                        	|
|---------	|---------	|-----------	|----------------------------------------------	|
|  taskId 	|  string 	|  是       	|  任务 ID                                      	|


---
### 数字藏品批量转移

api/v1/nft/batch_transfer


#### 鉴权方式

方案二

#### 请求方式

POST

#### 请求参数

 |  字段名       	|  类型   	|  是否必填 	|  描述                                                                                                                                                                        	|
|---------------	|---------	|-----------	|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------	|
|  pubKey       	|  string 	|  是       	|  数字藏品可操作者的公钥                                                                                                                                                      	|
|  receiverAddr 	|  string 	|  是       	|  数字藏品接收者的地址                                                                                                                                                        	|
|  nftIds  	|  string 	|  是       	|  要转移的数字藏品 Id 列表，需按照字母序排列。最大 30 个                                                                                                                          	|
|  operateId    	|  string 	|  是       	|  请求 ID，每个请求需要填唯一的 id，重复请求用相同的 id。                                                                                                                        	|
|  signature    	|  string 	|  是       	|  操作者的私钥签名，签名对象是 `ownerPubKey_receiverAddr_接口名_数字藏品 Ids_operateId` （数字藏品 Ids 按字母序 + 下划线分隔，如 xxx_1,xxx_2 拼接后为 xxx_1_xxx_2) <br>接口名：transferBatch 	|

#### 响应参数

|  字段名  	|  类型   	|  是否必填 	|  描述                                        	|
|----------	|---------	|-----------	|----------------------------------------------	|
|  retCode 	|  int    	|  是       	|  返回状态码，取值：0-成功， 其他-失败        	|
|  retMsg  	|  string 	|  是       	|  返回信息，取值：成功为 OK, 失败-错误原因说明 	|
|  data    	|  object 	|  是       	|  包体                                        	|

data

|  字段名 	|  类型   	|  是否必填 	|  描述                                        	|
|---------	|---------	|-----------	|----------------------------------------------	|
|  taskId 	|  string 	|  是       	|  任务 ID                                      	|


---
### 数字藏品转移状态查询

api/v1/nft/transfer/result

#### 鉴权方式

方案二

#### 请求方式

GET

#### 请求参数

|  字段名         	|  类型   	|  是否必填 	|  描述                   	|
|-----------------	|---------	|-----------	|-------------------------	|
|  operatorPubKey 	|  string 	|  是       	|  数字藏品可操作者的公钥 	|
|  taskId         	|  string 	|  是       	|  查询任务结果           	|

#### 响应参数

|  字段名  	|  类型   	|  是否必填 	|  描述                                        	|
|----------	|---------	|-----------	|----------------------------------------------	|
|  retCode 	|  int    	|  是       	|  返回状态码，取值：0-成功， 其他-失败        	|
|  retMsg  	|  string 	|  是       	|  返回信息，取值：成功为 OK, 失败-错误原因说明 	|
|  data    	|  json   	|  是       	|            -                                  	|

data 结构如下：

|  字段名         	|  类型   	|  是否必填 	|  描述                                                  	|
|-----------------	|---------	|-----------	|--------------------------------------------------------	|
|  taskStatus     	|  int    	|  是       	|  标记任务状态。<br>任务执行中：2  <br>任务成功：7 <br>  任务失败：10 	|
|  taskMsg        	|  string 	|  是       	|  失败情况下会有提示信息                                	|
|  txHash         	|  string 	|  是       	|  交易 hash                                              	|
|  chainTimestamp 	|  int64  	|  是       	|  链上交易时间戳                                        	|
